<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="UTF-8">
    <link rel="icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAAXNSR0IArs4c6QAACwdJREFUeF7tnUGMHMUVQH/NYi6Ig2cJiziibVtKJHPLOQhkBAc44RwSO5Fiy7gXOUoEEZESEYtIiWKUKBZuY9mREjuREpwLHEBYIHLODUtEwm1xRFnC9h4QF4ynkl7v2rvO7kx3TXVP1a+316lf9f/7/6l3ekY9RviDAAR2JGBgAwEI7EwAQZgOCIwhgCCMBwQQhBmAgBsBriBu3IhKhMBUgtx79pP7dt344hER+00rZsGILFiRuxNhR5kBEjAiX1qRZSN2WcT88/rcPe9/fvTBz1xTdRJk/tWPHpXB4LgVecr1YOIg0BcBI/KmjEanVp7b+17bM1sLMizKcyJyuO1BrIdAAATOV3l2pE0erQQZFlc/EDH72hzAWgiERcBeqfI9DzfNqbEgw6K0TTdlHQRCJ1DlWaPZb7RoWJRvicgToRdNfhBoQeDtKs+enLR+oiC855iEkNcjJjDxPclYQeq7VXYweDdiAKQOgbEEzGj02Li7W+MFKco3uJXLhGkmUN8CXsmzp3eqcUdB7j/38cJX12/8WzMcaoNATeCuXXMPfHrkoeXtaOwoyPyZ8qC1cgGEENBOwBg5tHIsu9hKkGFx9aSIeV47HOqDgIh9pcr3vNBKkN1FecGIHAQfBLQTsCIXV/PsUCtBhkX5jojs1w6H+iAgIperPHu8lSC7i/J9I/It8EFAOwEr8o/VPHsEQbR3mvqcCCCIEzaCUiGAIKl0mjqdCCCIEzaCUiGAIKl0mjqdCCCIEzaCUiGAIKl0mjqdCCCIEzaCUiGAIKl0mjqdCCCIEzaCUiGAIKl0mjqdCCCIEzaCUiGAIKl0mjqdCCCIEzaCUiGAIKl0mjqdCCCIEzaCUiGAIKl0mjqdCCCIEzaCUiGQiiAfrjf0G1E11o5OiBm8FFXOypJNQZAPZSAH1vo2ktdFJA5J7OhEtbT3F8Pi2ssi9mfK5i6acrQLsiZH9Wz2r7ojw9fKr0chybocG1O0+3T5K2PkxWimSlGimgXZIsdGz4KX5A45buVdXPuNiN32AWaK5jG4UrQKsq0cwUuygxy38j5d/laM/Ci4KVKckEZBxsoRrCQT5LgtybXfi7HHFc9kUKVpE6SRHMFJ0lCOTe9JThsjeVCTpDQZTYK0kiMYSVrKcSvvM9deE2uPKp3LYMrSIoiTHDOXxFGO22/cy/Mi8oNgpklhIhoEmUqOmUkypRyb7m79UcR+T+FsBlFS7IJ4kaN3STzJsZH3/Jnyz9bKd4KYKGVJxCyIVzl6k8SzHJv+3fqriHxb2XzOvBwE2aYFnX2Y2JEcdQnDoqy/RvPMzCdKWQIxC1K3opOryNrA+f5aCnJEqU7sgsQhCXJEKUedtAZBwpYEOaKVQ5MgYUqCHFHLoU2QsCRBjujl0ChIGJIghwo5tAoyW0mQQ40cmgWZjSTIoUoO7YL0KwlyqJMjBUH6kcSO/l4/YKGLCeET8i6oNt9Ty+cgkyru9BP3jYdCTEqi7evI0ZaY//WpCNLplcR/W/huVRdMXfZMSZBoJOHK4TLK3cSkJkjwkiBHN4PuumuKggQrCXK4jnF3cakKEpwkyNHdkE+zc8qCBCMJckwzwt3Gpi7IzCVBjm4HfNrdEeQmwc4+JxnXIOSYdny7j0eQ24x7lQQ5uh9uHycgyFaKvUiCHD5Gt589EOT/OXcqCXL0M9i+TkGQO0l2+K3c+qhhUdaP5qkf0cNfBAQQZHOTOpZj4ygkicCM9RQRZKNXPcmBJPHIUWeKIGsUbv5gZt+t40rSN/H25yHIjOTgStJ+WGcRkbYgM5YDSWYx8u3OTFeQQORAknYD2/fqNAUJTA4k6Xvsm5+XniCByoEkzYe2z5VpCRK4HEjS5+g3OysdQSKRA0maDW5fq9IQpEM51r9bdanKs0u+m8bnJL6Jtt9PvyDdy7Hxs2cHkKT9AIYeoVuQ/uTY6DOShD7xLfPTK0j/ciBJy+GLYblOQWYnB5LEMPUtctQnyOzlQJIWAxj6Ul2ChCMHkoQ++Q3z0yNIeHIgScMhDHmZDkHClQNJQp7+BrnFL0j4ciBJg0EMdUncgsQjB5KEasCEvOIVJD45kCRCSeIVZA22+WWVL/7cJ/eenlvl9RN3vrPlcwK27hW5ICLWyq9Xl7Kf+kDUkxxeryTI4aPzO+8RvSA3SzMnq3zxJ9Og6lkOL5IgxzQdbxarRJC1Bxj9rlrKftys7K2rZiTHVJIgh0un28foEaSu3ZpT1dLiD9tgmLEcTpIgR5sOT7dWlyC1I1aK1aVsqQmWQORoJQlyNOmsvzXqBLn5lsScrY4tPjsOU2ByNJIEOfwNftOddApys/o/VHl2eDsQgcoxVhLkaDrSftdpFqS+lPypyhe/vxlZ4HJsKwly+B36NrspF6T+b0v+snIs+24NJRI5tkiCHG3G2f9a9YKsI/ubiAz+92OdGw9Y8E+ymx0P8GM73YBtumsqgjTlwToIbCGAIAwEBMYQQBDGAwIIwgxAwI0AVxA3bkQlQgBBEmk0ZboRQBA3bkQlQgBBEmk0ZboRQBA3bkQlQgBBEmk0ZboRQBA3bkQlQgBBEmk0ZboRQBA3bkQlQgBBEmk0ZboRQBA3bkQlQgBBEmk0ZboRQBA3bkQlQgBBEmk0ZboRQBA3bkQlQgBBEmk0ZboRQBA3bkQlQgBBEmk0ZboRQBA3bkQlQgBBEmk0ZboRQBA3bkQlQgBBEmk0ZboRQBA3bkQlQgBBEmk0ZboRQBA3bkQlQgBBEmk0ZboRQBA3bkQlQgBBEmk0ZboRQBA3bkQlQgBBEmk0ZboRQBA3bkQlQgBBEmk0ZboRQBA3bkQlQgBBEmk0ZboRQBA3bkQlQgBBEmk0ZboRQBA3bkQlQgBBEmk0ZboRQBA3bkQlQgBBEmk0ZboRQBA3bkQlQgBBYmq0HZ2IKd1OczWDlzrdf31zBOmDsqczqjwznraKfpthUdo+ikCQPih7OgNBboNEEE9DpWkbBEEQTfPsvRYEQRDvQ6VpQwRBEE3z7L0WBEEQ70OlaUMEQRBN8+y9FgRBEO9DpWlDBEEQTfPsvRYEQRDvQ6VpQwRBEE3z7L0WBEEQ70OlaUMEQRBN80wtCgjwZUUFTaSE7gggSHds2VkBAQRR0ERK6I4AgnTHlp0VEEAQBU2khO4IIEh3bNlZAQEEUdBESuiOAIJ0x5adFRBAEAVNpITuCCBId2zZWQEBBFHQRErojgCCdMeWnRUQcBJkWJTviMh+BfVTAgQmEbhc5dnj2y3a8TGXu4vyghE5OGlnXodA7ASsyMXVPDvUSpBhcfWkiHk+9uLJHwKTCdhXqnzPCy0FKZ8Rkdcnb84KCERP4ECVZ5daCXLv2U/u23Xji/9EXzoFQGACgetz93zt86MPftZKkHrxfFG+YUWegjAEtBIwIm+u5NnTO9U39rco5l/96FE7GLyrFQ51QcCMRo+tPLf3PSdB6qBhUZ4TkcOghIBCAuerPDsyrq5Gv2Y0LK5+IGL2KQRESckSsFeqfM/Dk8pvJMj6laSXn8OalDCvQ8AHgaaPV2osyLokb4nIEz4SZA8IzIjA21WePdn07FaC8J6kKVbWBUpg4nuOO/NuLUi9QX13SwaD49wCDnQMSGsLgfpWroxGp8bdrXK+izWO9f3nPl648dWN/dbafVbMghFZsCJ30x8IzIqAEfnSiiwbscvGmCtzd81d/vTIQ8uu+ThdQVwPIw4CsRFAkNg6Rr69EkCQXnFzWGwEECS2jpFvrwQQpFfcHBYbAQSJrWPk2yuB/wJ9Yosyc9URRgAAAABJRU5ErkJggg==">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Managi</title>
    <script type="module" crossorigin>(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const d of a)if(d.type==="childList")for(const p of d.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&r(p)}).observe(document,{childList:!0,subtree:!0});function s(a){const d={};return a.integrity&&(d.integrity=a.integrity),a.referrerPolicy&&(d.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?d.credentials="include":a.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function r(a){if(a.ep)return;a.ep=!0;const d=s(a);fetch(a.href,d)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function On(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const Ae={},Os=[],Rt=()=>{},Th=()=>!1,hi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Pn=e=>e.startsWith("onUpdate:"),je=Object.assign,In=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Ah=Object.prototype.hasOwnProperty,ke=(e,t)=>Ah.call(e,t),de=Array.isArray,Ps=e=>Ar(e)==="[object Map]",ui=e=>Ar(e)==="[object Set]",mo=e=>Ar(e)==="[object Date]",pe=e=>typeof e=="function",$e=e=>typeof e=="string",mt=e=>typeof e=="symbol",xe=e=>e!==null&&typeof e=="object",rl=e=>(xe(e)||pe(e))&&pe(e.then)&&pe(e.catch),il=Object.prototype.toString,Ar=e=>il.call(e),xh=e=>Ar(e).slice(8,-1),nl=e=>Ar(e)==="[object Object]",Mn=e=>$e(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ir=On(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),fi=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},Dh=/-(\w)/g,dt=fi(e=>e.replace(Dh,(t,s)=>s?s.toUpperCase():"")),Oh=/\B([A-Z])/g,ws=fi(e=>e.replace(Oh,"-$1").toLowerCase()),di=fi(e=>e.charAt(0).toUpperCase()+e.slice(1)),Di=fi(e=>e?`on${di(e)}`:""),Qt=(e,t)=>!Object.is(e,t),jr=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},ol=(e,t,s,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:s})},Gr=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Ph=e=>{const t=$e(e)?Number(e):NaN;return isNaN(t)?e:t};let vo;const _i=()=>vo||(vo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function dr(e){if(de(e)){const t={};for(let s=0;s<e.length;s++){const r=e[s],a=$e(r)?Nh(r):dr(r);if(a)for(const d in a)t[d]=a[d]}return t}else if($e(e)||xe(e))return e}const Ih=/;(?![^(]*\))/g,Mh=/:([^]+)/,Bh=/\/\*[^]*?\*\//g;function Nh(e){const t={};return e.replace(Bh,"").split(Ih).forEach(s=>{if(s){const r=s.split(Mh);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Hs(e){let t="";if($e(e))t=e;else if(de(e))for(let s=0;s<e.length;s++){const r=Hs(e[s]);r&&(t+=r+" ")}else if(xe(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const Fh="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Hh=On(Fh);function al(e){return!!e||e===""}function $h(e,t){if(e.length!==t.length)return!1;let s=!0;for(let r=0;s&&r<e.length;r++)s=pi(e[r],t[r]);return s}function pi(e,t){if(e===t)return!0;let s=mo(e),r=mo(t);if(s||r)return s&&r?e.getTime()===t.getTime():!1;if(s=mt(e),r=mt(t),s||r)return e===t;if(s=de(e),r=de(t),s||r)return s&&r?$h(e,t):!1;if(s=xe(e),r=xe(t),s||r){if(!s||!r)return!1;const a=Object.keys(e).length,d=Object.keys(t).length;if(a!==d)return!1;for(const p in e){const i=e.hasOwnProperty(p),n=t.hasOwnProperty(p);if(i&&!n||!i&&n||!pi(e[p],t[p]))return!1}}return String(e)===String(t)}function Wh(e,t){return e.findIndex(s=>pi(s,t))}const ll=e=>!!(e&&e.__v_isRef===!0),me=e=>$e(e)?e:e==null?"":de(e)||xe(e)&&(e.toString===il||!pe(e.toString))?ll(e)?me(e.value):JSON.stringify(e,cl,2):String(e),cl=(e,t)=>ll(t)?cl(e,t.value):Ps(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[r,a],d)=>(s[Oi(r,d)+" =>"]=a,s),{})}:ui(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Oi(s))}:mt(t)?Oi(t):xe(t)&&!de(t)&&!nl(t)?String(t):t,Oi=(e,t="")=>{var s;return mt(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ze;class hl{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ze,!t&&Ze&&(this.index=(Ze.scopes||(Ze.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=Ze;try{return Ze=this,t()}finally{Ze=s}}}on(){Ze=this}off(){Ze=this.parent}stop(t){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0}}}function Bn(e){return new hl(e)}function ul(){return Ze}function Uh(e,t=!1){Ze&&Ze.cleanups.push(e)}let De;const Pi=new WeakSet;class fl{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ze&&Ze.active&&Ze.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Pi.has(this)&&(Pi.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||_l(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,So(this),pl(this);const t=De,s=gt;De=this,gt=!0;try{return this.fn()}finally{gl(this),De=t,gt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Hn(t);this.deps=this.depsTail=void 0,So(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Pi.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){tn(this)&&this.run()}get dirty(){return tn(this)}}let dl=0,nr,or;function _l(e,t=!1){if(e.flags|=8,t){e.next=or,or=e;return}e.next=nr,nr=e}function Nn(){dl++}function Fn(){if(--dl>0)return;if(or){let t=or;for(or=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;nr;){let t=nr;for(nr=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=s}}if(e)throw e}function pl(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function gl(e){let t,s=e.depsTail,r=s;for(;r;){const a=r.prevDep;r.version===-1?(r===s&&(s=a),Hn(r),jh(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=a}e.deps=t,e.depsTail=s}function tn(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(ml(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function ml(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===_r))return;e.globalVersion=_r;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!tn(e)){e.flags&=-3;return}const s=De,r=gt;De=e,gt=!0;try{pl(e);const a=e.fn(e._value);(t.version===0||Qt(a,e._value))&&(e._value=a,t.version++)}catch(a){throw t.version++,a}finally{De=s,gt=r,gl(e),e.flags&=-3}}function Hn(e,t=!1){const{dep:s,prevSub:r,nextSub:a}=e;if(r&&(r.nextSub=a,e.prevSub=void 0),a&&(a.prevSub=r,e.nextSub=void 0),s.subs===e&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let d=s.computed.deps;d;d=d.nextDep)Hn(d,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function jh(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let gt=!0;const vl=[];function rs(){vl.push(gt),gt=!1}function is(){const e=vl.pop();gt=e===void 0?!0:e}function So(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=De;De=void 0;try{t()}finally{De=s}}}let _r=0;class Vh{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class $n{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!De||!gt||De===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==De)s=this.activeLink=new Vh(De,this),De.deps?(s.prevDep=De.depsTail,De.depsTail.nextDep=s,De.depsTail=s):De.deps=De.depsTail=s,Sl(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=De.depsTail,s.nextDep=void 0,De.depsTail.nextDep=s,De.depsTail=s,De.deps===s&&(De.deps=r)}return s}trigger(t){this.version++,_r++,this.notify(t)}notify(t){Nn();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Fn()}}}function Sl(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)Sl(r)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const Xr=new WeakMap,ms=Symbol(""),sn=Symbol(""),pr=Symbol("");function Ge(e,t,s){if(gt&&De){let r=Xr.get(e);r||Xr.set(e,r=new Map);let a=r.get(s);a||(r.set(s,a=new $n),a.map=r,a.key=s),a.track()}}function Mt(e,t,s,r,a,d){const p=Xr.get(e);if(!p){_r++;return}const i=n=>{n&&n.trigger()};if(Nn(),t==="clear")p.forEach(i);else{const n=de(e),f=n&&Mn(s);if(n&&s==="length"){const _=Number(r);p.forEach((h,g)=>{(g==="length"||g===pr||!mt(g)&&g>=_)&&i(h)})}else switch((s!==void 0||p.has(void 0))&&i(p.get(s)),f&&i(p.get(pr)),t){case"add":n?f&&i(p.get("length")):(i(p.get(ms)),Ps(e)&&i(p.get(sn)));break;case"delete":n||(i(p.get(ms)),Ps(e)&&i(p.get(sn)));break;case"set":Ps(e)&&i(p.get(ms));break}}Fn()}function Kh(e,t){const s=Xr.get(e);return s&&s.get(t)}function ks(e){const t=be(e);return t===e?t:(Ge(t,"iterate",pr),ut(e)?t:t.map(Xe))}function gi(e){return Ge(e=be(e),"iterate",pr),e}const zh={__proto__:null,[Symbol.iterator](){return Ii(this,Symbol.iterator,Xe)},concat(...e){return ks(this).concat(...e.map(t=>de(t)?ks(t):t))},entries(){return Ii(this,"entries",e=>(e[1]=Xe(e[1]),e))},every(e,t){return xt(this,"every",e,t,void 0,arguments)},filter(e,t){return xt(this,"filter",e,t,s=>s.map(Xe),arguments)},find(e,t){return xt(this,"find",e,t,Xe,arguments)},findIndex(e,t){return xt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return xt(this,"findLast",e,t,Xe,arguments)},findLastIndex(e,t){return xt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return xt(this,"forEach",e,t,void 0,arguments)},includes(...e){return Mi(this,"includes",e)},indexOf(...e){return Mi(this,"indexOf",e)},join(e){return ks(this).join(e)},lastIndexOf(...e){return Mi(this,"lastIndexOf",e)},map(e,t){return xt(this,"map",e,t,void 0,arguments)},pop(){return Js(this,"pop")},push(...e){return Js(this,"push",e)},reduce(e,...t){return bo(this,"reduce",e,t)},reduceRight(e,...t){return bo(this,"reduceRight",e,t)},shift(){return Js(this,"shift")},some(e,t){return xt(this,"some",e,t,void 0,arguments)},splice(...e){return Js(this,"splice",e)},toReversed(){return ks(this).toReversed()},toSorted(e){return ks(this).toSorted(e)},toSpliced(...e){return ks(this).toSpliced(...e)},unshift(...e){return Js(this,"unshift",e)},values(){return Ii(this,"values",Xe)}};function Ii(e,t,s){const r=gi(e),a=r[t]();return r!==e&&!ut(e)&&(a._next=a.next,a.next=()=>{const d=a._next();return d.value&&(d.value=s(d.value)),d}),a}const qh=Array.prototype;function xt(e,t,s,r,a,d){const p=gi(e),i=p!==e&&!ut(e),n=p[t];if(n!==qh[t]){const h=n.apply(e,d);return i?Xe(h):h}let f=s;p!==e&&(i?f=function(h,g){return s.call(this,Xe(h),g,e)}:s.length>2&&(f=function(h,g){return s.call(this,h,g,e)}));const _=n.call(p,f,r);return i&&a?a(_):_}function bo(e,t,s,r){const a=gi(e);let d=s;return a!==e&&(ut(e)?s.length>3&&(d=function(p,i,n){return s.call(this,p,i,n,e)}):d=function(p,i,n){return s.call(this,p,Xe(i),n,e)}),a[t](d,...r)}function Mi(e,t,s){const r=be(e);Ge(r,"iterate",pr);const a=r[t](...s);return(a===-1||a===!1)&&jn(s[0])?(s[0]=be(s[0]),r[t](...s)):a}function Js(e,t,s=[]){rs(),Nn();const r=be(e)[t].apply(e,s);return Fn(),is(),r}const Gh=On("__proto__,__v_isRef,__isVue"),bl=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(mt));function Xh(e){mt(e)||(e=String(e));const t=be(this);return Ge(t,"has",e),t.hasOwnProperty(e)}class Cl{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,r){if(s==="__v_skip")return t.__v_skip;const a=this._isReadonly,d=this._isShallow;if(s==="__v_isReactive")return!a;if(s==="__v_isReadonly")return a;if(s==="__v_isShallow")return d;if(s==="__v_raw")return r===(a?d?nu:Ll:d?El:wl).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const p=de(t);if(!a){let n;if(p&&(n=zh[s]))return n;if(s==="hasOwnProperty")return Xh}const i=Reflect.get(t,s,Fe(t)?t:r);return(mt(s)?bl.has(s):Gh(s))||(a||Ge(t,"get",s),d)?i:Fe(i)?p&&Mn(s)?i:i.value:xe(i)?a?Rl(i):xr(i):i}}class yl extends Cl{constructor(t=!1){super(!1,t)}set(t,s,r,a){let d=t[s];if(!this._isShallow){const n=Ss(d);if(!ut(r)&&!Ss(r)&&(d=be(d),r=be(r)),!de(t)&&Fe(d)&&!Fe(r))return n?!1:(d.value=r,!0)}const p=de(t)&&Mn(s)?Number(s)<t.length:ke(t,s),i=Reflect.set(t,s,r,Fe(t)?t:a);return t===be(a)&&(p?Qt(r,d)&&Mt(t,"set",s,r):Mt(t,"add",s,r)),i}deleteProperty(t,s){const r=ke(t,s);t[s];const a=Reflect.deleteProperty(t,s);return a&&r&&Mt(t,"delete",s,void 0),a}has(t,s){const r=Reflect.has(t,s);return(!mt(s)||!bl.has(s))&&Ge(t,"has",s),r}ownKeys(t){return Ge(t,"iterate",de(t)?"length":ms),Reflect.ownKeys(t)}}class Yh extends Cl{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const Jh=new yl,Zh=new Yh,Qh=new yl(!0);const rn=e=>e,Mr=e=>Reflect.getPrototypeOf(e);function eu(e,t,s){return function(...r){const a=this.__v_raw,d=be(a),p=Ps(d),i=e==="entries"||e===Symbol.iterator&&p,n=e==="keys"&&p,f=a[e](...r),_=s?rn:t?nn:Xe;return!t&&Ge(d,"iterate",n?sn:ms),{next(){const{value:h,done:g}=f.next();return g?{value:h,done:g}:{value:i?[_(h[0]),_(h[1])]:_(h),done:g}},[Symbol.iterator](){return this}}}}function Br(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function tu(e,t){const s={get(a){const d=this.__v_raw,p=be(d),i=be(a);e||(Qt(a,i)&&Ge(p,"get",a),Ge(p,"get",i));const{has:n}=Mr(p),f=t?rn:e?nn:Xe;if(n.call(p,a))return f(d.get(a));if(n.call(p,i))return f(d.get(i));d!==p&&d.get(a)},get size(){const a=this.__v_raw;return!e&&Ge(be(a),"iterate",ms),Reflect.get(a,"size",a)},has(a){const d=this.__v_raw,p=be(d),i=be(a);return e||(Qt(a,i)&&Ge(p,"has",a),Ge(p,"has",i)),a===i?d.has(a):d.has(a)||d.has(i)},forEach(a,d){const p=this,i=p.__v_raw,n=be(i),f=t?rn:e?nn:Xe;return!e&&Ge(n,"iterate",ms),i.forEach((_,h)=>a.call(d,f(_),f(h),p))}};return je(s,e?{add:Br("add"),set:Br("set"),delete:Br("delete"),clear:Br("clear")}:{add(a){!t&&!ut(a)&&!Ss(a)&&(a=be(a));const d=be(this);return Mr(d).has.call(d,a)||(d.add(a),Mt(d,"add",a,a)),this},set(a,d){!t&&!ut(d)&&!Ss(d)&&(d=be(d));const p=be(this),{has:i,get:n}=Mr(p);let f=i.call(p,a);f||(a=be(a),f=i.call(p,a));const _=n.call(p,a);return p.set(a,d),f?Qt(d,_)&&Mt(p,"set",a,d):Mt(p,"add",a,d),this},delete(a){const d=be(this),{has:p,get:i}=Mr(d);let n=p.call(d,a);n||(a=be(a),n=p.call(d,a)),i&&i.call(d,a);const f=d.delete(a);return n&&Mt(d,"delete",a,void 0),f},clear(){const a=be(this),d=a.size!==0,p=a.clear();return d&&Mt(a,"clear",void 0,void 0),p}}),["keys","values","entries",Symbol.iterator].forEach(a=>{s[a]=eu(a,e,t)}),s}function Wn(e,t){const s=tu(e,t);return(r,a,d)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?r:Reflect.get(ke(s,a)&&a in r?s:r,a,d)}const su={get:Wn(!1,!1)},ru={get:Wn(!1,!0)},iu={get:Wn(!0,!1)};const wl=new WeakMap,El=new WeakMap,Ll=new WeakMap,nu=new WeakMap;function ou(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function au(e){return e.__v_skip||!Object.isExtensible(e)?0:ou(xh(e))}function xr(e){return Ss(e)?e:Un(e,!1,Jh,su,wl)}function kl(e){return Un(e,!1,Qh,ru,El)}function Rl(e){return Un(e,!0,Zh,iu,Ll)}function Un(e,t,s,r,a){if(!xe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const d=a.get(e);if(d)return d;const p=au(e);if(p===0)return e;const i=new Proxy(e,p===2?r:s);return a.set(e,i),i}function es(e){return Ss(e)?es(e.__v_raw):!!(e&&e.__v_isReactive)}function Ss(e){return!!(e&&e.__v_isReadonly)}function ut(e){return!!(e&&e.__v_isShallow)}function jn(e){return e?!!e.__v_raw:!1}function be(e){const t=e&&e.__v_raw;return t?be(t):e}function Vn(e){return!ke(e,"__v_skip")&&Object.isExtensible(e)&&ol(e,"__v_skip",!0),e}const Xe=e=>xe(e)?xr(e):e,nn=e=>xe(e)?Rl(e):e;function Fe(e){return e?e.__v_isRef===!0:!1}function ze(e){return Al(e,!1)}function Tl(e){return Al(e,!0)}function Al(e,t){return Fe(e)?e:new lu(e,t)}class lu{constructor(t,s){this.dep=new $n,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:be(t),this._value=s?t:Xe(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,r=this.__v_isShallow||ut(t)||Ss(t);t=r?t:be(t),Qt(t,s)&&(this._rawValue=t,this._value=r?t:Xe(t),this.dep.trigger())}}function ue(e){return Fe(e)?e.value:e}const cu={get:(e,t,s)=>t==="__v_raw"?e:ue(Reflect.get(e,t,s)),set:(e,t,s,r)=>{const a=e[t];return Fe(a)&&!Fe(s)?(a.value=s,!0):Reflect.set(e,t,s,r)}};function xl(e){return es(e)?e:new Proxy(e,cu)}function hu(e){const t=de(e)?new Array(e.length):{};for(const s in e)t[s]=fu(e,s);return t}class uu{constructor(t,s,r){this._object=t,this._key=s,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Kh(be(this._object),this._key)}}function fu(e,t,s){const r=e[t];return Fe(r)?r:new uu(e,t,s)}class du{constructor(t,s,r){this.fn=t,this.setter=s,this._value=void 0,this.dep=new $n(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=_r-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&De!==this)return _l(this,!0),!0}get value(){const t=this.dep.track();return ml(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function _u(e,t,s=!1){let r,a;return pe(e)?r=e:(r=e.get,a=e.set),new du(r,a,s)}const Nr={},Yr=new WeakMap;let fs;function pu(e,t=!1,s=fs){if(s){let r=Yr.get(s);r||Yr.set(s,r=[]),r.push(e)}}function gu(e,t,s=Ae){const{immediate:r,deep:a,once:d,scheduler:p,augmentJob:i,call:n}=s,f=m=>a?m:ut(m)||a===!1||a===0?Bt(m,1):Bt(m);let _,h,g,v,w=!1,S=!1;if(Fe(e)?(h=()=>e.value,w=ut(e)):es(e)?(h=()=>f(e),w=!0):de(e)?(S=!0,w=e.some(m=>es(m)||ut(m)),h=()=>e.map(m=>{if(Fe(m))return m.value;if(es(m))return f(m);if(pe(m))return n?n(m,2):m()})):pe(e)?t?h=n?()=>n(e,2):e:h=()=>{if(g){rs();try{g()}finally{is()}}const m=fs;fs=_;try{return n?n(e,3,[v]):e(v)}finally{fs=m}}:h=Rt,t&&a){const m=h,C=a===!0?1/0:a;h=()=>Bt(m(),C)}const u=ul(),l=()=>{_.stop(),u&&u.active&&In(u.effects,_)};if(d&&t){const m=t;t=(...C)=>{m(...C),l()}}let o=S?new Array(e.length).fill(Nr):Nr;const c=m=>{if(!(!(_.flags&1)||!_.dirty&&!m))if(t){const C=_.run();if(a||w||(S?C.some((y,E)=>Qt(y,o[E])):Qt(C,o))){g&&g();const y=fs;fs=_;try{const E=[C,o===Nr?void 0:S&&o[0]===Nr?[]:o,v];n?n(t,3,E):t(...E),o=C}finally{fs=y}}}else _.run()};return i&&i(c),_=new fl(h),_.scheduler=p?()=>p(c,!1):c,v=m=>pu(m,!1,_),g=_.onStop=()=>{const m=Yr.get(_);if(m){if(n)n(m,4);else for(const C of m)C();Yr.delete(_)}},t?r?c(!0):o=_.run():p?p(c.bind(null,!0),!0):_.run(),l.pause=_.pause.bind(_),l.resume=_.resume.bind(_),l.stop=l,l}function Bt(e,t=1/0,s){if(t<=0||!xe(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,Fe(e))Bt(e.value,t,s);else if(de(e))for(let r=0;r<e.length;r++)Bt(e[r],t,s);else if(ui(e)||Ps(e))e.forEach(r=>{Bt(r,t,s)});else if(nl(e)){for(const r in e)Bt(e[r],t,s);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Bt(e[r],t,s)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Dr(e,t,s,r){try{return r?e(...r):e()}catch(a){mi(a,t,s)}}function vt(e,t,s,r){if(pe(e)){const a=Dr(e,t,s,r);return a&&rl(a)&&a.catch(d=>{mi(d,t,s)}),a}if(de(e)){const a=[];for(let d=0;d<e.length;d++)a.push(vt(e[d],t,s,r));return a}}function mi(e,t,s,r=!0){const a=t?t.vnode:null,{errorHandler:d,throwUnhandledErrorInProduction:p}=t&&t.appContext.config||Ae;if(t){let i=t.parent;const n=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${s}`;for(;i;){const _=i.ec;if(_){for(let h=0;h<_.length;h++)if(_[h](e,n,f)===!1)return}i=i.parent}if(d){rs(),Dr(d,null,10,[e,n,f]),is();return}}mu(e,s,a,r,p)}function mu(e,t,s,r=!0,a=!1){if(a)throw e;console.error(e)}const Qe=[];let Et=-1;const Is=[];let Gt=null,Ts=0;const Dl=Promise.resolve();let Jr=null;function vi(e){const t=Jr||Dl;return e?t.then(this?e.bind(this):e):t}function vu(e){let t=Et+1,s=Qe.length;for(;t<s;){const r=t+s>>>1,a=Qe[r],d=gr(a);d<e||d===e&&a.flags&2?t=r+1:s=r}return t}function Kn(e){if(!(e.flags&1)){const t=gr(e),s=Qe[Qe.length-1];!s||!(e.flags&2)&&t>=gr(s)?Qe.push(e):Qe.splice(vu(t),0,e),e.flags|=1,Ol()}}function Ol(){Jr||(Jr=Dl.then(Il))}function Su(e){de(e)?Is.push(...e):Gt&&e.id===-1?Gt.splice(Ts+1,0,e):e.flags&1||(Is.push(e),e.flags|=1),Ol()}function Co(e,t,s=Et+1){for(;s<Qe.length;s++){const r=Qe[s];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Qe.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Pl(e){if(Is.length){const t=[...new Set(Is)].sort((s,r)=>gr(s)-gr(r));if(Is.length=0,Gt){Gt.push(...t);return}for(Gt=t,Ts=0;Ts<Gt.length;Ts++){const s=Gt[Ts];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Gt=null,Ts=0}}const gr=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Il(e){try{for(Et=0;Et<Qe.length;Et++){const t=Qe[Et];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Dr(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Et<Qe.length;Et++){const t=Qe[Et];t&&(t.flags&=-2)}Et=-1,Qe.length=0,Pl(),Jr=null,(Qe.length||Is.length)&&Il()}}let We=null,Ml=null;function Zr(e){const t=We;return We=e,Ml=e&&e.type.__scopeId||null,t}function Ms(e,t=We,s){if(!t||e._n)return e;const r=(...a)=>{r._d&&Oo(-1);const d=Zr(t);let p;try{p=e(...a)}finally{Zr(d),r._d&&Oo(1)}return p};return r._n=!0,r._c=!0,r._d=!0,r}function qe(e,t){if(We===null)return e;const s=wi(We),r=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[d,p,i,n=Ae]=t[a];d&&(pe(d)&&(d={mounted:d,updated:d}),d.deep&&Bt(p),r.push({dir:d,instance:s,value:p,oldValue:void 0,arg:i,modifiers:n}))}return e}function cs(e,t,s,r){const a=e.dirs,d=t&&t.dirs;for(let p=0;p<a.length;p++){const i=a[p];d&&(i.oldValue=d[p].value);let n=i.dir[r];n&&(rs(),vt(n,s,8,[e.el,i,e,t]),is())}}const bu=Symbol("_vte"),Bl=e=>e.__isTeleport,Xt=Symbol("_leaveCb"),Fr=Symbol("_enterCb");function Nl(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Xs(()=>{e.isMounted=!0}),zl(()=>{e.isUnmounting=!0}),e}const ct=[Function,Array],Fl={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ct,onEnter:ct,onAfterEnter:ct,onEnterCancelled:ct,onBeforeLeave:ct,onLeave:ct,onAfterLeave:ct,onLeaveCancelled:ct,onBeforeAppear:ct,onAppear:ct,onAfterAppear:ct,onAppearCancelled:ct},Hl=e=>{const t=e.subTree;return t.component?Hl(t.component):t},Cu={name:"BaseTransition",props:Fl,setup(e,{slots:t}){const s=Cs(),r=Nl();return()=>{const a=t.default&&zn(t.default(),!0);if(!a||!a.length)return;const d=$l(a),p=be(e),{mode:i}=p;if(r.isLeaving)return Bi(d);const n=yo(d);if(!n)return Bi(d);let f=mr(n,p,r,s,h=>f=h);n.type!==et&&bs(n,f);let _=s.subTree&&yo(s.subTree);if(_&&_.type!==et&&!ds(n,_)&&Hl(s).type!==et){let h=mr(_,p,r,s);if(bs(_,h),i==="out-in"&&n.type!==et)return r.isLeaving=!0,h.afterLeave=()=>{r.isLeaving=!1,s.job.flags&8||s.update(),delete h.afterLeave,_=void 0},Bi(d);i==="in-out"&&n.type!==et?h.delayLeave=(g,v,w)=>{const S=Wl(r,_);S[String(_.key)]=_,g[Xt]=()=>{v(),g[Xt]=void 0,delete f.delayedLeave,_=void 0},f.delayedLeave=()=>{w(),delete f.delayedLeave,_=void 0}}:_=void 0}else _&&(_=void 0);return d}}};function $l(e){let t=e[0];if(e.length>1){for(const s of e)if(s.type!==et){t=s;break}}return t}const yu=Cu;function Wl(e,t){const{leavingVNodes:s}=e;let r=s.get(t.type);return r||(r=Object.create(null),s.set(t.type,r)),r}function mr(e,t,s,r,a){const{appear:d,mode:p,persisted:i=!1,onBeforeEnter:n,onEnter:f,onAfterEnter:_,onEnterCancelled:h,onBeforeLeave:g,onLeave:v,onAfterLeave:w,onLeaveCancelled:S,onBeforeAppear:u,onAppear:l,onAfterAppear:o,onAppearCancelled:c}=t,m=String(e.key),C=Wl(s,e),y=(L,T)=>{L&&vt(L,r,9,T)},E=(L,T)=>{const M=T[1];y(L,T),de(L)?L.every(O=>O.length<=1)&&M():L.length<=1&&M()},b={mode:p,persisted:i,beforeEnter(L){let T=n;if(!s.isMounted)if(d)T=u||n;else return;L[Xt]&&L[Xt](!0);const M=C[m];M&&ds(e,M)&&M.el[Xt]&&M.el[Xt](),y(T,[L])},enter(L){let T=f,M=_,O=h;if(!s.isMounted)if(d)T=l||f,M=o||_,O=c||h;else return;let D=!1;const K=L[Fr]=Y=>{D||(D=!0,Y?y(O,[L]):y(M,[L]),b.delayedLeave&&b.delayedLeave(),L[Fr]=void 0)};T?E(T,[L,K]):K()},leave(L,T){const M=String(e.key);if(L[Fr]&&L[Fr](!0),s.isUnmounting)return T();y(g,[L]);let O=!1;const D=L[Xt]=K=>{O||(O=!0,T(),K?y(S,[L]):y(w,[L]),L[Xt]=void 0,C[M]===e&&delete C[M])};C[M]=e,v?E(v,[L,D]):D()},clone(L){const T=mr(L,t,s,r,a);return a&&a(T),T}};return b}function Bi(e){if(Si(e))return e=ts(e),e.children=null,e}function yo(e){if(!Si(e))return Bl(e.type)&&e.children?$l(e.children):e;const{shapeFlag:t,children:s}=e;if(s){if(t&16)return s[0];if(t&32&&pe(s.default))return s.default()}}function bs(e,t){e.shapeFlag&6&&e.component?(e.transition=t,bs(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function zn(e,t=!1,s){let r=[],a=0;for(let d=0;d<e.length;d++){let p=e[d];const i=s==null?p.key:String(s)+String(p.key!=null?p.key:d);p.type===Be?(p.patchFlag&128&&a++,r=r.concat(zn(p.children,t,i))):(t||p.type!==et)&&r.push(i!=null?ts(p,{key:i}):p)}if(a>1)for(let d=0;d<r.length;d++)r[d].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function nt(e,t){return pe(e)?je({name:e.name},t,{setup:e}):e}function Ul(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Qr(e,t,s,r,a=!1){if(de(e)){e.forEach((w,S)=>Qr(w,t&&(de(t)?t[S]:t),s,r,a));return}if(Bs(r)&&!a){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Qr(e,t,s,r.component.subTree);return}const d=r.shapeFlag&4?wi(r.component):r.el,p=a?null:d,{i,r:n}=e,f=t&&t.r,_=i.refs===Ae?i.refs={}:i.refs,h=i.setupState,g=be(h),v=h===Ae?()=>!1:w=>ke(g,w);if(f!=null&&f!==n&&($e(f)?(_[f]=null,v(f)&&(h[f]=null)):Fe(f)&&(f.value=null)),pe(n))Dr(n,i,12,[p,_]);else{const w=$e(n),S=Fe(n);if(w||S){const u=()=>{if(e.f){const l=w?v(n)?h[n]:_[n]:n.value;a?de(l)&&In(l,d):de(l)?l.includes(d)||l.push(d):w?(_[n]=[d],v(n)&&(h[n]=_[n])):(n.value=[d],e.k&&(_[e.k]=n.value))}else w?(_[n]=p,v(n)&&(h[n]=p)):S&&(n.value=p,e.k&&(_[e.k]=p))};p?(u.id=-1,at(u,s)):u()}}}_i().requestIdleCallback;_i().cancelIdleCallback;const Bs=e=>!!e.type.__asyncLoader,Si=e=>e.type.__isKeepAlive;function wu(e,t){jl(e,"a",t)}function Eu(e,t){jl(e,"da",t)}function jl(e,t,s=Ke){const r=e.__wdc||(e.__wdc=()=>{let a=s;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(bi(t,r,s),s){let a=s.parent;for(;a&&a.parent;)Si(a.parent.vnode)&&Lu(r,t,s,a),a=a.parent}}function Lu(e,t,s,r){const a=bi(t,e,r,!0);Ci(()=>{In(r[t],a)},s)}function bi(e,t,s=Ke,r=!1){if(s){const a=s[e]||(s[e]=[]),d=t.__weh||(t.__weh=(...p)=>{rs();const i=Pr(s),n=vt(t,s,e,p);return i(),is(),n});return r?a.unshift(d):a.push(d),d}}const Ut=e=>(t,s=Ke)=>{(!Sr||e==="sp")&&bi(e,(...r)=>t(...r),s)},Vl=Ut("bm"),Xs=Ut("m"),ku=Ut("bu"),Kl=Ut("u"),zl=Ut("bum"),Ci=Ut("um"),Ru=Ut("sp"),Tu=Ut("rtg"),Au=Ut("rtc");function xu(e,t=Ke){bi("ec",e,t)}const ql="components",Du="directives";function Ou(e,t){return Gl(ql,e,!0,t)||e}const Pu=Symbol.for("v-ndc");function qn(e){return Gl(Du,e)}function Gl(e,t,s=!0,r=!1){const a=We||Ke;if(a){const d=a.type;if(e===ql){const i=bf(d,!1);if(i&&(i===t||i===dt(t)||i===di(dt(t))))return d}const p=wo(a[e]||d[e],t)||wo(a.appContext[e],t);return!p&&r?d:p}}function wo(e,t){return e&&(e[t]||e[dt(t)]||e[di(dt(t))])}function on(e,t,s,r){let a;const d=s,p=de(e);if(p||$e(e)){const i=p&&es(e);let n=!1;i&&(n=!ut(e),e=gi(e)),a=new Array(e.length);for(let f=0,_=e.length;f<_;f++)a[f]=t(n?Xe(e[f]):e[f],f,void 0,d)}else if(typeof e=="number"){a=new Array(e);for(let i=0;i<e;i++)a[i]=t(i+1,i,void 0,d)}else if(xe(e))if(e[Symbol.iterator])a=Array.from(e,(i,n)=>t(i,n,void 0,d));else{const i=Object.keys(e);a=new Array(i.length);for(let n=0,f=i.length;n<f;n++){const _=i[n];a[n]=t(e[_],_,n,d)}}else a=[];return a}function Gn(e,t,s={},r,a){if(We.ce||We.parent&&Bs(We.parent)&&We.parent.ce)return Ce(),Wt(Be,null,[Se("slot",s,r)],64);let d=e[t];d&&d._c&&(d._d=!1),Ce();const p=d&&Xl(d(s)),i=s.key||p&&p.key,n=Wt(Be,{key:(i&&!mt(i)?i:`_${t}`)+""},p||[],p&&e._===1?64:-2);return d&&d._c&&(d._d=!0),n}function Xl(e){return e.some(t=>$s(t)?!(t.type===et||t.type===Be&&!Xl(t.children)):!0)?e:null}const an=e=>e?mc(e)?wi(e):an(e.parent):null,ar=je(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>an(e.parent),$root:e=>an(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Jl(e),$forceUpdate:e=>e.f||(e.f=()=>{Kn(e.update)}),$nextTick:e=>e.n||(e.n=vi.bind(e.proxy)),$watch:e=>tf.bind(e)}),Ni=(e,t)=>e!==Ae&&!e.__isScriptSetup&&ke(e,t),Iu={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:r,data:a,props:d,accessCache:p,type:i,appContext:n}=e;let f;if(t[0]!=="$"){const v=p[t];if(v!==void 0)switch(v){case 1:return r[t];case 2:return a[t];case 4:return s[t];case 3:return d[t]}else{if(Ni(r,t))return p[t]=1,r[t];if(a!==Ae&&ke(a,t))return p[t]=2,a[t];if((f=e.propsOptions[0])&&ke(f,t))return p[t]=3,d[t];if(s!==Ae&&ke(s,t))return p[t]=4,s[t];ln&&(p[t]=0)}}const _=ar[t];let h,g;if(_)return t==="$attrs"&&Ge(e.attrs,"get",""),_(e);if((h=i.__cssModules)&&(h=h[t]))return h;if(s!==Ae&&ke(s,t))return p[t]=4,s[t];if(g=n.config.globalProperties,ke(g,t))return g[t]},set({_:e},t,s){const{data:r,setupState:a,ctx:d}=e;return Ni(a,t)?(a[t]=s,!0):r!==Ae&&ke(r,t)?(r[t]=s,!0):ke(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(d[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:r,appContext:a,propsOptions:d}},p){let i;return!!s[p]||e!==Ae&&ke(e,p)||Ni(t,p)||(i=d[0])&&ke(i,p)||ke(r,p)||ke(ar,p)||ke(a.config.globalProperties,p)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:ke(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function Eo(e){return de(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let ln=!0;function Mu(e){const t=Jl(e),s=e.proxy,r=e.ctx;ln=!1,t.beforeCreate&&Lo(t.beforeCreate,e,"bc");const{data:a,computed:d,methods:p,watch:i,provide:n,inject:f,created:_,beforeMount:h,mounted:g,beforeUpdate:v,updated:w,activated:S,deactivated:u,beforeDestroy:l,beforeUnmount:o,destroyed:c,unmounted:m,render:C,renderTracked:y,renderTriggered:E,errorCaptured:b,serverPrefetch:L,expose:T,inheritAttrs:M,components:O,directives:D,filters:K}=t;if(f&&Bu(f,r,null),p)for(const ee in p){const Z=p[ee];pe(Z)&&(r[ee]=Z.bind(s))}if(a){const ee=a.call(s,s);xe(ee)&&(e.data=xr(ee))}if(ln=!0,d)for(const ee in d){const Z=d[ee],R=pe(Z)?Z.bind(s,s):pe(Z.get)?Z.get.bind(s,s):Rt,N=!pe(Z)&&pe(Z.set)?Z.set.bind(s):Rt,F=Ie({get:R,set:N});Object.defineProperty(r,ee,{enumerable:!0,configurable:!0,get:()=>F.value,set:H=>F.value=H})}if(i)for(const ee in i)Yl(i[ee],r,s,ee);if(n){const ee=pe(n)?n.call(s):n;Reflect.ownKeys(ee).forEach(Z=>{Vr(Z,ee[Z])})}_&&Lo(_,e,"c");function te(ee,Z){de(Z)?Z.forEach(R=>ee(R.bind(s))):Z&&ee(Z.bind(s))}if(te(Vl,h),te(Xs,g),te(ku,v),te(Kl,w),te(wu,S),te(Eu,u),te(xu,b),te(Au,y),te(Tu,E),te(zl,o),te(Ci,m),te(Ru,L),de(T))if(T.length){const ee=e.exposed||(e.exposed={});T.forEach(Z=>{Object.defineProperty(ee,Z,{get:()=>s[Z],set:R=>s[Z]=R})})}else e.exposed||(e.exposed={});C&&e.render===Rt&&(e.render=C),M!=null&&(e.inheritAttrs=M),O&&(e.components=O),D&&(e.directives=D),L&&Ul(e)}function Bu(e,t,s=Rt){de(e)&&(e=cn(e));for(const r in e){const a=e[r];let d;xe(a)?"default"in a?d=ft(a.from||r,a.default,!0):d=ft(a.from||r):d=ft(a),Fe(d)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>d.value,set:p=>d.value=p}):t[r]=d}}function Lo(e,t,s){vt(de(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,s)}function Yl(e,t,s,r){let a=r.includes(".")?uc(s,r):()=>s[r];if($e(e)){const d=t[e];pe(d)&&Tt(a,d)}else if(pe(e))Tt(a,e.bind(s));else if(xe(e))if(de(e))e.forEach(d=>Yl(d,t,s,r));else{const d=pe(e.handler)?e.handler.bind(s):t[e.handler];pe(d)&&Tt(a,d,e)}}function Jl(e){const t=e.type,{mixins:s,extends:r}=t,{mixins:a,optionsCache:d,config:{optionMergeStrategies:p}}=e.appContext,i=d.get(t);let n;return i?n=i:!a.length&&!s&&!r?n=t:(n={},a.length&&a.forEach(f=>ei(n,f,p,!0)),ei(n,t,p)),xe(t)&&d.set(t,n),n}function ei(e,t,s,r=!1){const{mixins:a,extends:d}=t;d&&ei(e,d,s,!0),a&&a.forEach(p=>ei(e,p,s,!0));for(const p in t)if(!(r&&p==="expose")){const i=Nu[p]||s&&s[p];e[p]=i?i(e[p],t[p]):t[p]}return e}const Nu={data:ko,props:Ro,emits:Ro,methods:sr,computed:sr,beforeCreate:Ye,created:Ye,beforeMount:Ye,mounted:Ye,beforeUpdate:Ye,updated:Ye,beforeDestroy:Ye,beforeUnmount:Ye,destroyed:Ye,unmounted:Ye,activated:Ye,deactivated:Ye,errorCaptured:Ye,serverPrefetch:Ye,components:sr,directives:sr,watch:Hu,provide:ko,inject:Fu};function ko(e,t){return t?e?function(){return je(pe(e)?e.call(this,this):e,pe(t)?t.call(this,this):t)}:t:e}function Fu(e,t){return sr(cn(e),cn(t))}function cn(e){if(de(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function Ye(e,t){return e?[...new Set([].concat(e,t))]:t}function sr(e,t){return e?je(Object.create(null),e,t):t}function Ro(e,t){return e?de(e)&&de(t)?[...new Set([...e,...t])]:je(Object.create(null),Eo(e),Eo(t??{})):t}function Hu(e,t){if(!e)return t;if(!t)return e;const s=je(Object.create(null),e);for(const r in t)s[r]=Ye(e[r],t[r]);return s}function Zl(){return{app:null,config:{isNativeTag:Th,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let $u=0;function Wu(e,t){return function(r,a=null){pe(r)||(r=je({},r)),a!=null&&!xe(a)&&(a=null);const d=Zl(),p=new WeakSet,i=[];let n=!1;const f=d.app={_uid:$u++,_component:r,_props:a,_container:null,_context:d,_instance:null,version:yf,get config(){return d.config},set config(_){},use(_,...h){return p.has(_)||(_&&pe(_.install)?(p.add(_),_.install(f,...h)):pe(_)&&(p.add(_),_(f,...h))),f},mixin(_){return d.mixins.includes(_)||d.mixins.push(_),f},component(_,h){return h?(d.components[_]=h,f):d.components[_]},directive(_,h){return h?(d.directives[_]=h,f):d.directives[_]},mount(_,h,g){if(!n){const v=f._ceVNode||Se(r,a);return v.appContext=d,g===!0?g="svg":g===!1&&(g=void 0),e(v,_,g),n=!0,f._container=_,_.__vue_app__=f,wi(v.component)}},onUnmount(_){i.push(_)},unmount(){n&&(vt(i,f._instance,16),e(null,f._container),delete f._container.__vue_app__)},provide(_,h){return d.provides[_]=h,f},runWithContext(_){const h=vs;vs=f;try{return _()}finally{vs=h}}};return f}}let vs=null;function Vr(e,t){if(Ke){let s=Ke.provides;const r=Ke.parent&&Ke.parent.provides;r===s&&(s=Ke.provides=Object.create(r)),s[e]=t}}function ft(e,t,s=!1){const r=Ke||We;if(r||vs){const a=vs?vs._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(a&&e in a)return a[e];if(arguments.length>1)return s&&pe(t)?t.call(r&&r.proxy):t}}function Uu(){return!!(Ke||We||vs)}const Ql={},ec=()=>Object.create(Ql),tc=e=>Object.getPrototypeOf(e)===Ql;function ju(e,t,s,r=!1){const a={},d=ec();e.propsDefaults=Object.create(null),sc(e,t,a,d);for(const p in e.propsOptions[0])p in a||(a[p]=void 0);s?e.props=r?a:kl(a):e.type.props?e.props=a:e.props=d,e.attrs=d}function Vu(e,t,s,r){const{props:a,attrs:d,vnode:{patchFlag:p}}=e,i=be(a),[n]=e.propsOptions;let f=!1;if((r||p>0)&&!(p&16)){if(p&8){const _=e.vnode.dynamicProps;for(let h=0;h<_.length;h++){let g=_[h];if(yi(e.emitsOptions,g))continue;const v=t[g];if(n)if(ke(d,g))v!==d[g]&&(d[g]=v,f=!0);else{const w=dt(g);a[w]=hn(n,i,w,v,e,!1)}else v!==d[g]&&(d[g]=v,f=!0)}}}else{sc(e,t,a,d)&&(f=!0);let _;for(const h in i)(!t||!ke(t,h)&&((_=ws(h))===h||!ke(t,_)))&&(n?s&&(s[h]!==void 0||s[_]!==void 0)&&(a[h]=hn(n,i,h,void 0,e,!0)):delete a[h]);if(d!==i)for(const h in d)(!t||!ke(t,h))&&(delete d[h],f=!0)}f&&Mt(e.attrs,"set","")}function sc(e,t,s,r){const[a,d]=e.propsOptions;let p=!1,i;if(t)for(let n in t){if(ir(n))continue;const f=t[n];let _;a&&ke(a,_=dt(n))?!d||!d.includes(_)?s[_]=f:(i||(i={}))[_]=f:yi(e.emitsOptions,n)||(!(n in r)||f!==r[n])&&(r[n]=f,p=!0)}if(d){const n=be(s),f=i||Ae;for(let _=0;_<d.length;_++){const h=d[_];s[h]=hn(a,n,h,f[h],e,!ke(f,h))}}return p}function hn(e,t,s,r,a,d){const p=e[s];if(p!=null){const i=ke(p,"default");if(i&&r===void 0){const n=p.default;if(p.type!==Function&&!p.skipFactory&&pe(n)){const{propsDefaults:f}=a;if(s in f)r=f[s];else{const _=Pr(a);r=f[s]=n.call(null,t),_()}}else r=n;a.ce&&a.ce._setProp(s,r)}p[0]&&(d&&!i?r=!1:p[1]&&(r===""||r===ws(s))&&(r=!0))}return r}const Ku=new WeakMap;function rc(e,t,s=!1){const r=s?Ku:t.propsCache,a=r.get(e);if(a)return a;const d=e.props,p={},i=[];let n=!1;if(!pe(e)){const _=h=>{n=!0;const[g,v]=rc(h,t,!0);je(p,g),v&&i.push(...v)};!s&&t.mixins.length&&t.mixins.forEach(_),e.extends&&_(e.extends),e.mixins&&e.mixins.forEach(_)}if(!d&&!n)return xe(e)&&r.set(e,Os),Os;if(de(d))for(let _=0;_<d.length;_++){const h=dt(d[_]);To(h)&&(p[h]=Ae)}else if(d)for(const _ in d){const h=dt(_);if(To(h)){const g=d[_],v=p[h]=de(g)||pe(g)?{type:g}:je({},g),w=v.type;let S=!1,u=!0;if(de(w))for(let l=0;l<w.length;++l){const o=w[l],c=pe(o)&&o.name;if(c==="Boolean"){S=!0;break}else c==="String"&&(u=!1)}else S=pe(w)&&w.name==="Boolean";v[0]=S,v[1]=u,(S||ke(v,"default"))&&i.push(h)}}const f=[p,i];return xe(e)&&r.set(e,f),f}function To(e){return e[0]!=="$"&&!ir(e)}const ic=e=>e[0]==="_"||e==="$stable",Xn=e=>de(e)?e.map(kt):[kt(e)],zu=(e,t,s)=>{if(t._n)return t;const r=Ms((...a)=>Xn(t(...a)),s);return r._c=!1,r},nc=(e,t,s)=>{const r=e._ctx;for(const a in e){if(ic(a))continue;const d=e[a];if(pe(d))t[a]=zu(a,d,r);else if(d!=null){const p=Xn(d);t[a]=()=>p}}},oc=(e,t)=>{const s=Xn(t);e.slots.default=()=>s},ac=(e,t,s)=>{for(const r in t)(s||r!=="_")&&(e[r]=t[r])},qu=(e,t,s)=>{const r=e.slots=ec();if(e.vnode.shapeFlag&32){const a=t._;a?(ac(r,t,s),s&&ol(r,"_",a,!0)):nc(t,r)}else t&&oc(e,t)},Gu=(e,t,s)=>{const{vnode:r,slots:a}=e;let d=!0,p=Ae;if(r.shapeFlag&32){const i=t._;i?s&&i===1?d=!1:ac(a,t,s):(d=!t.$stable,nc(t,a)),p=t}else t&&(oc(e,t),p={default:1});if(d)for(const i in a)!ic(i)&&p[i]==null&&delete a[i]},at=cf;function Xu(e){return Yu(e)}function Yu(e,t){const s=_i();s.__VUE__=!0;const{insert:r,remove:a,patchProp:d,createElement:p,createText:i,createComment:n,setText:f,setElementText:_,parentNode:h,nextSibling:g,setScopeId:v=Rt,insertStaticContent:w}=e,S=(A,B,$,X=null,J=null,z=null,P=void 0,I=null,j=!!B.dynamicChildren)=>{if(A===B)return;A&&!ds(A,B)&&(X=x(A),H(A,J,z,!0),A=null),B.patchFlag===-2&&(j=!1,B.dynamicChildren=null);const{type:q,ref:ne,shapeFlag:Q}=B;switch(q){case Or:u(A,B,$,X);break;case et:l(A,B,$,X);break;case Hi:A==null&&o(B,$,X,P);break;case Be:O(A,B,$,X,J,z,P,I,j);break;default:Q&1?C(A,B,$,X,J,z,P,I,j):Q&6?D(A,B,$,X,J,z,P,I,j):(Q&64||Q&128)&&q.process(A,B,$,X,J,z,P,I,j,W)}ne!=null&&J&&Qr(ne,A&&A.ref,z,B||A,!B)},u=(A,B,$,X)=>{if(A==null)r(B.el=i(B.children),$,X);else{const J=B.el=A.el;B.children!==A.children&&f(J,B.children)}},l=(A,B,$,X)=>{A==null?r(B.el=n(B.children||""),$,X):B.el=A.el},o=(A,B,$,X)=>{[A.el,A.anchor]=w(A.children,B,$,X,A.el,A.anchor)},c=({el:A,anchor:B},$,X)=>{let J;for(;A&&A!==B;)J=g(A),r(A,$,X),A=J;r(B,$,X)},m=({el:A,anchor:B})=>{let $;for(;A&&A!==B;)$=g(A),a(A),A=$;a(B)},C=(A,B,$,X,J,z,P,I,j)=>{B.type==="svg"?P="svg":B.type==="math"&&(P="mathml"),A==null?y(B,$,X,J,z,P,I,j):L(A,B,J,z,P,I,j)},y=(A,B,$,X,J,z,P,I)=>{let j,q;const{props:ne,shapeFlag:Q,transition:U,dirs:G}=A;if(j=A.el=p(A.type,z,ne&&ne.is,ne),Q&8?_(j,A.children):Q&16&&b(A.children,j,null,X,J,Fi(A,z),P,I),G&&cs(A,null,X,"created"),E(j,A,A.scopeId,P,X),ne){for(const fe in ne)fe!=="value"&&!ir(fe)&&d(j,fe,null,ne[fe],z,X);"value"in ne&&d(j,"value",null,ne.value,z),(q=ne.onVnodeBeforeMount)&&Ct(q,X,A)}G&&cs(A,null,X,"beforeMount");const le=Ju(J,U);le&&U.beforeEnter(j),r(j,B,$),((q=ne&&ne.onVnodeMounted)||le||G)&&at(()=>{q&&Ct(q,X,A),le&&U.enter(j),G&&cs(A,null,X,"mounted")},J)},E=(A,B,$,X,J)=>{if($&&v(A,$),X)for(let z=0;z<X.length;z++)v(A,X[z]);if(J){let z=J.subTree;if(B===z||dc(z.type)&&(z.ssContent===B||z.ssFallback===B)){const P=J.vnode;E(A,P,P.scopeId,P.slotScopeIds,J.parent)}}},b=(A,B,$,X,J,z,P,I,j=0)=>{for(let q=j;q<A.length;q++){const ne=A[q]=I?Yt(A[q]):kt(A[q]);S(null,ne,B,$,X,J,z,P,I)}},L=(A,B,$,X,J,z,P)=>{const I=B.el=A.el;let{patchFlag:j,dynamicChildren:q,dirs:ne}=B;j|=A.patchFlag&16;const Q=A.props||Ae,U=B.props||Ae;let G;if($&&hs($,!1),(G=U.onVnodeBeforeUpdate)&&Ct(G,$,B,A),ne&&cs(B,A,$,"beforeUpdate"),$&&hs($,!0),(Q.innerHTML&&U.innerHTML==null||Q.textContent&&U.textContent==null)&&_(I,""),q?T(A.dynamicChildren,q,I,$,X,Fi(B,J),z):P||Z(A,B,I,null,$,X,Fi(B,J),z,!1),j>0){if(j&16)M(I,Q,U,$,J);else if(j&2&&Q.class!==U.class&&d(I,"class",null,U.class,J),j&4&&d(I,"style",Q.style,U.style,J),j&8){const le=B.dynamicProps;for(let fe=0;fe<le.length;fe++){const _e=le[fe],Me=Q[_e],Ee=U[_e];(Ee!==Me||_e==="value")&&d(I,_e,Me,Ee,J,$)}}j&1&&A.children!==B.children&&_(I,B.children)}else!P&&q==null&&M(I,Q,U,$,J);((G=U.onVnodeUpdated)||ne)&&at(()=>{G&&Ct(G,$,B,A),ne&&cs(B,A,$,"updated")},X)},T=(A,B,$,X,J,z,P)=>{for(let I=0;I<B.length;I++){const j=A[I],q=B[I],ne=j.el&&(j.type===Be||!ds(j,q)||j.shapeFlag&70)?h(j.el):$;S(j,q,ne,null,X,J,z,P,!0)}},M=(A,B,$,X,J)=>{if(B!==$){if(B!==Ae)for(const z in B)!ir(z)&&!(z in $)&&d(A,z,B[z],null,J,X);for(const z in $){if(ir(z))continue;const P=$[z],I=B[z];P!==I&&z!=="value"&&d(A,z,I,P,J,X)}"value"in $&&d(A,"value",B.value,$.value,J)}},O=(A,B,$,X,J,z,P,I,j)=>{const q=B.el=A?A.el:i(""),ne=B.anchor=A?A.anchor:i("");let{patchFlag:Q,dynamicChildren:U,slotScopeIds:G}=B;G&&(I=I?I.concat(G):G),A==null?(r(q,$,X),r(ne,$,X),b(B.children||[],$,ne,J,z,P,I,j)):Q>0&&Q&64&&U&&A.dynamicChildren?(T(A.dynamicChildren,U,$,J,z,P,I),(B.key!=null||J&&B===J.subTree)&&lc(A,B,!0)):Z(A,B,$,ne,J,z,P,I,j)},D=(A,B,$,X,J,z,P,I,j)=>{B.slotScopeIds=I,A==null?B.shapeFlag&512?J.ctx.activate(B,$,X,P,j):K(B,$,X,J,z,P,j):Y(A,B,j)},K=(A,B,$,X,J,z,P)=>{const I=A.component=pf(A,X,J);if(Si(A)&&(I.ctx.renderer=W),gf(I,!1,P),I.asyncDep){if(J&&J.registerDep(I,te,P),!A.el){const j=I.subTree=Se(et);l(null,j,B,$)}}else te(I,A,B,$,J,z,P)},Y=(A,B,$)=>{const X=B.component=A.component;if(af(A,B,$))if(X.asyncDep&&!X.asyncResolved){ee(X,B,$);return}else X.next=B,X.update();else B.el=A.el,X.vnode=B},te=(A,B,$,X,J,z,P)=>{const I=()=>{if(A.isMounted){let{next:Q,bu:U,u:G,parent:le,vnode:fe}=A;{const ve=cc(A);if(ve){Q&&(Q.el=fe.el,ee(A,Q,P)),ve.asyncDep.then(()=>{A.isUnmounted||I()});return}}let _e=Q,Me;hs(A,!1),Q?(Q.el=fe.el,ee(A,Q,P)):Q=fe,U&&jr(U),(Me=Q.props&&Q.props.onVnodeBeforeUpdate)&&Ct(Me,le,Q,fe),hs(A,!0);const Ee=xo(A),Ve=A.subTree;A.subTree=Ee,S(Ve,Ee,h(Ve.el),x(Ve),A,J,z),Q.el=Ee.el,_e===null&&lf(A,Ee.el),G&&at(G,J),(Me=Q.props&&Q.props.onVnodeUpdated)&&at(()=>Ct(Me,le,Q,fe),J)}else{let Q;const{el:U,props:G}=B,{bm:le,m:fe,parent:_e,root:Me,type:Ee}=A,Ve=Bs(B);hs(A,!1),le&&jr(le),!Ve&&(Q=G&&G.onVnodeBeforeMount)&&Ct(Q,_e,B),hs(A,!0);{Me.ce&&Me.ce._injectChildStyle(Ee);const ve=A.subTree=xo(A);S(null,ve,$,X,A,J,z),B.el=ve.el}if(fe&&at(fe,J),!Ve&&(Q=G&&G.onVnodeMounted)){const ve=B;at(()=>Ct(Q,_e,ve),J)}(B.shapeFlag&256||_e&&Bs(_e.vnode)&&_e.vnode.shapeFlag&256)&&A.a&&at(A.a,J),A.isMounted=!0,B=$=X=null}};A.scope.on();const j=A.effect=new fl(I);A.scope.off();const q=A.update=j.run.bind(j),ne=A.job=j.runIfDirty.bind(j);ne.i=A,ne.id=A.uid,j.scheduler=()=>Kn(ne),hs(A,!0),q()},ee=(A,B,$)=>{B.component=A;const X=A.vnode.props;A.vnode=B,A.next=null,Vu(A,B.props,X,$),Gu(A,B.children,$),rs(),Co(A),is()},Z=(A,B,$,X,J,z,P,I,j=!1)=>{const q=A&&A.children,ne=A?A.shapeFlag:0,Q=B.children,{patchFlag:U,shapeFlag:G}=B;if(U>0){if(U&128){N(q,Q,$,X,J,z,P,I,j);return}else if(U&256){R(q,Q,$,X,J,z,P,I,j);return}}G&8?(ne&16&&ce(q,J,z),Q!==q&&_($,Q)):ne&16?G&16?N(q,Q,$,X,J,z,P,I,j):ce(q,J,z,!0):(ne&8&&_($,""),G&16&&b(Q,$,X,J,z,P,I,j))},R=(A,B,$,X,J,z,P,I,j)=>{A=A||Os,B=B||Os;const q=A.length,ne=B.length,Q=Math.min(q,ne);let U;for(U=0;U<Q;U++){const G=B[U]=j?Yt(B[U]):kt(B[U]);S(A[U],G,$,null,J,z,P,I,j)}q>ne?ce(A,J,z,!0,!1,Q):b(B,$,X,J,z,P,I,j,Q)},N=(A,B,$,X,J,z,P,I,j)=>{let q=0;const ne=B.length;let Q=A.length-1,U=ne-1;for(;q<=Q&&q<=U;){const G=A[q],le=B[q]=j?Yt(B[q]):kt(B[q]);if(ds(G,le))S(G,le,$,null,J,z,P,I,j);else break;q++}for(;q<=Q&&q<=U;){const G=A[Q],le=B[U]=j?Yt(B[U]):kt(B[U]);if(ds(G,le))S(G,le,$,null,J,z,P,I,j);else break;Q--,U--}if(q>Q){if(q<=U){const G=U+1,le=G<ne?B[G].el:X;for(;q<=U;)S(null,B[q]=j?Yt(B[q]):kt(B[q]),$,le,J,z,P,I,j),q++}}else if(q>U)for(;q<=Q;)H(A[q],J,z,!0),q++;else{const G=q,le=q,fe=new Map;for(q=le;q<=U;q++){const ot=B[q]=j?Yt(B[q]):kt(B[q]);ot.key!=null&&fe.set(ot.key,q)}let _e,Me=0;const Ee=U-le+1;let Ve=!1,ve=0;const ls=new Array(Ee);for(q=0;q<Ee;q++)ls[q]=0;for(q=G;q<=Q;q++){const ot=A[q];if(Me>=Ee){H(ot,J,z,!0);continue}let bt;if(ot.key!=null)bt=fe.get(ot.key);else for(_e=le;_e<=U;_e++)if(ls[_e-le]===0&&ds(ot,B[_e])){bt=_e;break}bt===void 0?H(ot,J,z,!0):(ls[bt-le]=q+1,bt>=ve?ve=bt:Ve=!0,S(ot,B[bt],$,null,J,z,P,I,j),Me++)}const po=Ve?Zu(ls):Os;for(_e=po.length-1,q=Ee-1;q>=0;q--){const ot=le+q,bt=B[ot],go=ot+1<ne?B[ot+1].el:X;ls[q]===0?S(null,bt,$,go,J,z,P,I,j):Ve&&(_e<0||q!==po[_e]?F(bt,$,go,2):_e--)}}},F=(A,B,$,X,J=null)=>{const{el:z,type:P,transition:I,children:j,shapeFlag:q}=A;if(q&6){F(A.component.subTree,B,$,X);return}if(q&128){A.suspense.move(B,$,X);return}if(q&64){P.move(A,B,$,W);return}if(P===Be){r(z,B,$);for(let Q=0;Q<j.length;Q++)F(j[Q],B,$,X);r(A.anchor,B,$);return}if(P===Hi){c(A,B,$);return}if(X!==2&&q&1&&I)if(X===0)I.beforeEnter(z),r(z,B,$),at(()=>I.enter(z),J);else{const{leave:Q,delayLeave:U,afterLeave:G}=I,le=()=>r(z,B,$),fe=()=>{Q(z,()=>{le(),G&&G()})};U?U(z,le,fe):fe()}else r(z,B,$)},H=(A,B,$,X=!1,J=!1)=>{const{type:z,props:P,ref:I,children:j,dynamicChildren:q,shapeFlag:ne,patchFlag:Q,dirs:U,cacheIndex:G}=A;if(Q===-2&&(J=!1),I!=null&&Qr(I,null,$,A,!0),G!=null&&(B.renderCache[G]=void 0),ne&256){B.ctx.deactivate(A);return}const le=ne&1&&U,fe=!Bs(A);let _e;if(fe&&(_e=P&&P.onVnodeBeforeUnmount)&&Ct(_e,B,A),ne&6)he(A.component,$,X);else{if(ne&128){A.suspense.unmount($,X);return}le&&cs(A,null,B,"beforeUnmount"),ne&64?A.type.remove(A,B,$,W,X):q&&!q.hasOnce&&(z!==Be||Q>0&&Q&64)?ce(q,B,$,!1,!0):(z===Be&&Q&384||!J&&ne&16)&&ce(j,B,$),X&&se(A)}(fe&&(_e=P&&P.onVnodeUnmounted)||le)&&at(()=>{_e&&Ct(_e,B,A),le&&cs(A,null,B,"unmounted")},$)},se=A=>{const{type:B,el:$,anchor:X,transition:J}=A;if(B===Be){ie($,X);return}if(B===Hi){m(A);return}const z=()=>{a($),J&&!J.persisted&&J.afterLeave&&J.afterLeave()};if(A.shapeFlag&1&&J&&!J.persisted){const{leave:P,delayLeave:I}=J,j=()=>P($,z);I?I(A.el,z,j):j()}else z()},ie=(A,B)=>{let $;for(;A!==B;)$=g(A),a(A),A=$;a(B)},he=(A,B,$)=>{const{bum:X,scope:J,job:z,subTree:P,um:I,m:j,a:q}=A;Ao(j),Ao(q),X&&jr(X),J.stop(),z&&(z.flags|=8,H(P,A,B,$)),I&&at(I,B),at(()=>{A.isUnmounted=!0},B),B&&B.pendingBranch&&!B.isUnmounted&&A.asyncDep&&!A.asyncResolved&&A.suspenseId===B.pendingId&&(B.deps--,B.deps===0&&B.resolve())},ce=(A,B,$,X=!1,J=!1,z=0)=>{for(let P=z;P<A.length;P++)H(A[P],B,$,X,J)},x=A=>{if(A.shapeFlag&6)return x(A.component.subTree);if(A.shapeFlag&128)return A.suspense.next();const B=g(A.anchor||A.el),$=B&&B[bu];return $?g($):B};let k=!1;const V=(A,B,$)=>{A==null?B._vnode&&H(B._vnode,null,null,!0):S(B._vnode||null,A,B,null,null,null,$),B._vnode=A,k||(k=!0,Co(),Pl(),k=!1)},W={p:S,um:H,m:F,r:se,mt:K,mc:b,pc:Z,pbc:T,n:x,o:e};return{render:V,hydrate:void 0,createApp:Wu(V)}}function Fi({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function hs({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Ju(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function lc(e,t,s=!1){const r=e.children,a=t.children;if(de(r)&&de(a))for(let d=0;d<r.length;d++){const p=r[d];let i=a[d];i.shapeFlag&1&&!i.dynamicChildren&&((i.patchFlag<=0||i.patchFlag===32)&&(i=a[d]=Yt(a[d]),i.el=p.el),!s&&i.patchFlag!==-2&&lc(p,i)),i.type===Or&&(i.el=p.el)}}function Zu(e){const t=e.slice(),s=[0];let r,a,d,p,i;const n=e.length;for(r=0;r<n;r++){const f=e[r];if(f!==0){if(a=s[s.length-1],e[a]<f){t[r]=a,s.push(r);continue}for(d=0,p=s.length-1;d<p;)i=d+p>>1,e[s[i]]<f?d=i+1:p=i;f<e[s[d]]&&(d>0&&(t[r]=s[d-1]),s[d]=r)}}for(d=s.length,p=s[d-1];d-- >0;)s[d]=p,p=t[p];return s}function cc(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:cc(t)}function Ao(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Qu=Symbol.for("v-scx"),ef=()=>ft(Qu);function Tt(e,t,s){return hc(e,t,s)}function hc(e,t,s=Ae){const{immediate:r,deep:a,flush:d,once:p}=s,i=je({},s),n=t&&r||!t&&d!=="post";let f;if(Sr){if(d==="sync"){const v=ef();f=v.__watcherHandles||(v.__watcherHandles=[])}else if(!n){const v=()=>{};return v.stop=Rt,v.resume=Rt,v.pause=Rt,v}}const _=Ke;i.call=(v,w,S)=>vt(v,_,w,S);let h=!1;d==="post"?i.scheduler=v=>{at(v,_&&_.suspense)}:d!=="sync"&&(h=!0,i.scheduler=(v,w)=>{w?v():Kn(v)}),i.augmentJob=v=>{t&&(v.flags|=4),h&&(v.flags|=2,_&&(v.id=_.uid,v.i=_))};const g=gu(e,t,i);return Sr&&(f?f.push(g):n&&g()),g}function tf(e,t,s){const r=this.proxy,a=$e(e)?e.includes(".")?uc(r,e):()=>r[e]:e.bind(r,r);let d;pe(t)?d=t:(d=t.handler,s=t);const p=Pr(this),i=hc(a,d.bind(r),s);return p(),i}function uc(e,t){const s=t.split(".");return()=>{let r=e;for(let a=0;a<s.length&&r;a++)r=r[s[a]];return r}}const sf=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${dt(t)}Modifiers`]||e[`${ws(t)}Modifiers`];function rf(e,t,...s){if(e.isUnmounted)return;const r=e.vnode.props||Ae;let a=s;const d=t.startsWith("update:"),p=d&&sf(r,t.slice(7));p&&(p.trim&&(a=s.map(_=>$e(_)?_.trim():_)),p.number&&(a=s.map(Gr)));let i,n=r[i=Di(t)]||r[i=Di(dt(t))];!n&&d&&(n=r[i=Di(ws(t))]),n&&vt(n,e,6,a);const f=r[i+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[i])return;e.emitted[i]=!0,vt(f,e,6,a)}}function fc(e,t,s=!1){const r=t.emitsCache,a=r.get(e);if(a!==void 0)return a;const d=e.emits;let p={},i=!1;if(!pe(e)){const n=f=>{const _=fc(f,t,!0);_&&(i=!0,je(p,_))};!s&&t.mixins.length&&t.mixins.forEach(n),e.extends&&n(e.extends),e.mixins&&e.mixins.forEach(n)}return!d&&!i?(xe(e)&&r.set(e,null),null):(de(d)?d.forEach(n=>p[n]=null):je(p,d),xe(e)&&r.set(e,p),p)}function yi(e,t){return!e||!hi(t)?!1:(t=t.slice(2).replace(/Once$/,""),ke(e,t[0].toLowerCase()+t.slice(1))||ke(e,ws(t))||ke(e,t))}function xo(e){const{type:t,vnode:s,proxy:r,withProxy:a,propsOptions:[d],slots:p,attrs:i,emit:n,render:f,renderCache:_,props:h,data:g,setupState:v,ctx:w,inheritAttrs:S}=e,u=Zr(e);let l,o;try{if(s.shapeFlag&4){const m=a||r,C=m;l=kt(f.call(C,m,_,h,v,g,w)),o=i}else{const m=t;l=kt(m.length>1?m(h,{attrs:i,slots:p,emit:n}):m(h,null)),o=t.props?i:nf(i)}}catch(m){lr.length=0,mi(m,e,1),l=Se(et)}let c=l;if(o&&S!==!1){const m=Object.keys(o),{shapeFlag:C}=c;m.length&&C&7&&(d&&m.some(Pn)&&(o=of(o,d)),c=ts(c,o,!1,!0))}return s.dirs&&(c=ts(c,null,!1,!0),c.dirs=c.dirs?c.dirs.concat(s.dirs):s.dirs),s.transition&&bs(c,s.transition),l=c,Zr(u),l}const nf=e=>{let t;for(const s in e)(s==="class"||s==="style"||hi(s))&&((t||(t={}))[s]=e[s]);return t},of=(e,t)=>{const s={};for(const r in e)(!Pn(r)||!(r.slice(9)in t))&&(s[r]=e[r]);return s};function af(e,t,s){const{props:r,children:a,component:d}=e,{props:p,children:i,patchFlag:n}=t,f=d.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&n>=0){if(n&1024)return!0;if(n&16)return r?Do(r,p,f):!!p;if(n&8){const _=t.dynamicProps;for(let h=0;h<_.length;h++){const g=_[h];if(p[g]!==r[g]&&!yi(f,g))return!0}}}else return(a||i)&&(!i||!i.$stable)?!0:r===p?!1:r?p?Do(r,p,f):!0:!!p;return!1}function Do(e,t,s){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let a=0;a<r.length;a++){const d=r[a];if(t[d]!==e[d]&&!yi(s,d))return!0}return!1}function lf({vnode:e,parent:t},s){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=s,t=t.parent;else break}}const dc=e=>e.__isSuspense;function cf(e,t){t&&t.pendingBranch?de(e)?t.effects.push(...e):t.effects.push(e):Su(e)}const Be=Symbol.for("v-fgt"),Or=Symbol.for("v-txt"),et=Symbol.for("v-cmt"),Hi=Symbol.for("v-stc"),lr=[];let lt=null;function Ce(e=!1){lr.push(lt=e?null:[])}function hf(){lr.pop(),lt=lr[lr.length-1]||null}let vr=1;function Oo(e,t=!1){vr+=e,e<0&&lt&&t&&(lt.hasOnce=!0)}function _c(e){return e.dynamicChildren=vr>0?lt||Os:null,hf(),vr>0&&lt&&lt.push(e),e}function Oe(e,t,s,r,a,d){return _c(oe(e,t,s,r,a,d,!0))}function Wt(e,t,s,r,a){return _c(Se(e,t,s,r,a,!0))}function $s(e){return e?e.__v_isVNode===!0:!1}function ds(e,t){return e.type===t.type&&e.key===t.key}const pc=({key:e})=>e??null,Kr=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?$e(e)||Fe(e)||pe(e)?{i:We,r:e,k:t,f:!!s}:e:null);function oe(e,t=null,s=null,r=0,a=null,d=e===Be?0:1,p=!1,i=!1){const n={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&pc(t),ref:t&&Kr(t),scopeId:Ml,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:d,patchFlag:r,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:We};return i?(Yn(n,s),d&128&&e.normalize(n)):s&&(n.shapeFlag|=$e(s)?8:16),vr>0&&!p&&lt&&(n.patchFlag>0||d&6)&&n.patchFlag!==32&&lt.push(n),n}const Se=uf;function uf(e,t=null,s=null,r=0,a=null,d=!1){if((!e||e===Pu)&&(e=et),$s(e)){const i=ts(e,t,!0);return s&&Yn(i,s),vr>0&&!d&&lt&&(i.shapeFlag&6?lt[lt.indexOf(e)]=i:lt.push(i)),i.patchFlag=-2,i}if(Cf(e)&&(e=e.__vccOpts),t){t=ff(t);let{class:i,style:n}=t;i&&!$e(i)&&(t.class=Hs(i)),xe(n)&&(jn(n)&&!de(n)&&(n=je({},n)),t.style=dr(n))}const p=$e(e)?1:dc(e)?128:Bl(e)?64:xe(e)?4:pe(e)?2:0;return oe(e,t,s,r,a,p,d,!0)}function ff(e){return e?jn(e)||tc(e)?je({},e):e:null}function ts(e,t,s=!1,r=!1){const{props:a,ref:d,patchFlag:p,children:i,transition:n}=e,f=t?gc(a||{},t):a,_={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&pc(f),ref:t&&t.ref?s&&d?de(d)?d.concat(Kr(t)):[d,Kr(t)]:Kr(t):d,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Be?p===-1?16:p|16:p,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:n,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ts(e.ssContent),ssFallback:e.ssFallback&&ts(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return n&&r&&bs(_,n.clone(_)),_}function It(e=" ",t=0){return Se(Or,null,e,t)}function Nt(e="",t=!1){return t?(Ce(),Wt(et,null,e)):Se(et,null,e)}function kt(e){return e==null||typeof e=="boolean"?Se(et):de(e)?Se(Be,null,e.slice()):$s(e)?Yt(e):Se(Or,null,String(e))}function Yt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ts(e)}function Yn(e,t){let s=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(de(t))s=16;else if(typeof t=="object")if(r&65){const a=t.default;a&&(a._c&&(a._d=!1),Yn(e,a()),a._c&&(a._d=!0));return}else{s=32;const a=t._;!a&&!tc(t)?t._ctx=We:a===3&&We&&(We.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else pe(t)?(t={default:t,_ctx:We},s=32):(t=String(t),r&64?(s=16,t=[It(t)]):s=8);e.children=t,e.shapeFlag|=s}function gc(...e){const t={};for(let s=0;s<e.length;s++){const r=e[s];for(const a in r)if(a==="class")t.class!==r.class&&(t.class=Hs([t.class,r.class]));else if(a==="style")t.style=dr([t.style,r.style]);else if(hi(a)){const d=t[a],p=r[a];p&&d!==p&&!(de(d)&&d.includes(p))&&(t[a]=d?[].concat(d,p):p)}else a!==""&&(t[a]=r[a])}return t}function Ct(e,t,s,r=null){vt(e,t,7,[s,r])}const df=Zl();let _f=0;function pf(e,t,s){const r=e.type,a=(t?t.appContext:e.appContext)||df,d={uid:_f++,vnode:e,type:r,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new hl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:rc(r,a),emitsOptions:fc(r,a),emit:null,emitted:null,propsDefaults:Ae,inheritAttrs:r.inheritAttrs,ctx:Ae,data:Ae,props:Ae,attrs:Ae,slots:Ae,refs:Ae,setupState:Ae,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return d.ctx={_:d},d.root=t?t.root:d,d.emit=rf.bind(null,d),e.ce&&e.ce(d),d}let Ke=null;const Cs=()=>Ke||We;let ti,un;{const e=_i(),t=(s,r)=>{let a;return(a=e[s])||(a=e[s]=[]),a.push(r),d=>{a.length>1?a.forEach(p=>p(d)):a[0](d)}};ti=t("__VUE_INSTANCE_SETTERS__",s=>Ke=s),un=t("__VUE_SSR_SETTERS__",s=>Sr=s)}const Pr=e=>{const t=Ke;return ti(e),e.scope.on(),()=>{e.scope.off(),ti(t)}},Po=()=>{Ke&&Ke.scope.off(),ti(null)};function mc(e){return e.vnode.shapeFlag&4}let Sr=!1;function gf(e,t=!1,s=!1){t&&un(t);const{props:r,children:a}=e.vnode,d=mc(e);ju(e,r,d,t),qu(e,a,s);const p=d?mf(e,t):void 0;return t&&un(!1),p}function mf(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Iu);const{setup:r}=s;if(r){rs();const a=e.setupContext=r.length>1?Sf(e):null,d=Pr(e),p=Dr(r,e,0,[e.props,a]),i=rl(p);if(is(),d(),(i||e.sp)&&!Bs(e)&&Ul(e),i){if(p.then(Po,Po),t)return p.then(n=>{Io(e,n)}).catch(n=>{mi(n,e,0)});e.asyncDep=p}else Io(e,p)}else vc(e)}function Io(e,t,s){pe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:xe(t)&&(e.setupState=xl(t)),vc(e)}function vc(e,t,s){const r=e.type;e.render||(e.render=r.render||Rt);{const a=Pr(e);rs();try{Mu(e)}finally{is(),a()}}}const vf={get(e,t){return Ge(e,"get",""),e[t]}};function Sf(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,vf),slots:e.slots,emit:e.emit,expose:t}}function wi(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(xl(Vn(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in ar)return ar[s](e)},has(t,s){return s in t||s in ar}})):e.proxy}function bf(e,t=!0){return pe(e)?e.displayName||e.name:e.name||t&&e.__name}function Cf(e){return pe(e)&&"__vccOpts"in e}const Ie=(e,t)=>_u(e,t,Sr);function Ir(e,t,s){const r=arguments.length;return r===2?xe(t)&&!de(t)?$s(t)?Se(e,null,[t]):Se(e,t):Se(e,null,t):(r>3?s=Array.prototype.slice.call(arguments,2):r===3&&$s(s)&&(s=[s]),Se(e,t,s))}const yf="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let fn;const Mo=typeof window<"u"&&window.trustedTypes;if(Mo)try{fn=Mo.createPolicy("vue",{createHTML:e=>e})}catch{}const Sc=fn?e=>fn.createHTML(e):e=>e,wf="http://www.w3.org/2000/svg",Ef="http://www.w3.org/1998/Math/MathML",Pt=typeof document<"u"?document:null,Bo=Pt&&Pt.createElement("template"),Lf={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,r)=>{const a=t==="svg"?Pt.createElementNS(wf,e):t==="mathml"?Pt.createElementNS(Ef,e):s?Pt.createElement(e,{is:s}):Pt.createElement(e);return e==="select"&&r&&r.multiple!=null&&a.setAttribute("multiple",r.multiple),a},createText:e=>Pt.createTextNode(e),createComment:e=>Pt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Pt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,r,a,d){const p=s?s.previousSibling:t.lastChild;if(a&&(a===d||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),s),!(a===d||!(a=a.nextSibling)););else{Bo.innerHTML=Sc(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const i=Bo.content;if(r==="svg"||r==="mathml"){const n=i.firstChild;for(;n.firstChild;)i.appendChild(n.firstChild);i.removeChild(n)}t.insertBefore(i,s)}return[p?p.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},jt="transition",Zs="animation",Ws=Symbol("_vtc"),bc={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Cc=je({},Fl,bc),kf=e=>(e.displayName="Transition",e.props=Cc,e),Rf=kf((e,{slots:t})=>Ir(yu,yc(e),t)),us=(e,t=[])=>{de(e)?e.forEach(s=>s(...t)):e&&e(...t)},No=e=>e?de(e)?e.some(t=>t.length>1):e.length>1:!1;function yc(e){const t={};for(const O in e)O in bc||(t[O]=e[O]);if(e.css===!1)return t;const{name:s="v",type:r,duration:a,enterFromClass:d=`${s}-enter-from`,enterActiveClass:p=`${s}-enter-active`,enterToClass:i=`${s}-enter-to`,appearFromClass:n=d,appearActiveClass:f=p,appearToClass:_=i,leaveFromClass:h=`${s}-leave-from`,leaveActiveClass:g=`${s}-leave-active`,leaveToClass:v=`${s}-leave-to`}=e,w=Tf(a),S=w&&w[0],u=w&&w[1],{onBeforeEnter:l,onEnter:o,onEnterCancelled:c,onLeave:m,onLeaveCancelled:C,onBeforeAppear:y=l,onAppear:E=o,onAppearCancelled:b=c}=t,L=(O,D,K,Y)=>{O._enterCancelled=Y,zt(O,D?_:i),zt(O,D?f:p),K&&K()},T=(O,D)=>{O._isLeaving=!1,zt(O,h),zt(O,v),zt(O,g),D&&D()},M=O=>(D,K)=>{const Y=O?E:o,te=()=>L(D,O,K);us(Y,[D,te]),Fo(()=>{zt(D,O?n:d),wt(D,O?_:i),No(Y)||Ho(D,r,S,te)})};return je(t,{onBeforeEnter(O){us(l,[O]),wt(O,d),wt(O,p)},onBeforeAppear(O){us(y,[O]),wt(O,n),wt(O,f)},onEnter:M(!1),onAppear:M(!0),onLeave(O,D){O._isLeaving=!0;const K=()=>T(O,D);wt(O,h),O._enterCancelled?(wt(O,g),dn()):(dn(),wt(O,g)),Fo(()=>{O._isLeaving&&(zt(O,h),wt(O,v),No(m)||Ho(O,r,u,K))}),us(m,[O,K])},onEnterCancelled(O){L(O,!1,void 0,!0),us(c,[O])},onAppearCancelled(O){L(O,!0,void 0,!0),us(b,[O])},onLeaveCancelled(O){T(O),us(C,[O])}})}function Tf(e){if(e==null)return null;if(xe(e))return[$i(e.enter),$i(e.leave)];{const t=$i(e);return[t,t]}}function $i(e){return Ph(e)}function wt(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.add(s)),(e[Ws]||(e[Ws]=new Set)).add(t)}function zt(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const s=e[Ws];s&&(s.delete(t),s.size||(e[Ws]=void 0))}function Fo(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Af=0;function Ho(e,t,s,r){const a=e._endId=++Af,d=()=>{a===e._endId&&r()};if(s!=null)return setTimeout(d,s);const{type:p,timeout:i,propCount:n}=wc(e,t);if(!p)return r();const f=p+"end";let _=0;const h=()=>{e.removeEventListener(f,g),d()},g=v=>{v.target===e&&++_>=n&&h()};setTimeout(()=>{_<n&&h()},i+1),e.addEventListener(f,g)}function wc(e,t){const s=window.getComputedStyle(e),r=w=>(s[w]||"").split(", "),a=r(`${jt}Delay`),d=r(`${jt}Duration`),p=$o(a,d),i=r(`${Zs}Delay`),n=r(`${Zs}Duration`),f=$o(i,n);let _=null,h=0,g=0;t===jt?p>0&&(_=jt,h=p,g=d.length):t===Zs?f>0&&(_=Zs,h=f,g=n.length):(h=Math.max(p,f),_=h>0?p>f?jt:Zs:null,g=_?_===jt?d.length:n.length:0);const v=_===jt&&/\b(transform|all)(,|$)/.test(r(`${jt}Property`).toString());return{type:_,timeout:h,propCount:g,hasTransform:v}}function $o(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((s,r)=>Wo(s)+Wo(e[r])))}function Wo(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function dn(){return document.body.offsetHeight}function xf(e,t,s){const r=e[Ws];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const si=Symbol("_vod"),Ec=Symbol("_vsh"),cr={beforeMount(e,{value:t},{transition:s}){e[si]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):Qs(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:r}){!t!=!s&&(r?t?(r.beforeEnter(e),Qs(e,!0),r.enter(e)):r.leave(e,()=>{Qs(e,!1)}):Qs(e,t))},beforeUnmount(e,{value:t}){Qs(e,t)}};function Qs(e,t){e.style.display=t?e[si]:"none",e[Ec]=!t}const Df=Symbol(""),Of=/(^|;)\s*display\s*:/;function Pf(e,t,s){const r=e.style,a=$e(s);let d=!1;if(s&&!a){if(t)if($e(t))for(const p of t.split(";")){const i=p.slice(0,p.indexOf(":")).trim();s[i]==null&&zr(r,i,"")}else for(const p in t)s[p]==null&&zr(r,p,"");for(const p in s)p==="display"&&(d=!0),zr(r,p,s[p])}else if(a){if(t!==s){const p=r[Df];p&&(s+=";"+p),r.cssText=s,d=Of.test(s)}}else t&&e.removeAttribute("style");si in e&&(e[si]=d?r.display:"",e[Ec]&&(r.display="none"))}const Uo=/\s*!important$/;function zr(e,t,s){if(de(s))s.forEach(r=>zr(e,t,r));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const r=If(e,t);Uo.test(s)?e.setProperty(ws(r),s.replace(Uo,""),"important"):e[r]=s}}const jo=["Webkit","Moz","ms"],Wi={};function If(e,t){const s=Wi[t];if(s)return s;let r=dt(t);if(r!=="filter"&&r in e)return Wi[t]=r;r=di(r);for(let a=0;a<jo.length;a++){const d=jo[a]+r;if(d in e)return Wi[t]=d}return t}const Vo="http://www.w3.org/1999/xlink";function Ko(e,t,s,r,a,d=Hh(t)){r&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(Vo,t.slice(6,t.length)):e.setAttributeNS(Vo,t,s):s==null||d&&!al(s)?e.removeAttribute(t):e.setAttribute(t,d?"":mt(s)?String(s):s)}function zo(e,t,s,r,a){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?Sc(s):s);return}const d=e.tagName;if(t==="value"&&d!=="PROGRESS"&&!d.includes("-")){const i=d==="OPTION"?e.getAttribute("value")||"":e.value,n=s==null?e.type==="checkbox"?"on":"":String(s);(i!==n||!("_value"in e))&&(e.value=n),s==null&&e.removeAttribute(t),e._value=s;return}let p=!1;if(s===""||s==null){const i=typeof e[t];i==="boolean"?s=al(s):s==null&&i==="string"?(s="",p=!0):i==="number"&&(s=0,p=!0)}try{e[t]=s}catch{}p&&e.removeAttribute(a||t)}function _s(e,t,s,r){e.addEventListener(t,s,r)}function Mf(e,t,s,r){e.removeEventListener(t,s,r)}const qo=Symbol("_vei");function Bf(e,t,s,r,a=null){const d=e[qo]||(e[qo]={}),p=d[t];if(r&&p)p.value=r;else{const[i,n]=Nf(t);if(r){const f=d[t]=$f(r,a);_s(e,i,f,n)}else p&&(Mf(e,i,p,n),d[t]=void 0)}}const Go=/(?:Once|Passive|Capture)$/;function Nf(e){let t;if(Go.test(e)){t={};let r;for(;r=e.match(Go);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ws(e.slice(2)),t]}let Ui=0;const Ff=Promise.resolve(),Hf=()=>Ui||(Ff.then(()=>Ui=0),Ui=Date.now());function $f(e,t){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;vt(Wf(r,s.value),t,5,[r])};return s.value=e,s.attached=Hf(),s}function Wf(e,t){if(de(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(r=>a=>!a._stopped&&r&&r(a))}else return t}const Xo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Uf=(e,t,s,r,a,d)=>{const p=a==="svg";t==="class"?xf(e,r,p):t==="style"?Pf(e,s,r):hi(t)?Pn(t)||Bf(e,t,s,r,d):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):jf(e,t,r,p))?(zo(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Ko(e,t,r,p,d,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!$e(r))?zo(e,dt(t),r,d,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Ko(e,t,r,p))};function jf(e,t,s,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&Xo(t)&&pe(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const a=e.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return Xo(t)&&$e(s)?!1:t in e}const Lc=new WeakMap,kc=new WeakMap,ri=Symbol("_moveCb"),Yo=Symbol("_enterCb"),Vf=e=>(delete e.props.mode,e),Kf=Vf({name:"TransitionGroup",props:je({},Cc,{tag:String,moveClass:String}),setup(e,{slots:t}){const s=Cs(),r=Nl();let a,d;return Kl(()=>{if(!a.length)return;const p=e.moveClass||`${e.name||"v"}-move`;if(!Yf(a[0].el,s.vnode.el,p))return;a.forEach(qf),a.forEach(Gf);const i=a.filter(Xf);dn(),i.forEach(n=>{const f=n.el,_=f.style;wt(f,p),_.transform=_.webkitTransform=_.transitionDuration="";const h=f[ri]=g=>{g&&g.target!==f||(!g||/transform$/.test(g.propertyName))&&(f.removeEventListener("transitionend",h),f[ri]=null,zt(f,p))};f.addEventListener("transitionend",h)})}),()=>{const p=be(e),i=yc(p);let n=p.tag||Be;if(a=[],d)for(let f=0;f<d.length;f++){const _=d[f];_.el&&_.el instanceof Element&&(a.push(_),bs(_,mr(_,i,r,s)),Lc.set(_,_.el.getBoundingClientRect()))}d=t.default?zn(t.default()):[];for(let f=0;f<d.length;f++){const _=d[f];_.key!=null&&bs(_,mr(_,i,r,s))}return Se(n,null,d)}}}),zf=Kf;function qf(e){const t=e.el;t[ri]&&t[ri](),t[Yo]&&t[Yo]()}function Gf(e){kc.set(e,e.el.getBoundingClientRect())}function Xf(e){const t=Lc.get(e),s=kc.get(e),r=t.left-s.left,a=t.top-s.top;if(r||a){const d=e.el.style;return d.transform=d.webkitTransform=`translate(${r}px,${a}px)`,d.transitionDuration="0s",e}}function Yf(e,t,s){const r=e.cloneNode(),a=e[Ws];a&&a.forEach(i=>{i.split(/\s+/).forEach(n=>n&&r.classList.remove(n))}),s.split(/\s+/).forEach(i=>i&&r.classList.add(i)),r.style.display="none";const d=t.nodeType===1?t:t.parentNode;d.appendChild(r);const{hasTransform:p}=wc(r);return d.removeChild(r),p}const ii=e=>{const t=e.props["onUpdate:modelValue"]||!1;return de(t)?s=>jr(t,s):t};function Jf(e){e.target.composing=!0}function Jo(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Ns=Symbol("_assign"),ps={created(e,{modifiers:{lazy:t,trim:s,number:r}},a){e[Ns]=ii(a);const d=r||a.props&&a.props.type==="number";_s(e,t?"change":"input",p=>{if(p.target.composing)return;let i=e.value;s&&(i=i.trim()),d&&(i=Gr(i)),e[Ns](i)}),s&&_s(e,"change",()=>{e.value=e.value.trim()}),t||(_s(e,"compositionstart",Jf),_s(e,"compositionend",Jo),_s(e,"change",Jo))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:r,trim:a,number:d}},p){if(e[Ns]=ii(p),e.composing)return;const i=(d||e.type==="number")&&!/^0\d/.test(e.value)?Gr(e.value):e.value,n=t??"";i!==n&&(document.activeElement===e&&e.type!=="range"&&(r&&t===s||a&&e.value.trim()===n)||(e.value=n))}},Zf={deep:!0,created(e,{value:t,modifiers:{number:s}},r){const a=ui(t);_s(e,"change",()=>{const d=Array.prototype.filter.call(e.options,p=>p.selected).map(p=>s?Gr(ni(p)):ni(p));e[Ns](e.multiple?a?new Set(d):d:d[0]),e._assigning=!0,vi(()=>{e._assigning=!1})}),e[Ns]=ii(r)},mounted(e,{value:t}){Zo(e,t)},beforeUpdate(e,t,s){e[Ns]=ii(s)},updated(e,{value:t}){e._assigning||Zo(e,t)}};function Zo(e,t){const s=e.multiple,r=de(t);if(!(s&&!r&&!ui(t))){for(let a=0,d=e.options.length;a<d;a++){const p=e.options[a],i=ni(p);if(s)if(r){const n=typeof i;n==="string"||n==="number"?p.selected=t.some(f=>String(f)===String(i)):p.selected=Wh(t,i)>-1}else p.selected=t.has(i);else if(pi(ni(p),t)){e.selectedIndex!==a&&(e.selectedIndex=a);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function ni(e){return"_value"in e?e._value:e.value}const Qf=["ctrl","shift","alt","meta"],ed={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Qf.some(s=>e[`${s}Key`]&&!t.includes(s))},Fs=(e,t)=>{const s=e._withMods||(e._withMods={}),r=t.join(".");return s[r]||(s[r]=(a,...d)=>{for(let p=0;p<t.length;p++){const i=ed[t[p]];if(i&&i(a,t))return}return e(a,...d)})},td=je({patchProp:Uf},Lf);let Qo;function sd(){return Qo||(Qo=Xu(td))}const rd=(...e)=>{const t=sd().createApp(...e),{mount:s}=t;return t.mount=r=>{const a=nd(r);if(!a)return;const d=t._component;!pe(d)&&!d.render&&!d.template&&(d.template=a.innerHTML),a.nodeType===1&&(a.textContent="");const p=s(a,!1,id(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),p},t};function id(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function nd(e){return $e(e)?document.querySelector(e):e}/*!
 * pinia v3.0.2
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Rc;const Ei=e=>Rc=e,Tc=Symbol();function _n(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var hr;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(hr||(hr={}));function od(){const e=Bn(!0),t=e.run(()=>ze({}));let s=[],r=[];const a=Vn({install(d){Ei(a),a._a=d,d.provide(Tc,a),d.config.globalProperties.$pinia=a,r.forEach(p=>s.push(p)),r=[]},use(d){return this._a?s.push(d):r.push(d),this},_p:s,_a:null,_e:e,_s:new Map,state:t});return a}const Ac=()=>{};function ea(e,t,s,r=Ac){e.push(t);const a=()=>{const d=e.indexOf(t);d>-1&&(e.splice(d,1),r())};return!s&&ul()&&Uh(a),a}function Rs(e,...t){e.slice().forEach(s=>{s(...t)})}const ad=e=>e(),ta=Symbol(),ji=Symbol();function pn(e,t){e instanceof Map&&t instanceof Map?t.forEach((s,r)=>e.set(r,s)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const s in t){if(!t.hasOwnProperty(s))continue;const r=t[s],a=e[s];_n(a)&&_n(r)&&e.hasOwnProperty(s)&&!Fe(r)&&!es(r)?e[s]=pn(a,r):e[s]=r}return e}const ld=Symbol();function cd(e){return!_n(e)||!Object.prototype.hasOwnProperty.call(e,ld)}const{assign:qt}=Object;function hd(e){return!!(Fe(e)&&e.effect)}function ud(e,t,s,r){const{state:a,actions:d,getters:p}=t,i=s.state.value[e];let n;function f(){i||(s.state.value[e]=a?a():{});const _=hu(s.state.value[e]);return qt(_,d,Object.keys(p||{}).reduce((h,g)=>(h[g]=Vn(Ie(()=>{Ei(s);const v=s._s.get(e);return p[g].call(v,v)})),h),{}))}return n=xc(e,f,t,s,r,!0),n}function xc(e,t,s={},r,a,d){let p;const i=qt({actions:{}},s),n={deep:!0};let f,_,h=[],g=[],v;const w=r.state.value[e];!d&&!w&&(r.state.value[e]={}),ze({});let S;function u(b){let L;f=_=!1,typeof b=="function"?(b(r.state.value[e]),L={type:hr.patchFunction,storeId:e,events:v}):(pn(r.state.value[e],b),L={type:hr.patchObject,payload:b,storeId:e,events:v});const T=S=Symbol();vi().then(()=>{S===T&&(f=!0)}),_=!0,Rs(h,L,r.state.value[e])}const l=d?function(){const{state:L}=s,T=L?L():{};this.$patch(M=>{qt(M,T)})}:Ac;function o(){p.stop(),h=[],g=[],r._s.delete(e)}const c=(b,L="")=>{if(ta in b)return b[ji]=L,b;const T=function(){Ei(r);const M=Array.from(arguments),O=[],D=[];function K(ee){O.push(ee)}function Y(ee){D.push(ee)}Rs(g,{args:M,name:T[ji],store:C,after:K,onError:Y});let te;try{te=b.apply(this&&this.$id===e?this:C,M)}catch(ee){throw Rs(D,ee),ee}return te instanceof Promise?te.then(ee=>(Rs(O,ee),ee)).catch(ee=>(Rs(D,ee),Promise.reject(ee))):(Rs(O,te),te)};return T[ta]=!0,T[ji]=L,T},m={_p:r,$id:e,$onAction:ea.bind(null,g),$patch:u,$reset:l,$subscribe(b,L={}){const T=ea(h,b,L.detached,()=>M()),M=p.run(()=>Tt(()=>r.state.value[e],O=>{(L.flush==="sync"?_:f)&&b({storeId:e,type:hr.direct,events:v},O)},qt({},n,L)));return T},$dispose:o},C=xr(m);r._s.set(e,C);const E=(r._a&&r._a.runWithContext||ad)(()=>r._e.run(()=>(p=Bn()).run(()=>t({action:c}))));for(const b in E){const L=E[b];if(Fe(L)&&!hd(L)||es(L))d||(w&&cd(L)&&(Fe(L)?L.value=w[b]:pn(L,w[b])),r.state.value[e][b]=L);else if(typeof L=="function"){const T=c(L,b);E[b]=T,i.actions[b]=L}}return qt(C,E),qt(be(C),E),Object.defineProperty(C,"$state",{get:()=>r.state.value[e],set:b=>{u(L=>{qt(L,b)})}}),r._p.forEach(b=>{qt(C,p.run(()=>b({store:C,app:r._a,pinia:r,options:i})))}),w&&d&&s.hydrate&&s.hydrate(C.$state,w),f=!0,_=!0,C}/*! #__NO_SIDE_EFFECTS__ */function fd(e,t,s){let r;const a=typeof t=="function";r=a?s:t;function d(p,i){const n=Uu();return p=p||(n?ft(Tc,null):null),p&&Ei(p),p=Rc,p._s.has(e)||(a?xc(e,t,r,p):ud(e,r,p)),p._s.get(e)}return d.$id=e,d}const Dc=new Set,rt=new WeakMap,Us=new WeakMap,ys=new WeakMap,gn=new WeakMap,dd=new WeakMap,js=new WeakMap,oi=new WeakMap,rr=new WeakSet;let ss,Jn=0,Zn=0;const Ft="__aa_tgt",br="__aa_del",ai="__aa_new",_d=e=>{const t=bd(e);t&&t.forEach(s=>Cd(s))},pd=e=>{e.forEach(t=>{t.target===ss&&md(),rt.has(t.target)&&Es(t.target)})};function gd(e){const t=gn.get(e);t==null||t.disconnect();let s=rt.get(e),r=0;const a=5;s||(s=Vs(e),rt.set(e,s));const{offsetWidth:d,offsetHeight:p}=ss,n=[s.top-a,d-(s.left+a+s.width),p-(s.top+a+s.height),s.left-a].map(_=>`${-1*Math.floor(_)}px`).join(" "),f=new IntersectionObserver(()=>{++r>1&&Es(e)},{root:ss,threshold:1,rootMargin:n});f.observe(e),gn.set(e,f)}function Es(e){clearTimeout(oi.get(e));const t=Li(e),s=Cr(t)?500:t.duration;oi.set(e,setTimeout(async()=>{const r=ys.get(e);try{await(r==null?void 0:r.finished),rt.set(e,Vs(e)),gd(e)}catch{}},s))}function md(){clearTimeout(oi.get(ss)),oi.set(ss,setTimeout(()=>{Dc.forEach(e=>Mc(e,t=>Oc(()=>Es(t))))},100))}function vd(e){setTimeout(()=>{dd.set(e,setInterval(()=>Oc(Es.bind(null,e)),2e3))},Math.round(2e3*Math.random()))}function Oc(e){typeof requestIdleCallback=="function"?requestIdleCallback(()=>e()):requestAnimationFrame(()=>e())}let mn,Ds;const Sd=typeof window<"u"&&"ResizeObserver"in window;Sd&&(ss=document.documentElement,mn=new MutationObserver(_d),Ds=new ResizeObserver(pd),window.addEventListener("scroll",()=>{Zn=window.scrollY,Jn=window.scrollX}),Ds.observe(ss));function bd(e){return e.reduce((r,a)=>[...r,...Array.from(a.addedNodes),...Array.from(a.removedNodes)],[]).every(r=>r.nodeName==="#comment")?!1:e.reduce((r,a)=>{if(r===!1)return!1;if(a.target instanceof Element){if(Vi(a.target),!r.has(a.target)){r.add(a.target);for(let d=0;d<a.target.children.length;d++){const p=a.target.children.item(d);if(p){if(br in p)return!1;Vi(a.target,p),r.add(p)}}}if(a.removedNodes.length)for(let d=0;d<a.removedNodes.length;d++){const p=a.removedNodes[d];if(br in p)return!1;p instanceof Element&&(r.add(p),Vi(a.target,p),Us.set(p,[a.previousSibling,a.nextSibling]))}}return r},new Set)}function Vi(e,t){!t&&!(Ft in e)?Object.defineProperty(e,Ft,{value:e}):t&&!(Ft in t)&&Object.defineProperty(t,Ft,{value:e})}function Cd(e){var t;const s=e.isConnected,r=rt.has(e);s&&Us.has(e)&&Us.delete(e),ys.has(e)&&((t=ys.get(e))===null||t===void 0||t.cancel()),ai in e?sa(e):r&&s?wd(e):r&&!s?Ed(e):sa(e)}function Lt(e){return Number(e.replace(/[^0-9.\-]/g,""))}function yd(e){let t=e.parentElement;for(;t;){if(t.scrollLeft||t.scrollTop)return{x:t.scrollLeft,y:t.scrollTop};t=t.parentElement}return{x:0,y:0}}function Vs(e){const t=e.getBoundingClientRect(),{x:s,y:r}=yd(e);return{top:t.top+r,left:t.left+s,width:t.width,height:t.height}}function Pc(e,t,s){let r=t.width,a=t.height,d=s.width,p=s.height;const i=getComputedStyle(e);if(i.getPropertyValue("box-sizing")==="content-box"){const f=Lt(i.paddingTop)+Lt(i.paddingBottom)+Lt(i.borderTopWidth)+Lt(i.borderBottomWidth),_=Lt(i.paddingLeft)+Lt(i.paddingRight)+Lt(i.borderRightWidth)+Lt(i.borderLeftWidth);r-=_,d-=_,a-=f,p-=f}return[r,d,a,p].map(Math.round)}function Li(e){return Ft in e&&js.has(e[Ft])?js.get(e[Ft]):{duration:250,easing:"ease-in-out"}}function Ic(e){if(Ft in e)return e[Ft]}function Qn(e){const t=Ic(e);return t?rr.has(t):!1}function Mc(e,...t){t.forEach(s=>s(e,js.has(e)));for(let s=0;s<e.children.length;s++){const r=e.children.item(s);r&&t.forEach(a=>a(r,js.has(r)))}}function eo(e){return Array.isArray(e)?e:[e]}function Cr(e){return typeof e=="function"}function wd(e){const t=rt.get(e),s=Vs(e);if(!Qn(e))return rt.set(e,s);let r;if(!t)return;const a=Li(e);if(typeof a!="function"){const d=t.left-s.left,p=t.top-s.top,[i,n,f,_]=Pc(e,t,s),h={transform:`translate(${d}px, ${p}px)`},g={transform:"translate(0, 0)"};i!==n&&(h.width=`${i}px`,g.width=`${n}px`),f!==_&&(h.height=`${f}px`,g.height=`${_}px`),r=e.animate([h,g],{duration:a.duration,easing:a.easing})}else{const[d]=eo(a(e,"remain",t,s));r=new Animation(d),r.play()}ys.set(e,r),rt.set(e,s),r.addEventListener("finish",Es.bind(null,e))}function sa(e){ai in e&&delete e[ai];const t=Vs(e);rt.set(e,t);const s=Li(e);if(!Qn(e))return;let r;if(typeof s!="function")r=e.animate([{transform:"scale(.98)",opacity:0},{transform:"scale(0.98)",opacity:0,offset:.5},{transform:"scale(1)",opacity:1}],{duration:s.duration*1.5,easing:"ease-in"});else{const[a]=eo(s(e,"add",t));r=new Animation(a),r.play()}ys.set(e,r),r.addEventListener("finish",Es.bind(null,e))}function ra(e,t){var s;e.remove(),rt.delete(e),Us.delete(e),ys.delete(e),(s=gn.get(e))===null||s===void 0||s.disconnect(),setTimeout(()=>{if(br in e&&delete e[br],Object.defineProperty(e,ai,{value:!0,configurable:!0}),t&&e instanceof HTMLElement)for(const r in t)e.style[r]=""},0)}function Ed(e){var t;if(!Us.has(e)||!rt.has(e))return;const[s,r]=Us.get(e);Object.defineProperty(e,br,{value:!0,configurable:!0});const a=window.scrollX,d=window.scrollY;if(r&&r.parentNode&&r.parentNode instanceof Element?r.parentNode.insertBefore(e,r):s&&s.parentNode?s.parentNode.appendChild(e):(t=Ic(e))===null||t===void 0||t.appendChild(e),!Qn(e))return ra(e);const[p,i,n,f]=kd(e),_=Li(e),h=rt.get(e);(a!==Jn||d!==Zn)&&Ld(e,a,d,_);let g,v={position:"absolute",top:`${p}px`,left:`${i}px`,width:`${n}px`,height:`${f}px`,margin:"0",pointerEvents:"none",transformOrigin:"center",zIndex:"100"};if(!Cr(_))Object.assign(e.style,v),g=e.animate([{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}],{duration:_.duration,easing:"ease-out"});else{const[w,S]=eo(_(e,"remove",h));(S==null?void 0:S.styleReset)!==!1&&(v=(S==null?void 0:S.styleReset)||v,Object.assign(e.style,v)),g=new Animation(w),g.play()}ys.set(e,g),g.addEventListener("finish",ra.bind(null,e,v))}function Ld(e,t,s,r){const a=Jn-t,d=Zn-s,p=document.documentElement.style.scrollBehavior;if(getComputedStyle(ss).scrollBehavior==="smooth"&&(document.documentElement.style.scrollBehavior="auto"),window.scrollTo(window.scrollX+a,window.scrollY+d),!e.parentElement)return;const n=e.parentElement;let f=n.clientHeight,_=n.clientWidth;const h=performance.now();function g(){requestAnimationFrame(()=>{if(!Cr(r)){const v=f-n.clientHeight,w=_-n.clientWidth;h+r.duration>performance.now()?(window.scrollTo({left:window.scrollX-w,top:window.scrollY-v}),f=n.clientHeight,_=n.clientWidth,g()):document.documentElement.style.scrollBehavior=p}})}g()}function kd(e){const t=rt.get(e),[s,,r]=Pc(e,t,Vs(e));let a=e.parentElement;for(;a&&(getComputedStyle(a).position==="static"||a instanceof HTMLBodyElement);)a=a.parentElement;a||(a=document.body);const d=getComputedStyle(a),p=rt.get(a)||Vs(a),i=Math.round(t.top-p.top)-Lt(d.borderTopWidth),n=Math.round(t.left-p.left)-Lt(d.borderLeftWidth);return[i,n,s,r]}function Rd(e,t={}){return mn&&Ds&&(window.matchMedia("(prefers-reduced-motion: reduce)").matches&&!Cr(t)&&!t.disrespectUserMotionPreference||(rr.add(e),getComputedStyle(e).position==="static"&&Object.assign(e.style,{position:"relative"}),Mc(e,Es,vd,a=>Ds==null?void 0:Ds.observe(a)),Cr(t)?js.set(e,t):js.set(e,{duration:250,easing:"ease-in-out",...t}),mn.observe(e,{childList:!0}),Dc.add(e))),Object.freeze({parent:e,enable:()=>{rr.add(e)},disable:()=>{rr.delete(e)},isEnabled:()=>rr.has(e)})}const Td={mounted:(e,t)=>{Rd(e,t.value||{})},getSSRProps:()=>({})},Ad=Td,xd={install(e){e.directive("auto-animate",Ad)}};/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const As=typeof document<"u";function Bc(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Dd(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Bc(e.default)}const Le=Object.assign;function Ki(e,t){const s={};for(const r in t){const a=t[r];s[r]=St(a)?a.map(e):e(a)}return s}const ur=()=>{},St=Array.isArray,Nc=/#/g,Od=/&/g,Pd=/\//g,Id=/=/g,Md=/\?/g,Fc=/\+/g,Bd=/%5B/g,Nd=/%5D/g,Hc=/%5E/g,Fd=/%60/g,$c=/%7B/g,Hd=/%7C/g,Wc=/%7D/g,$d=/%20/g;function to(e){return encodeURI(""+e).replace(Hd,"|").replace(Bd,"[").replace(Nd,"]")}function Wd(e){return to(e).replace($c,"{").replace(Wc,"}").replace(Hc,"^")}function vn(e){return to(e).replace(Fc,"%2B").replace($d,"+").replace(Nc,"%23").replace(Od,"%26").replace(Fd,"`").replace($c,"{").replace(Wc,"}").replace(Hc,"^")}function Ud(e){return vn(e).replace(Id,"%3D")}function jd(e){return to(e).replace(Nc,"%23").replace(Md,"%3F")}function Vd(e){return e==null?"":jd(e).replace(Pd,"%2F")}function yr(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Kd=/\/$/,zd=e=>e.replace(Kd,"");function zi(e,t,s="/"){let r,a={},d="",p="";const i=t.indexOf("#");let n=t.indexOf("?");return i<n&&i>=0&&(n=-1),n>-1&&(r=t.slice(0,n),d=t.slice(n+1,i>-1?i:t.length),a=e(d)),i>-1&&(r=r||t.slice(0,i),p=t.slice(i,t.length)),r=Yd(r??t,s),{fullPath:r+(d&&"?")+d+p,path:r,query:a,hash:yr(p)}}function qd(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function ia(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Gd(e,t,s){const r=t.matched.length-1,a=s.matched.length-1;return r>-1&&r===a&&Ks(t.matched[r],s.matched[a])&&Uc(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function Ks(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Uc(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!Xd(e[s],t[s]))return!1;return!0}function Xd(e,t){return St(e)?na(e,t):St(t)?na(t,e):e===t}function na(e,t){return St(t)?e.length===t.length&&e.every((s,r)=>s===t[r]):e.length===1&&e[0]===t}function Yd(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),r=e.split("/"),a=r[r.length-1];(a===".."||a===".")&&r.push("");let d=s.length-1,p,i;for(p=0;p<r.length;p++)if(i=r[p],i!==".")if(i==="..")d>1&&d--;else break;return s.slice(0,d).join("/")+"/"+r.slice(p).join("/")}const Vt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var wr;(function(e){e.pop="pop",e.push="push"})(wr||(wr={}));var fr;(function(e){e.back="back",e.forward="forward",e.unknown=""})(fr||(fr={}));function Jd(e){if(!e)if(As){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),zd(e)}const Zd=/^[^#]+#/;function Qd(e,t){return e.replace(Zd,"#")+t}function e_(e,t){const s=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-s.left-(t.left||0),top:r.top-s.top-(t.top||0)}}const ki=()=>({left:window.scrollX,top:window.scrollY});function t_(e){let t;if("el"in e){const s=e.el,r=typeof s=="string"&&s.startsWith("#"),a=typeof s=="string"?r?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!a)return;t=e_(a,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function oa(e,t){return(history.state?history.state.position-t:-1)+e}const Sn=new Map;function s_(e,t){Sn.set(e,t)}function r_(e){const t=Sn.get(e);return Sn.delete(e),t}let i_=()=>location.protocol+"//"+location.host;function jc(e,t){const{pathname:s,search:r,hash:a}=t,d=e.indexOf("#");if(d>-1){let i=a.includes(e.slice(d))?e.slice(d).length:1,n=a.slice(i);return n[0]!=="/"&&(n="/"+n),ia(n,"")}return ia(s,e)+r+a}function n_(e,t,s,r){let a=[],d=[],p=null;const i=({state:g})=>{const v=jc(e,location),w=s.value,S=t.value;let u=0;if(g){if(s.value=v,t.value=g,p&&p===w){p=null;return}u=S?g.position-S.position:0}else r(v);a.forEach(l=>{l(s.value,w,{delta:u,type:wr.pop,direction:u?u>0?fr.forward:fr.back:fr.unknown})})};function n(){p=s.value}function f(g){a.push(g);const v=()=>{const w=a.indexOf(g);w>-1&&a.splice(w,1)};return d.push(v),v}function _(){const{history:g}=window;g.state&&g.replaceState(Le({},g.state,{scroll:ki()}),"")}function h(){for(const g of d)g();d=[],window.removeEventListener("popstate",i),window.removeEventListener("beforeunload",_)}return window.addEventListener("popstate",i),window.addEventListener("beforeunload",_,{passive:!0}),{pauseListeners:n,listen:f,destroy:h}}function aa(e,t,s,r=!1,a=!1){return{back:e,current:t,forward:s,replaced:r,position:window.history.length,scroll:a?ki():null}}function o_(e){const{history:t,location:s}=window,r={value:jc(e,s)},a={value:t.state};a.value||d(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function d(n,f,_){const h=e.indexOf("#"),g=h>-1?(s.host&&document.querySelector("base")?e:e.slice(h))+n:i_()+e+n;try{t[_?"replaceState":"pushState"](f,"",g),a.value=f}catch(v){console.error(v),s[_?"replace":"assign"](g)}}function p(n,f){const _=Le({},t.state,aa(a.value.back,n,a.value.forward,!0),f,{position:a.value.position});d(n,_,!0),r.value=n}function i(n,f){const _=Le({},a.value,t.state,{forward:n,scroll:ki()});d(_.current,_,!0);const h=Le({},aa(r.value,n,null),{position:_.position+1},f);d(n,h,!1),r.value=n}return{location:r,state:a,push:i,replace:p}}function a_(e){e=Jd(e);const t=o_(e),s=n_(e,t.state,t.location,t.replace);function r(d,p=!0){p||s.pauseListeners(),history.go(d)}const a=Le({location:"",base:e,go:r,createHref:Qd.bind(null,e)},t,s);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>t.state.value}),a}function l_(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),a_(e)}function c_(e){return typeof e=="string"||e&&typeof e=="object"}function Vc(e){return typeof e=="string"||typeof e=="symbol"}const Kc=Symbol("");var la;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(la||(la={}));function zs(e,t){return Le(new Error,{type:e,[Kc]:!0},t)}function Dt(e,t){return e instanceof Error&&Kc in e&&(t==null||!!(e.type&t))}const ca="[^/]+?",h_={sensitive:!1,strict:!1,start:!0,end:!0},u_=/[.+*?^${}()[\]/\\]/g;function f_(e,t){const s=Le({},h_,t),r=[];let a=s.start?"^":"";const d=[];for(const f of e){const _=f.length?[]:[90];s.strict&&!f.length&&(a+="/");for(let h=0;h<f.length;h++){const g=f[h];let v=40+(s.sensitive?.25:0);if(g.type===0)h||(a+="/"),a+=g.value.replace(u_,"\\$&"),v+=40;else if(g.type===1){const{value:w,repeatable:S,optional:u,regexp:l}=g;d.push({name:w,repeatable:S,optional:u});const o=l||ca;if(o!==ca){v+=10;try{new RegExp(`(${o})`)}catch(m){throw new Error(`Invalid custom RegExp for param "${w}" (${o}): `+m.message)}}let c=S?`((?:${o})(?:/(?:${o}))*)`:`(${o})`;h||(c=u&&f.length<2?`(?:/${c})`:"/"+c),u&&(c+="?"),a+=c,v+=20,u&&(v+=-8),S&&(v+=-20),o===".*"&&(v+=-50)}_.push(v)}r.push(_)}if(s.strict&&s.end){const f=r.length-1;r[f][r[f].length-1]+=.7000000000000001}s.strict||(a+="/?"),s.end?a+="$":s.strict&&!a.endsWith("/")&&(a+="(?:/|$)");const p=new RegExp(a,s.sensitive?"":"i");function i(f){const _=f.match(p),h={};if(!_)return null;for(let g=1;g<_.length;g++){const v=_[g]||"",w=d[g-1];h[w.name]=v&&w.repeatable?v.split("/"):v}return h}function n(f){let _="",h=!1;for(const g of e){(!h||!_.endsWith("/"))&&(_+="/"),h=!1;for(const v of g)if(v.type===0)_+=v.value;else if(v.type===1){const{value:w,repeatable:S,optional:u}=v,l=w in f?f[w]:"";if(St(l)&&!S)throw new Error(`Provided param "${w}" is an array but it is not repeatable (* or + modifiers)`);const o=St(l)?l.join("/"):l;if(!o)if(u)g.length<2&&(_.endsWith("/")?_=_.slice(0,-1):h=!0);else throw new Error(`Missing required param "${w}"`);_+=o}}return _||"/"}return{re:p,score:r,keys:d,parse:i,stringify:n}}function d_(e,t){let s=0;for(;s<e.length&&s<t.length;){const r=t[s]-e[s];if(r)return r;s++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function zc(e,t){let s=0;const r=e.score,a=t.score;for(;s<r.length&&s<a.length;){const d=d_(r[s],a[s]);if(d)return d;s++}if(Math.abs(a.length-r.length)===1){if(ha(r))return 1;if(ha(a))return-1}return a.length-r.length}function ha(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const __={type:0,value:""},p_=/[a-zA-Z0-9_]/;function g_(e){if(!e)return[[]];if(e==="/")return[[__]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(v){throw new Error(`ERR (${s})/"${f}": ${v}`)}let s=0,r=s;const a=[];let d;function p(){d&&a.push(d),d=[]}let i=0,n,f="",_="";function h(){f&&(s===0?d.push({type:0,value:f}):s===1||s===2||s===3?(d.length>1&&(n==="*"||n==="+")&&t(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),d.push({type:1,value:f,regexp:_,repeatable:n==="*"||n==="+",optional:n==="*"||n==="?"})):t("Invalid state to consume buffer"),f="")}function g(){f+=n}for(;i<e.length;){if(n=e[i++],n==="\\"&&s!==2){r=s,s=4;continue}switch(s){case 0:n==="/"?(f&&h(),p()):n===":"?(h(),s=1):g();break;case 4:g(),s=r;break;case 1:n==="("?s=2:p_.test(n)?g():(h(),s=0,n!=="*"&&n!=="?"&&n!=="+"&&i--);break;case 2:n===")"?_[_.length-1]=="\\"?_=_.slice(0,-1)+n:s=3:_+=n;break;case 3:h(),s=0,n!=="*"&&n!=="?"&&n!=="+"&&i--,_="";break;default:t("Unknown state");break}}return s===2&&t(`Unfinished custom RegExp for param "${f}"`),h(),p(),a}function m_(e,t,s){const r=f_(g_(e.path),s),a=Le(r,{record:e,parent:t,children:[],alias:[]});return t&&!a.record.aliasOf==!t.record.aliasOf&&t.children.push(a),a}function v_(e,t){const s=[],r=new Map;t=_a({strict:!1,end:!0,sensitive:!1},t);function a(h){return r.get(h)}function d(h,g,v){const w=!v,S=fa(h);S.aliasOf=v&&v.record;const u=_a(t,h),l=[S];if("alias"in h){const m=typeof h.alias=="string"?[h.alias]:h.alias;for(const C of m)l.push(fa(Le({},S,{components:v?v.record.components:S.components,path:C,aliasOf:v?v.record:S})))}let o,c;for(const m of l){const{path:C}=m;if(g&&C[0]!=="/"){const y=g.record.path,E=y[y.length-1]==="/"?"":"/";m.path=g.record.path+(C&&E+C)}if(o=m_(m,g,u),v?v.alias.push(o):(c=c||o,c!==o&&c.alias.push(o),w&&h.name&&!da(o)&&p(h.name)),qc(o)&&n(o),S.children){const y=S.children;for(let E=0;E<y.length;E++)d(y[E],o,v&&v.children[E])}v=v||o}return c?()=>{p(c)}:ur}function p(h){if(Vc(h)){const g=r.get(h);g&&(r.delete(h),s.splice(s.indexOf(g),1),g.children.forEach(p),g.alias.forEach(p))}else{const g=s.indexOf(h);g>-1&&(s.splice(g,1),h.record.name&&r.delete(h.record.name),h.children.forEach(p),h.alias.forEach(p))}}function i(){return s}function n(h){const g=C_(h,s);s.splice(g,0,h),h.record.name&&!da(h)&&r.set(h.record.name,h)}function f(h,g){let v,w={},S,u;if("name"in h&&h.name){if(v=r.get(h.name),!v)throw zs(1,{location:h});u=v.record.name,w=Le(ua(g.params,v.keys.filter(c=>!c.optional).concat(v.parent?v.parent.keys.filter(c=>c.optional):[]).map(c=>c.name)),h.params&&ua(h.params,v.keys.map(c=>c.name))),S=v.stringify(w)}else if(h.path!=null)S=h.path,v=s.find(c=>c.re.test(S)),v&&(w=v.parse(S),u=v.record.name);else{if(v=g.name?r.get(g.name):s.find(c=>c.re.test(g.path)),!v)throw zs(1,{location:h,currentLocation:g});u=v.record.name,w=Le({},g.params,h.params),S=v.stringify(w)}const l=[];let o=v;for(;o;)l.unshift(o.record),o=o.parent;return{name:u,path:S,params:w,matched:l,meta:b_(l)}}e.forEach(h=>d(h));function _(){s.length=0,r.clear()}return{addRoute:d,resolve:f,removeRoute:p,clearRoutes:_,getRoutes:i,getRecordMatcher:a}}function ua(e,t){const s={};for(const r of t)r in e&&(s[r]=e[r]);return s}function fa(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:S_(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function S_(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const r in e.components)t[r]=typeof s=="object"?s[r]:s;return t}function da(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function b_(e){return e.reduce((t,s)=>Le(t,s.meta),{})}function _a(e,t){const s={};for(const r in e)s[r]=r in t?t[r]:e[r];return s}function C_(e,t){let s=0,r=t.length;for(;s!==r;){const d=s+r>>1;zc(e,t[d])<0?r=d:s=d+1}const a=y_(e);return a&&(r=t.lastIndexOf(a,r-1)),r}function y_(e){let t=e;for(;t=t.parent;)if(qc(t)&&zc(e,t)===0)return t}function qc({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function w_(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let a=0;a<r.length;++a){const d=r[a].replace(Fc," "),p=d.indexOf("="),i=yr(p<0?d:d.slice(0,p)),n=p<0?null:yr(d.slice(p+1));if(i in t){let f=t[i];St(f)||(f=t[i]=[f]),f.push(n)}else t[i]=n}return t}function pa(e){let t="";for(let s in e){const r=e[s];if(s=Ud(s),r==null){r!==void 0&&(t+=(t.length?"&":"")+s);continue}(St(r)?r.map(d=>d&&vn(d)):[r&&vn(r)]).forEach(d=>{d!==void 0&&(t+=(t.length?"&":"")+s,d!=null&&(t+="="+d))})}return t}function E_(e){const t={};for(const s in e){const r=e[s];r!==void 0&&(t[s]=St(r)?r.map(a=>a==null?null:""+a):r==null?r:""+r)}return t}const L_=Symbol(""),ga=Symbol(""),Ri=Symbol(""),Gc=Symbol(""),bn=Symbol("");function er(){let e=[];function t(r){return e.push(r),()=>{const a=e.indexOf(r);a>-1&&e.splice(a,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function Jt(e,t,s,r,a,d=p=>p()){const p=r&&(r.enterCallbacks[a]=r.enterCallbacks[a]||[]);return()=>new Promise((i,n)=>{const f=g=>{g===!1?n(zs(4,{from:s,to:t})):g instanceof Error?n(g):c_(g)?n(zs(2,{from:t,to:g})):(p&&r.enterCallbacks[a]===p&&typeof g=="function"&&p.push(g),i())},_=d(()=>e.call(r&&r.instances[a],t,s,f));let h=Promise.resolve(_);e.length<3&&(h=h.then(f)),h.catch(g=>n(g))})}function qi(e,t,s,r,a=d=>d()){const d=[];for(const p of e)for(const i in p.components){let n=p.components[i];if(!(t!=="beforeRouteEnter"&&!p.instances[i]))if(Bc(n)){const _=(n.__vccOpts||n)[t];_&&d.push(Jt(_,s,r,p,i,a))}else{let f=n();d.push(()=>f.then(_=>{if(!_)throw new Error(`Couldn't resolve component "${i}" at "${p.path}"`);const h=Dd(_)?_.default:_;p.mods[i]=_,p.components[i]=h;const v=(h.__vccOpts||h)[t];return v&&Jt(v,s,r,p,i,a)()}))}}return d}function ma(e){const t=ft(Ri),s=ft(Gc),r=Ie(()=>{const n=ue(e.to);return t.resolve(n)}),a=Ie(()=>{const{matched:n}=r.value,{length:f}=n,_=n[f-1],h=s.matched;if(!_||!h.length)return-1;const g=h.findIndex(Ks.bind(null,_));if(g>-1)return g;const v=va(n[f-2]);return f>1&&va(_)===v&&h[h.length-1].path!==v?h.findIndex(Ks.bind(null,n[f-2])):g}),d=Ie(()=>a.value>-1&&x_(s.params,r.value.params)),p=Ie(()=>a.value>-1&&a.value===s.matched.length-1&&Uc(s.params,r.value.params));function i(n={}){if(A_(n)){const f=t[ue(e.replace)?"replace":"push"](ue(e.to)).catch(ur);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>f),f}return Promise.resolve()}return{route:r,href:Ie(()=>r.value.href),isActive:d,isExactActive:p,navigate:i}}function k_(e){return e.length===1?e[0]:e}const R_=nt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:ma,setup(e,{slots:t}){const s=xr(ma(e)),{options:r}=ft(Ri),a=Ie(()=>({[Sa(e.activeClass,r.linkActiveClass,"router-link-active")]:s.isActive,[Sa(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const d=t.default&&k_(t.default(s));return e.custom?d:Ir("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:a.value},d)}}}),T_=R_;function A_(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function x_(e,t){for(const s in t){const r=t[s],a=e[s];if(typeof r=="string"){if(r!==a)return!1}else if(!St(a)||a.length!==r.length||r.some((d,p)=>d!==a[p]))return!1}return!0}function va(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Sa=(e,t,s)=>e??t??s,D_=nt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const r=ft(bn),a=Ie(()=>e.route||r.value),d=ft(ga,0),p=Ie(()=>{let f=ue(d);const{matched:_}=a.value;let h;for(;(h=_[f])&&!h.components;)f++;return f}),i=Ie(()=>a.value.matched[p.value]);Vr(ga,Ie(()=>p.value+1)),Vr(L_,i),Vr(bn,a);const n=ze();return Tt(()=>[n.value,i.value,e.name],([f,_,h],[g,v,w])=>{_&&(_.instances[h]=f,v&&v!==_&&f&&f===g&&(_.leaveGuards.size||(_.leaveGuards=v.leaveGuards),_.updateGuards.size||(_.updateGuards=v.updateGuards))),f&&_&&(!v||!Ks(_,v)||!g)&&(_.enterCallbacks[h]||[]).forEach(S=>S(f))},{flush:"post"}),()=>{const f=a.value,_=e.name,h=i.value,g=h&&h.components[_];if(!g)return ba(s.default,{Component:g,route:f});const v=h.props[_],w=v?v===!0?f.params:typeof v=="function"?v(f):v:null,u=Ir(g,Le({},w,t,{onVnodeUnmounted:l=>{l.component.isUnmounted&&(h.instances[_]=null)},ref:n}));return ba(s.default,{Component:u,route:f})||u}}});function ba(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const Xc=D_;function O_(e){const t=v_(e.routes,e),s=e.parseQuery||w_,r=e.stringifyQuery||pa,a=e.history,d=er(),p=er(),i=er(),n=Tl(Vt);let f=Vt;As&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const _=Ki.bind(null,x=>""+x),h=Ki.bind(null,Vd),g=Ki.bind(null,yr);function v(x,k){let V,W;return Vc(x)?(V=t.getRecordMatcher(x),W=k):W=x,t.addRoute(W,V)}function w(x){const k=t.getRecordMatcher(x);k&&t.removeRoute(k)}function S(){return t.getRoutes().map(x=>x.record)}function u(x){return!!t.getRecordMatcher(x)}function l(x,k){if(k=Le({},k||n.value),typeof x=="string"){const $=zi(s,x,k.path),X=t.resolve({path:$.path},k),J=a.createHref($.fullPath);return Le($,X,{params:g(X.params),hash:yr($.hash),redirectedFrom:void 0,href:J})}let V;if(x.path!=null)V=Le({},x,{path:zi(s,x.path,k.path).path});else{const $=Le({},x.params);for(const X in $)$[X]==null&&delete $[X];V=Le({},x,{params:h($)}),k.params=h(k.params)}const W=t.resolve(V,k),re=x.hash||"";W.params=_(g(W.params));const A=qd(r,Le({},x,{hash:Wd(re),path:W.path})),B=a.createHref(A);return Le({fullPath:A,hash:re,query:r===pa?E_(x.query):x.query||{}},W,{redirectedFrom:void 0,href:B})}function o(x){return typeof x=="string"?zi(s,x,n.value.path):Le({},x)}function c(x,k){if(f!==x)return zs(8,{from:k,to:x})}function m(x){return E(x)}function C(x){return m(Le(o(x),{replace:!0}))}function y(x){const k=x.matched[x.matched.length-1];if(k&&k.redirect){const{redirect:V}=k;let W=typeof V=="function"?V(x):V;return typeof W=="string"&&(W=W.includes("?")||W.includes("#")?W=o(W):{path:W},W.params={}),Le({query:x.query,hash:x.hash,params:W.path!=null?{}:x.params},W)}}function E(x,k){const V=f=l(x),W=n.value,re=x.state,A=x.force,B=x.replace===!0,$=y(V);if($)return E(Le(o($),{state:typeof $=="object"?Le({},re,$.state):re,force:A,replace:B}),k||V);const X=V;X.redirectedFrom=k;let J;return!A&&Gd(r,W,V)&&(J=zs(16,{to:X,from:W}),F(W,W,!0,!1)),(J?Promise.resolve(J):T(X,W)).catch(z=>Dt(z)?Dt(z,2)?z:N(z):Z(z,X,W)).then(z=>{if(z){if(Dt(z,2))return E(Le({replace:B},o(z.to),{state:typeof z.to=="object"?Le({},re,z.to.state):re,force:A}),k||X)}else z=O(X,W,!0,B,re);return M(X,W,z),z})}function b(x,k){const V=c(x,k);return V?Promise.reject(V):Promise.resolve()}function L(x){const k=ie.values().next().value;return k&&typeof k.runWithContext=="function"?k.runWithContext(x):x()}function T(x,k){let V;const[W,re,A]=P_(x,k);V=qi(W.reverse(),"beforeRouteLeave",x,k);for(const $ of W)$.leaveGuards.forEach(X=>{V.push(Jt(X,x,k))});const B=b.bind(null,x,k);return V.push(B),ce(V).then(()=>{V=[];for(const $ of d.list())V.push(Jt($,x,k));return V.push(B),ce(V)}).then(()=>{V=qi(re,"beforeRouteUpdate",x,k);for(const $ of re)$.updateGuards.forEach(X=>{V.push(Jt(X,x,k))});return V.push(B),ce(V)}).then(()=>{V=[];for(const $ of A)if($.beforeEnter)if(St($.beforeEnter))for(const X of $.beforeEnter)V.push(Jt(X,x,k));else V.push(Jt($.beforeEnter,x,k));return V.push(B),ce(V)}).then(()=>(x.matched.forEach($=>$.enterCallbacks={}),V=qi(A,"beforeRouteEnter",x,k,L),V.push(B),ce(V))).then(()=>{V=[];for(const $ of p.list())V.push(Jt($,x,k));return V.push(B),ce(V)}).catch($=>Dt($,8)?$:Promise.reject($))}function M(x,k,V){i.list().forEach(W=>L(()=>W(x,k,V)))}function O(x,k,V,W,re){const A=c(x,k);if(A)return A;const B=k===Vt,$=As?history.state:{};V&&(W||B?a.replace(x.fullPath,Le({scroll:B&&$&&$.scroll},re)):a.push(x.fullPath,re)),n.value=x,F(x,k,V,B),N()}let D;function K(){D||(D=a.listen((x,k,V)=>{if(!he.listening)return;const W=l(x),re=y(W);if(re){E(Le(re,{replace:!0,force:!0}),W).catch(ur);return}f=W;const A=n.value;As&&s_(oa(A.fullPath,V.delta),ki()),T(W,A).catch(B=>Dt(B,12)?B:Dt(B,2)?(E(Le(o(B.to),{force:!0}),W).then($=>{Dt($,20)&&!V.delta&&V.type===wr.pop&&a.go(-1,!1)}).catch(ur),Promise.reject()):(V.delta&&a.go(-V.delta,!1),Z(B,W,A))).then(B=>{B=B||O(W,A,!1),B&&(V.delta&&!Dt(B,8)?a.go(-V.delta,!1):V.type===wr.pop&&Dt(B,20)&&a.go(-1,!1)),M(W,A,B)}).catch(ur)}))}let Y=er(),te=er(),ee;function Z(x,k,V){N(x);const W=te.list();return W.length?W.forEach(re=>re(x,k,V)):console.error(x),Promise.reject(x)}function R(){return ee&&n.value!==Vt?Promise.resolve():new Promise((x,k)=>{Y.add([x,k])})}function N(x){return ee||(ee=!x,K(),Y.list().forEach(([k,V])=>x?V(x):k()),Y.reset()),x}function F(x,k,V,W){const{scrollBehavior:re}=e;if(!As||!re)return Promise.resolve();const A=!V&&r_(oa(x.fullPath,0))||(W||!V)&&history.state&&history.state.scroll||null;return vi().then(()=>re(x,k,A)).then(B=>B&&t_(B)).catch(B=>Z(B,x,k))}const H=x=>a.go(x);let se;const ie=new Set,he={currentRoute:n,listening:!0,addRoute:v,removeRoute:w,clearRoutes:t.clearRoutes,hasRoute:u,getRoutes:S,resolve:l,options:e,push:m,replace:C,go:H,back:()=>H(-1),forward:()=>H(1),beforeEach:d.add,beforeResolve:p.add,afterEach:i.add,onError:te.add,isReady:R,install(x){const k=this;x.component("RouterLink",T_),x.component("RouterView",Xc),x.config.globalProperties.$router=k,Object.defineProperty(x.config.globalProperties,"$route",{enumerable:!0,get:()=>ue(n)}),As&&!se&&n.value===Vt&&(se=!0,m(a.location).catch(re=>{}));const V={};for(const re in Vt)Object.defineProperty(V,re,{get:()=>n.value[re],enumerable:!0});x.provide(Ri,k),x.provide(Gc,kl(V)),x.provide(bn,n);const W=x.unmount;ie.add(x),x.unmount=function(){ie.delete(x),ie.size<1&&(f=Vt,D&&D(),D=null,n.value=Vt,se=!1,ee=!1),W()}}};function ce(x){return x.reduce((k,V)=>k.then(()=>L(V)),Promise.resolve())}return he}function P_(e,t){const s=[],r=[],a=[],d=Math.max(t.matched.length,e.matched.length);for(let p=0;p<d;p++){const i=t.matched[p];i&&(e.matched.find(f=>Ks(f,i))?r.push(i):s.push(i));const n=e.matched[p];n&&(t.matched.find(f=>Ks(f,n))||a.push(n))}return[s,r,a]}function Yc(){return ft(Ri)}const _t=(e,t)=>{const s=e.__vccOpts||e;for(const[r,a]of t)s[r]=a;return s},I_={};function M_(e,t){return Ce(),Oe("div",null,t[0]||(t[0]=[oe("div",{class:"wave"},null,-1),oe("div",{class:"wave"},null,-1),oe("div",{class:"wave"},null,-1)]))}const B_=_t(I_,[["render",M_]]),N_=nt({__name:"Modal",emits:["close"],setup(e,{emit:t}){const s=t;return(r,a)=>(Ce(),Oe("div",{class:"modal-overlay",onClick:a[1]||(a[1]=d=>{s("close")})},[oe("div",{class:"modal",onClick:a[0]||(a[0]=Fs(()=>{},["stop"]))},[Gn(r.$slots,"default",{},void 0)])]))}}),Jc=_t(N_,[["__scopeId","data-v-d30d0309"]]);/*!
  * shared v10.0.7
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const li=typeof window<"u",ns=(e,t=!1)=>t?Symbol.for(e):Symbol(e),F_=(e,t,s)=>H_({l:e,k:t,s}),H_=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),He=e=>typeof e=="number"&&isFinite(e),$_=e=>so(e)==="[object Date]",qs=e=>so(e)==="[object RegExp]",Ti=e=>ge(e)&&Object.keys(e).length===0,Ue=Object.assign,W_=Object.create,Te=(e=null)=>W_(e);let Ca;const gs=()=>Ca||(Ca=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:Te());function ya(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const U_=Object.prototype.hasOwnProperty;function pt(e,t){return U_.call(e,t)}const Ne=Array.isArray,Pe=e=>typeof e=="function",ae=e=>typeof e=="string",ye=e=>typeof e=="boolean",we=e=>e!==null&&typeof e=="object",j_=e=>we(e)&&Pe(e.then)&&Pe(e.catch),Zc=Object.prototype.toString,so=e=>Zc.call(e),ge=e=>so(e)==="[object Object]",V_=e=>e==null?"":Ne(e)||ge(e)&&e.toString===Zc?JSON.stringify(e,null,2):String(e);function ro(e,t=""){return e.reduce((s,r,a)=>a===0?s+r:s+t+r,"")}function K_(e,t){typeof console<"u"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const Hr=e=>!we(e)||Ne(e);function qr(e,t){if(Hr(e)||Hr(t))throw new Error("Invalid value");const s=[{src:e,des:t}];for(;s.length;){const{src:r,des:a}=s.pop();Object.keys(r).forEach(d=>{d!=="__proto__"&&(we(r[d])&&!we(a[d])&&(a[d]=Array.isArray(r[d])?[]:Te()),Hr(a[d])||Hr(r[d])?a[d]=r[d]:s.push({src:r[d],des:a[d]}))})}}/*!
  * message-compiler v10.0.7
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function z_(e,t,s){return{line:e,column:t,offset:s}}function Cn(e,t,s){return{start:e,end:t}}const Re={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14},q_=17;function Ai(e,t,s={}){const{domain:r,messages:a,args:d}=s,p=e,i=new SyntaxError(String(p));return i.code=e,t&&(i.location=t),i.domain=r,i}function G_(e){throw e}const Ot=" ",X_="\r",Je=`
`,Y_="\u2028",J_="\u2029";function Z_(e){const t=e;let s=0,r=1,a=1,d=0;const p=E=>t[E]===X_&&t[E+1]===Je,i=E=>t[E]===Je,n=E=>t[E]===J_,f=E=>t[E]===Y_,_=E=>p(E)||i(E)||n(E)||f(E),h=()=>s,g=()=>r,v=()=>a,w=()=>d,S=E=>p(E)||n(E)||f(E)?Je:t[E],u=()=>S(s),l=()=>S(s+d);function o(){return d=0,_(s)&&(r++,a=0),p(s)&&s++,s++,a++,t[s]}function c(){return p(s+d)&&d++,d++,t[s+d]}function m(){s=0,r=1,a=1,d=0}function C(E=0){d=E}function y(){const E=s+d;for(;E!==s;)o();d=0}return{index:h,line:g,column:v,peekOffset:w,charAt:S,currentChar:u,currentPeek:l,next:o,peek:c,reset:m,resetPeek:C,skipToPeek:y}}const Kt=void 0,Q_=".",wa="'",ep="tokenizer";function tp(e,t={}){const s=t.location!==!1,r=Z_(e),a=()=>r.index(),d=()=>z_(r.line(),r.column(),r.index()),p=d(),i=a(),n={currentType:13,offset:i,startLoc:p,endLoc:p,lastType:13,lastOffset:i,lastStartLoc:p,lastEndLoc:p,braceNest:0,inLinked:!1,text:""},f=()=>n,{onError:_}=t;function h(P,I,j,...q){const ne=f();if(I.column+=j,I.offset+=j,_){const Q=s?Cn(ne.startLoc,I):null,U=Ai(P,Q,{domain:ep,args:q});_(U)}}function g(P,I,j){P.endLoc=d(),P.currentType=I;const q={type:I};return s&&(q.loc=Cn(P.startLoc,P.endLoc)),j!=null&&(q.value=j),q}const v=P=>g(P,13);function w(P,I){return P.currentChar()===I?(P.next(),I):(h(Re.EXPECTED_TOKEN,d(),0,I),"")}function S(P){let I="";for(;P.currentPeek()===Ot||P.currentPeek()===Je;)I+=P.currentPeek(),P.peek();return I}function u(P){const I=S(P);return P.skipToPeek(),I}function l(P){if(P===Kt)return!1;const I=P.charCodeAt(0);return I>=97&&I<=122||I>=65&&I<=90||I===95}function o(P){if(P===Kt)return!1;const I=P.charCodeAt(0);return I>=48&&I<=57}function c(P,I){const{currentType:j}=I;if(j!==2)return!1;S(P);const q=l(P.currentPeek());return P.resetPeek(),q}function m(P,I){const{currentType:j}=I;if(j!==2)return!1;S(P);const q=P.currentPeek()==="-"?P.peek():P.currentPeek(),ne=o(q);return P.resetPeek(),ne}function C(P,I){const{currentType:j}=I;if(j!==2)return!1;S(P);const q=P.currentPeek()===wa;return P.resetPeek(),q}function y(P,I){const{currentType:j}=I;if(j!==7)return!1;S(P);const q=P.currentPeek()===".";return P.resetPeek(),q}function E(P,I){const{currentType:j}=I;if(j!==8)return!1;S(P);const q=l(P.currentPeek());return P.resetPeek(),q}function b(P,I){const{currentType:j}=I;if(!(j===7||j===11))return!1;S(P);const q=P.currentPeek()===":";return P.resetPeek(),q}function L(P,I){const{currentType:j}=I;if(j!==9)return!1;const q=()=>{const Q=P.currentPeek();return Q==="{"?l(P.peek()):Q==="@"||Q==="|"||Q===":"||Q==="."||Q===Ot||!Q?!1:Q===Je?(P.peek(),q()):M(P,!1)},ne=q();return P.resetPeek(),ne}function T(P){S(P);const I=P.currentPeek()==="|";return P.resetPeek(),I}function M(P,I=!0){const j=(ne=!1,Q="")=>{const U=P.currentPeek();return U==="{"||U==="@"||!U?ne:U==="|"?!(Q===Ot||Q===Je):U===Ot?(P.peek(),j(!0,Ot)):U===Je?(P.peek(),j(!0,Je)):!0},q=j();return I&&P.resetPeek(),q}function O(P,I){const j=P.currentChar();return j===Kt?Kt:I(j)?(P.next(),j):null}function D(P){const I=P.charCodeAt(0);return I>=97&&I<=122||I>=65&&I<=90||I>=48&&I<=57||I===95||I===36}function K(P){return O(P,D)}function Y(P){const I=P.charCodeAt(0);return I>=97&&I<=122||I>=65&&I<=90||I>=48&&I<=57||I===95||I===36||I===45}function te(P){return O(P,Y)}function ee(P){const I=P.charCodeAt(0);return I>=48&&I<=57}function Z(P){return O(P,ee)}function R(P){const I=P.charCodeAt(0);return I>=48&&I<=57||I>=65&&I<=70||I>=97&&I<=102}function N(P){return O(P,R)}function F(P){let I="",j="";for(;I=Z(P);)j+=I;return j}function H(P){let I="";for(;;){const j=P.currentChar();if(j==="{"||j==="}"||j==="@"||j==="|"||!j)break;if(j===Ot||j===Je)if(M(P))I+=j,P.next();else{if(T(P))break;I+=j,P.next()}else I+=j,P.next()}return I}function se(P){u(P);let I="",j="";for(;I=te(P);)j+=I;return P.currentChar()===Kt&&h(Re.UNTERMINATED_CLOSING_BRACE,d(),0),j}function ie(P){u(P);let I="";return P.currentChar()==="-"?(P.next(),I+=`-${F(P)}`):I+=F(P),P.currentChar()===Kt&&h(Re.UNTERMINATED_CLOSING_BRACE,d(),0),I}function he(P){return P!==wa&&P!==Je}function ce(P){u(P),w(P,"'");let I="",j="";for(;I=O(P,he);)I==="\\"?j+=x(P):j+=I;const q=P.currentChar();return q===Je||q===Kt?(h(Re.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,d(),0),q===Je&&(P.next(),w(P,"'")),j):(w(P,"'"),j)}function x(P){const I=P.currentChar();switch(I){case"\\":case"'":return P.next(),`\\${I}`;case"u":return k(P,I,4);case"U":return k(P,I,6);default:return h(Re.UNKNOWN_ESCAPE_SEQUENCE,d(),0,I),""}}function k(P,I,j){w(P,I);let q="";for(let ne=0;ne<j;ne++){const Q=N(P);if(!Q){h(Re.INVALID_UNICODE_ESCAPE_SEQUENCE,d(),0,`\\${I}${q}${P.currentChar()}`);break}q+=Q}return`\\${I}${q}`}function V(P){return P!=="{"&&P!=="}"&&P!==Ot&&P!==Je}function W(P){u(P);let I="",j="";for(;I=O(P,V);)j+=I;return j}function re(P){let I="",j="";for(;I=K(P);)j+=I;return j}function A(P){const I=j=>{const q=P.currentChar();return q==="{"||q==="@"||q==="|"||q==="("||q===")"||!q||q===Ot?j:(j+=q,P.next(),I(j))};return I("")}function B(P){u(P);const I=w(P,"|");return u(P),I}function $(P,I){let j=null;switch(P.currentChar()){case"{":return I.braceNest>=1&&h(Re.NOT_ALLOW_NEST_PLACEHOLDER,d(),0),P.next(),j=g(I,2,"{"),u(P),I.braceNest++,j;case"}":return I.braceNest>0&&I.currentType===2&&h(Re.EMPTY_PLACEHOLDER,d(),0),P.next(),j=g(I,3,"}"),I.braceNest--,I.braceNest>0&&u(P),I.inLinked&&I.braceNest===0&&(I.inLinked=!1),j;case"@":return I.braceNest>0&&h(Re.UNTERMINATED_CLOSING_BRACE,d(),0),j=X(P,I)||v(I),I.braceNest=0,j;default:{let ne=!0,Q=!0,U=!0;if(T(P))return I.braceNest>0&&h(Re.UNTERMINATED_CLOSING_BRACE,d(),0),j=g(I,1,B(P)),I.braceNest=0,I.inLinked=!1,j;if(I.braceNest>0&&(I.currentType===4||I.currentType===5||I.currentType===6))return h(Re.UNTERMINATED_CLOSING_BRACE,d(),0),I.braceNest=0,J(P,I);if(ne=c(P,I))return j=g(I,4,se(P)),u(P),j;if(Q=m(P,I))return j=g(I,5,ie(P)),u(P),j;if(U=C(P,I))return j=g(I,6,ce(P)),u(P),j;if(!ne&&!Q&&!U)return j=g(I,12,W(P)),h(Re.INVALID_TOKEN_IN_PLACEHOLDER,d(),0,j.value),u(P),j;break}}return j}function X(P,I){const{currentType:j}=I;let q=null;const ne=P.currentChar();switch((j===7||j===8||j===11||j===9)&&(ne===Je||ne===Ot)&&h(Re.INVALID_LINKED_FORMAT,d(),0),ne){case"@":return P.next(),q=g(I,7,"@"),I.inLinked=!0,q;case".":return u(P),P.next(),g(I,8,".");case":":return u(P),P.next(),g(I,9,":");default:return T(P)?(q=g(I,1,B(P)),I.braceNest=0,I.inLinked=!1,q):y(P,I)||b(P,I)?(u(P),X(P,I)):E(P,I)?(u(P),g(I,11,re(P))):L(P,I)?(u(P),ne==="{"?$(P,I)||q:g(I,10,A(P))):(j===7&&h(Re.INVALID_LINKED_FORMAT,d(),0),I.braceNest=0,I.inLinked=!1,J(P,I))}}function J(P,I){let j={type:13};if(I.braceNest>0)return $(P,I)||v(I);if(I.inLinked)return X(P,I)||v(I);switch(P.currentChar()){case"{":return $(P,I)||v(I);case"}":return h(Re.UNBALANCED_CLOSING_BRACE,d(),0),P.next(),g(I,3,"}");case"@":return X(P,I)||v(I);default:{if(T(P))return j=g(I,1,B(P)),I.braceNest=0,I.inLinked=!1,j;if(M(P))return g(I,0,H(P));break}}return j}function z(){const{currentType:P,offset:I,startLoc:j,endLoc:q}=n;return n.lastType=P,n.lastOffset=I,n.lastStartLoc=j,n.lastEndLoc=q,n.offset=a(),n.startLoc=d(),r.currentChar()===Kt?g(n,13):J(r,n)}return{nextToken:z,currentOffset:a,currentPosition:d,context:f}}const sp="parser",rp=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function ip(e,t,s){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const r=parseInt(t||s,16);return r<=55295||r>=57344?String.fromCodePoint(r):"�"}}}function np(e={}){const t=e.location!==!1,{onError:s}=e;function r(l,o,c,m,...C){const y=l.currentPosition();if(y.offset+=m,y.column+=m,s){const E=t?Cn(c,y):null,b=Ai(o,E,{domain:sp,args:C});s(b)}}function a(l,o,c){const m={type:l};return t&&(m.start=o,m.end=o,m.loc={start:c,end:c}),m}function d(l,o,c,m){t&&(l.end=o,l.loc&&(l.loc.end=c))}function p(l,o){const c=l.context(),m=a(3,c.offset,c.startLoc);return m.value=o,d(m,l.currentOffset(),l.currentPosition()),m}function i(l,o){const c=l.context(),{lastOffset:m,lastStartLoc:C}=c,y=a(5,m,C);return y.index=parseInt(o,10),l.nextToken(),d(y,l.currentOffset(),l.currentPosition()),y}function n(l,o){const c=l.context(),{lastOffset:m,lastStartLoc:C}=c,y=a(4,m,C);return y.key=o,l.nextToken(),d(y,l.currentOffset(),l.currentPosition()),y}function f(l,o){const c=l.context(),{lastOffset:m,lastStartLoc:C}=c,y=a(9,m,C);return y.value=o.replace(rp,ip),l.nextToken(),d(y,l.currentOffset(),l.currentPosition()),y}function _(l){const o=l.nextToken(),c=l.context(),{lastOffset:m,lastStartLoc:C}=c,y=a(8,m,C);return o.type!==11?(r(l,Re.UNEXPECTED_EMPTY_LINKED_MODIFIER,c.lastStartLoc,0),y.value="",d(y,m,C),{nextConsumeToken:o,node:y}):(o.value==null&&r(l,Re.UNEXPECTED_LEXICAL_ANALYSIS,c.lastStartLoc,0,yt(o)),y.value=o.value||"",d(y,l.currentOffset(),l.currentPosition()),{node:y})}function h(l,o){const c=l.context(),m=a(7,c.offset,c.startLoc);return m.value=o,d(m,l.currentOffset(),l.currentPosition()),m}function g(l){const o=l.context(),c=a(6,o.offset,o.startLoc);let m=l.nextToken();if(m.type===8){const C=_(l);c.modifier=C.node,m=C.nextConsumeToken||l.nextToken()}switch(m.type!==9&&r(l,Re.UNEXPECTED_LEXICAL_ANALYSIS,o.lastStartLoc,0,yt(m)),m=l.nextToken(),m.type===2&&(m=l.nextToken()),m.type){case 10:m.value==null&&r(l,Re.UNEXPECTED_LEXICAL_ANALYSIS,o.lastStartLoc,0,yt(m)),c.key=h(l,m.value||"");break;case 4:m.value==null&&r(l,Re.UNEXPECTED_LEXICAL_ANALYSIS,o.lastStartLoc,0,yt(m)),c.key=n(l,m.value||"");break;case 5:m.value==null&&r(l,Re.UNEXPECTED_LEXICAL_ANALYSIS,o.lastStartLoc,0,yt(m)),c.key=i(l,m.value||"");break;case 6:m.value==null&&r(l,Re.UNEXPECTED_LEXICAL_ANALYSIS,o.lastStartLoc,0,yt(m)),c.key=f(l,m.value||"");break;default:{r(l,Re.UNEXPECTED_EMPTY_LINKED_KEY,o.lastStartLoc,0);const C=l.context(),y=a(7,C.offset,C.startLoc);return y.value="",d(y,C.offset,C.startLoc),c.key=y,d(c,C.offset,C.startLoc),{nextConsumeToken:m,node:c}}}return d(c,l.currentOffset(),l.currentPosition()),{node:c}}function v(l){const o=l.context(),c=o.currentType===1?l.currentOffset():o.offset,m=o.currentType===1?o.endLoc:o.startLoc,C=a(2,c,m);C.items=[];let y=null;do{const L=y||l.nextToken();switch(y=null,L.type){case 0:L.value==null&&r(l,Re.UNEXPECTED_LEXICAL_ANALYSIS,o.lastStartLoc,0,yt(L)),C.items.push(p(l,L.value||""));break;case 5:L.value==null&&r(l,Re.UNEXPECTED_LEXICAL_ANALYSIS,o.lastStartLoc,0,yt(L)),C.items.push(i(l,L.value||""));break;case 4:L.value==null&&r(l,Re.UNEXPECTED_LEXICAL_ANALYSIS,o.lastStartLoc,0,yt(L)),C.items.push(n(l,L.value||""));break;case 6:L.value==null&&r(l,Re.UNEXPECTED_LEXICAL_ANALYSIS,o.lastStartLoc,0,yt(L)),C.items.push(f(l,L.value||""));break;case 7:{const T=g(l);C.items.push(T.node),y=T.nextConsumeToken||null;break}}}while(o.currentType!==13&&o.currentType!==1);const E=o.currentType===1?o.lastOffset:l.currentOffset(),b=o.currentType===1?o.lastEndLoc:l.currentPosition();return d(C,E,b),C}function w(l,o,c,m){const C=l.context();let y=m.items.length===0;const E=a(1,o,c);E.cases=[],E.cases.push(m);do{const b=v(l);y||(y=b.items.length===0),E.cases.push(b)}while(C.currentType!==13);return y&&r(l,Re.MUST_HAVE_MESSAGES_IN_PLURAL,c,0),d(E,l.currentOffset(),l.currentPosition()),E}function S(l){const o=l.context(),{offset:c,startLoc:m}=o,C=v(l);return o.currentType===13?C:w(l,c,m,C)}function u(l){const o=tp(l,Ue({},e)),c=o.context(),m=a(0,c.offset,c.startLoc);return t&&m.loc&&(m.loc.source=l),m.body=S(o),e.onCacheKey&&(m.cacheKey=e.onCacheKey(l)),c.currentType!==13&&r(o,Re.UNEXPECTED_LEXICAL_ANALYSIS,c.lastStartLoc,0,l[c.offset]||""),d(m,o.currentOffset(),o.currentPosition()),m}return{parse:u}}function yt(e){if(e.type===13)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"…":t}function op(e,t={}){const s={ast:e,helpers:new Set};return{context:()=>s,helper:d=>(s.helpers.add(d),d)}}function Ea(e,t){for(let s=0;s<e.length;s++)io(e[s],t)}function io(e,t){switch(e.type){case 1:Ea(e.cases,t),t.helper("plural");break;case 2:Ea(e.items,t);break;case 6:{io(e.key,t),t.helper("linked"),t.helper("type");break}case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function ap(e,t={}){const s=op(e);s.helper("normalize"),e.body&&io(e.body,s);const r=s.context();e.helpers=Array.from(r.helpers)}function lp(e){const t=e.body;return t.type===2?La(t):t.cases.forEach(s=>La(s)),e}function La(e){if(e.items.length===1){const t=e.items[0];(t.type===3||t.type===9)&&(e.static=t.value,delete t.value)}else{const t=[];for(let s=0;s<e.items.length;s++){const r=e.items[s];if(!(r.type===3||r.type===9)||r.value==null)break;t.push(r.value)}if(t.length===e.items.length){e.static=ro(t);for(let s=0;s<e.items.length;s++){const r=e.items[s];(r.type===3||r.type===9)&&delete r.value}}}}function xs(e){switch(e.t=e.type,e.type){case 0:{const t=e;xs(t.body),t.b=t.body,delete t.body;break}case 1:{const t=e,s=t.cases;for(let r=0;r<s.length;r++)xs(s[r]);t.c=s,delete t.cases;break}case 2:{const t=e,s=t.items;for(let r=0;r<s.length;r++)xs(s[r]);t.i=s,delete t.items,t.static&&(t.s=t.static,delete t.static);break}case 3:case 9:case 8:case 7:{const t=e;t.value&&(t.v=t.value,delete t.value);break}case 6:{const t=e;xs(t.key),t.k=t.key,delete t.key,t.modifier&&(xs(t.modifier),t.m=t.modifier,delete t.modifier);break}case 5:{const t=e;t.i=t.index,delete t.index;break}case 4:{const t=e;t.k=t.key,delete t.key;break}}delete e.type}function cp(e,t){const{filename:s,breakLineCode:r,needIndent:a}=t,d=t.location!==!1,p={filename:s,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:r,needIndent:a,indentLevel:0};d&&e.loc&&(p.source=e.loc.source);const i=()=>p;function n(S,u){p.code+=S}function f(S,u=!0){const l=u?r:"";n(a?l+"  ".repeat(S):l)}function _(S=!0){const u=++p.indentLevel;S&&f(u)}function h(S=!0){const u=--p.indentLevel;S&&f(u)}function g(){f(p.indentLevel)}return{context:i,push:n,indent:_,deindent:h,newline:g,helper:S=>`_${S}`,needIndent:()=>p.needIndent}}function hp(e,t){const{helper:s}=e;e.push(`${s("linked")}(`),Gs(e,t.key),t.modifier?(e.push(", "),Gs(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function up(e,t){const{helper:s,needIndent:r}=e;e.push(`${s("normalize")}([`),e.indent(r());const a=t.items.length;for(let d=0;d<a&&(Gs(e,t.items[d]),d!==a-1);d++)e.push(", ");e.deindent(r()),e.push("])")}function fp(e,t){const{helper:s,needIndent:r}=e;if(t.cases.length>1){e.push(`${s("plural")}([`),e.indent(r());const a=t.cases.length;for(let d=0;d<a&&(Gs(e,t.cases[d]),d!==a-1);d++)e.push(", ");e.deindent(r()),e.push("])")}}function dp(e,t){t.body?Gs(e,t.body):e.push("null")}function Gs(e,t){const{helper:s}=e;switch(t.type){case 0:dp(e,t);break;case 1:fp(e,t);break;case 2:up(e,t);break;case 6:hp(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${s("interpolate")}(${s("list")}(${t.index}))`,t);break;case 4:e.push(`${s("interpolate")}(${s("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break}}const _p=(e,t={})=>{const s=ae(t.mode)?t.mode:"normal",r=ae(t.filename)?t.filename:"message.intl";t.sourceMap;const a=t.breakLineCode!=null?t.breakLineCode:s==="arrow"?";":`
`,d=t.needIndent?t.needIndent:s!=="arrow",p=e.helpers||[],i=cp(e,{filename:r,breakLineCode:a,needIndent:d});i.push(s==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),i.indent(d),p.length>0&&(i.push(`const { ${ro(p.map(_=>`${_}: _${_}`),", ")} } = ctx`),i.newline()),i.push("return "),Gs(i,e),i.deindent(d),i.push("}"),delete e.helpers;const{code:n,map:f}=i.context();return{ast:e,code:n,map:f?f.toJSON():void 0}};function pp(e,t={}){const s=Ue({},t),r=!!s.jit,a=!!s.minify,d=s.optimize==null?!0:s.optimize,i=np(s).parse(e);return r?(d&&lp(i),a&&xs(i),{ast:i,code:""}):(ap(i,s),_p(i,s))}/*!
  * core-base v10.0.7
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function gp(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(gs().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(gs().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function At(e){return we(e)&&no(e)===0&&(pt(e,"b")||pt(e,"body"))}const Qc=["b","body"];function mp(e){return os(e,Qc)}const eh=["c","cases"];function vp(e){return os(e,eh,[])}const th=["s","static"];function Sp(e){return os(e,th)}const sh=["i","items"];function bp(e){return os(e,sh,[])}const rh=["t","type"];function no(e){return os(e,rh)}const ih=["v","value"];function $r(e,t){const s=os(e,ih);if(s!=null)return s;throw Er(t)}const nh=["m","modifier"];function Cp(e){return os(e,nh)}const oh=["k","key"];function yp(e){const t=os(e,oh);if(t)return t;throw Er(6)}function os(e,t,s){for(let r=0;r<t.length;r++){const a=t[r];if(pt(e,a)&&e[a]!=null)return e[a]}return s}const ah=[...Qc,...eh,...th,...sh,...oh,...nh,...ih,...rh];function Er(e){return new Error(`unhandled node type: ${e}`)}function Gi(e){return s=>wp(s,e)}function wp(e,t){const s=mp(t);if(s==null)throw Er(0);if(no(s)===1){const d=vp(s);return e.plural(d.reduce((p,i)=>[...p,ka(e,i)],[]))}else return ka(e,s)}function ka(e,t){const s=Sp(t);if(s!=null)return e.type==="text"?s:e.normalize([s]);{const r=bp(t).reduce((a,d)=>[...a,yn(e,d)],[]);return e.normalize(r)}}function yn(e,t){const s=no(t);switch(s){case 3:return $r(t,s);case 9:return $r(t,s);case 4:{const r=t;if(pt(r,"k")&&r.k)return e.interpolate(e.named(r.k));if(pt(r,"key")&&r.key)return e.interpolate(e.named(r.key));throw Er(s)}case 5:{const r=t;if(pt(r,"i")&&He(r.i))return e.interpolate(e.list(r.i));if(pt(r,"index")&&He(r.index))return e.interpolate(e.list(r.index));throw Er(s)}case 6:{const r=t,a=Cp(r),d=yp(r);return e.linked(yn(e,d),a?yn(e,a):void 0,e.type)}case 7:return $r(t,s);case 8:return $r(t,s);default:throw new Error(`unhandled node on format message part: ${s}`)}}const Ep=e=>e;let Wr=Te();function Lp(e,t={}){let s=!1;const r=t.onError||G_;return t.onError=a=>{s=!0,r(a)},{...pp(e,t),detectError:s}}function kp(e,t){if(!__INTLIFY_DROP_MESSAGE_COMPILER__&&ae(e)){ye(t.warnHtmlMessage)&&t.warnHtmlMessage;const r=(t.onCacheKey||Ep)(e),a=Wr[r];if(a)return a;const{ast:d,detectError:p}=Lp(e,{...t,location:!1,jit:!0}),i=Gi(d);return p?i:Wr[r]=i}else{const s=e.cacheKey;if(s){const r=Wr[s];return r||(Wr[s]=Gi(e))}else return Gi(e)}}let Lr=null;function Rp(e){Lr=e}function Tp(e,t,s){Lr&&Lr.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:s})}const Ap=xp("function:translate");function xp(e){return t=>Lr&&Lr.emit(e,t)}const Ht={INVALID_ARGUMENT:q_,INVALID_DATE_ARGUMENT:18,INVALID_ISO_DATE_ARGUMENT:19,NOT_SUPPORT_LOCALE_PROMISE_VALUE:21,NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:22,NOT_SUPPORT_LOCALE_TYPE:23},Dp=24;function $t(e){return Ai(e,null,void 0)}function oo(e,t){return t.locale!=null?Ra(t.locale):Ra(e.locale)}let Xi;function Ra(e){if(ae(e))return e;if(Pe(e)){if(e.resolvedOnce&&Xi!=null)return Xi;if(e.constructor.name==="Function"){const t=e();if(j_(t))throw $t(Ht.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return Xi=t}else throw $t(Ht.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw $t(Ht.NOT_SUPPORT_LOCALE_TYPE)}function Op(e,t,s){return[...new Set([s,...Ne(t)?t:we(t)?Object.keys(t):ae(t)?[t]:[s]])]}function lh(e,t,s){const r=ae(s)?s:kr,a=e;a.__localeChainCache||(a.__localeChainCache=new Map);let d=a.__localeChainCache.get(r);if(!d){d=[];let p=[s];for(;Ne(p);)p=Ta(d,p,t);const i=Ne(t)||!ge(t)?t:t.default?t.default:null;p=ae(i)?[i]:i,Ne(p)&&Ta(d,p,!1),a.__localeChainCache.set(r,d)}return d}function Ta(e,t,s){let r=!0;for(let a=0;a<t.length&&ye(r);a++){const d=t[a];ae(d)&&(r=Pp(e,t[a],s))}return r}function Pp(e,t,s){let r;const a=t.split("-");do{const d=a.join("-");r=Ip(e,d,s),a.splice(-1,1)}while(a.length&&r===!0);return r}function Ip(e,t,s){let r=!1;if(!e.includes(t)&&(r=!0,t)){r=t[t.length-1]!=="!";const a=t.replace(/!/g,"");e.push(a),(Ne(s)||ge(s))&&s[a]&&(r=s[a])}return r}const as=[];as[0]={w:[0],i:[3,0],"[":[4],o:[7]};as[1]={w:[1],".":[2],"[":[4],o:[7]};as[2]={w:[2],i:[3,0],0:[3,0]};as[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};as[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};as[5]={"'":[4,0],o:8,l:[5,0]};as[6]={'"':[4,0],o:8,l:[6,0]};const Mp=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function Bp(e){return Mp.test(e)}function Np(e){const t=e.charCodeAt(0),s=e.charCodeAt(e.length-1);return t===s&&(t===34||t===39)?e.slice(1,-1):e}function Fp(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function Hp(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:Bp(t)?Np(t):"*"+t}function $p(e){const t=[];let s=-1,r=0,a=0,d,p,i,n,f,_,h;const g=[];g[0]=()=>{p===void 0?p=i:p+=i},g[1]=()=>{p!==void 0&&(t.push(p),p=void 0)},g[2]=()=>{g[0](),a++},g[3]=()=>{if(a>0)a--,r=4,g[0]();else{if(a=0,p===void 0||(p=Hp(p),p===!1))return!1;g[1]()}};function v(){const w=e[s+1];if(r===5&&w==="'"||r===6&&w==='"')return s++,i="\\"+w,g[0](),!0}for(;r!==null;)if(s++,d=e[s],!(d==="\\"&&v())){if(n=Fp(d),h=as[r],f=h[n]||h.l||8,f===8||(r=f[0],f[1]!==void 0&&(_=g[f[1]],_&&(i=d,_()===!1))))return;if(r===7)return t}}const Aa=new Map;function Wp(e,t){return we(e)?e[t]:null}function Up(e,t){if(!we(e))return null;let s=Aa.get(t);if(s||(s=$p(t),s&&Aa.set(t,s)),!s)return null;const r=s.length;let a=e,d=0;for(;d<r;){const p=s[d];if(ah.includes(p)&&At(a))return null;const i=a[p];if(i===void 0||Pe(a))return null;a=i,d++}return a}const jp="10.0.7",xi=-1,kr="en-US",xa="",Da=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function Vp(){return{upper:(e,t)=>t==="text"&&ae(e)?e.toUpperCase():t==="vnode"&&we(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&ae(e)?e.toLowerCase():t==="vnode"&&we(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&ae(e)?Da(e):t==="vnode"&&we(e)&&"__v_isVNode"in e?Da(e.children):e}}let ch;function Kp(e){ch=e}let hh;function zp(e){hh=e}let uh;function qp(e){uh=e}let fh=null;const Gp=e=>{fh=e},Xp=()=>fh;let dh=null;const Oa=e=>{dh=e},Yp=()=>dh;let Pa=0;function Jp(e={}){const t=Pe(e.onWarn)?e.onWarn:K_,s=ae(e.version)?e.version:jp,r=ae(e.locale)||Pe(e.locale)?e.locale:kr,a=Pe(r)?kr:r,d=Ne(e.fallbackLocale)||ge(e.fallbackLocale)||ae(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:a,p=ge(e.messages)?e.messages:Yi(a),i=ge(e.datetimeFormats)?e.datetimeFormats:Yi(a),n=ge(e.numberFormats)?e.numberFormats:Yi(a),f=Ue(Te(),e.modifiers,Vp()),_=e.pluralRules||Te(),h=Pe(e.missing)?e.missing:null,g=ye(e.missingWarn)||qs(e.missingWarn)?e.missingWarn:!0,v=ye(e.fallbackWarn)||qs(e.fallbackWarn)?e.fallbackWarn:!0,w=!!e.fallbackFormat,S=!!e.unresolving,u=Pe(e.postTranslation)?e.postTranslation:null,l=ge(e.processor)?e.processor:null,o=ye(e.warnHtmlMessage)?e.warnHtmlMessage:!0,c=!!e.escapeParameter,m=Pe(e.messageCompiler)?e.messageCompiler:ch,C=Pe(e.messageResolver)?e.messageResolver:hh||Wp,y=Pe(e.localeFallbacker)?e.localeFallbacker:uh||Op,E=we(e.fallbackContext)?e.fallbackContext:void 0,b=e,L=we(b.__datetimeFormatters)?b.__datetimeFormatters:new Map,T=we(b.__numberFormatters)?b.__numberFormatters:new Map,M=we(b.__meta)?b.__meta:{};Pa++;const O={version:s,cid:Pa,locale:r,fallbackLocale:d,messages:p,modifiers:f,pluralRules:_,missing:h,missingWarn:g,fallbackWarn:v,fallbackFormat:w,unresolving:S,postTranslation:u,processor:l,warnHtmlMessage:o,escapeParameter:c,messageCompiler:m,messageResolver:C,localeFallbacker:y,fallbackContext:E,onWarn:t,__meta:M};return O.datetimeFormats=i,O.numberFormats=n,O.__datetimeFormatters=L,O.__numberFormatters=T,__INTLIFY_PROD_DEVTOOLS__&&Tp(O,s,M),O}const Yi=e=>({[e]:Te()});function ao(e,t,s,r,a){const{missing:d,onWarn:p}=e;if(d!==null){const i=d(e,s,t,a);return ae(i)?i:t}else return t}function tr(e,t,s){const r=e;r.__localeChainCache=new Map,e.localeFallbacker(e,s,t)}function Zp(e,t){return e===t?!1:e.split("-")[0]===t.split("-")[0]}function Qp(e,t){const s=t.indexOf(e);if(s===-1)return!1;for(let r=s+1;r<t.length;r++)if(Zp(e,t[r]))return!0;return!1}function Ia(e,...t){const{datetimeFormats:s,unresolving:r,fallbackLocale:a,onWarn:d,localeFallbacker:p}=e,{__datetimeFormatters:i}=e,[n,f,_,h]=wn(...t),g=ye(_.missingWarn)?_.missingWarn:e.missingWarn;ye(_.fallbackWarn)?_.fallbackWarn:e.fallbackWarn;const v=!!_.part,w=oo(e,_),S=p(e,a,w);if(!ae(n)||n==="")return new Intl.DateTimeFormat(w,h).format(f);let u={},l,o=null;const c="datetime format";for(let y=0;y<S.length&&(l=S[y],u=s[l]||{},o=u[n],!ge(o));y++)ao(e,n,l,g,c);if(!ge(o)||!ae(l))return r?xi:n;let m=`${l}__${n}`;Ti(h)||(m=`${m}__${JSON.stringify(h)}`);let C=i.get(m);return C||(C=new Intl.DateTimeFormat(l,Ue({},o,h)),i.set(m,C)),v?C.formatToParts(f):C.format(f)}const _h=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function wn(...e){const[t,s,r,a]=e,d=Te();let p=Te(),i;if(ae(t)){const n=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!n)throw $t(Ht.INVALID_ISO_DATE_ARGUMENT);const f=n[3]?n[3].trim().startsWith("T")?`${n[1].trim()}${n[3].trim()}`:`${n[1].trim()}T${n[3].trim()}`:n[1].trim();i=new Date(f);try{i.toISOString()}catch{throw $t(Ht.INVALID_ISO_DATE_ARGUMENT)}}else if($_(t)){if(isNaN(t.getTime()))throw $t(Ht.INVALID_DATE_ARGUMENT);i=t}else if(He(t))i=t;else throw $t(Ht.INVALID_ARGUMENT);return ae(s)?d.key=s:ge(s)&&Object.keys(s).forEach(n=>{_h.includes(n)?p[n]=s[n]:d[n]=s[n]}),ae(r)?d.locale=r:ge(r)&&(p=r),ge(a)&&(p=a),[d.key||"",i,d,p]}function Ma(e,t,s){const r=e;for(const a in s){const d=`${t}__${a}`;r.__datetimeFormatters.has(d)&&r.__datetimeFormatters.delete(d)}}function Ba(e,...t){const{numberFormats:s,unresolving:r,fallbackLocale:a,onWarn:d,localeFallbacker:p}=e,{__numberFormatters:i}=e,[n,f,_,h]=En(...t),g=ye(_.missingWarn)?_.missingWarn:e.missingWarn;ye(_.fallbackWarn)?_.fallbackWarn:e.fallbackWarn;const v=!!_.part,w=oo(e,_),S=p(e,a,w);if(!ae(n)||n==="")return new Intl.NumberFormat(w,h).format(f);let u={},l,o=null;const c="number format";for(let y=0;y<S.length&&(l=S[y],u=s[l]||{},o=u[n],!ge(o));y++)ao(e,n,l,g,c);if(!ge(o)||!ae(l))return r?xi:n;let m=`${l}__${n}`;Ti(h)||(m=`${m}__${JSON.stringify(h)}`);let C=i.get(m);return C||(C=new Intl.NumberFormat(l,Ue({},o,h)),i.set(m,C)),v?C.formatToParts(f):C.format(f)}const ph=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function En(...e){const[t,s,r,a]=e,d=Te();let p=Te();if(!He(t))throw $t(Ht.INVALID_ARGUMENT);const i=t;return ae(s)?d.key=s:ge(s)&&Object.keys(s).forEach(n=>{ph.includes(n)?p[n]=s[n]:d[n]=s[n]}),ae(r)?d.locale=r:ge(r)&&(p=r),ge(a)&&(p=a),[d.key||"",i,d,p]}function Na(e,t,s){const r=e;for(const a in s){const d=`${t}__${a}`;r.__numberFormatters.has(d)&&r.__numberFormatters.delete(d)}}const eg=e=>e,tg=e=>"",sg="text",rg=e=>e.length===0?"":ro(e),ig=V_;function Fa(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function ng(e){const t=He(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(He(e.named.count)||He(e.named.n))?He(e.named.count)?e.named.count:He(e.named.n)?e.named.n:t:t}function og(e,t){t.count||(t.count=e),t.n||(t.n=e)}function ag(e={}){const t=e.locale,s=ng(e),r=we(e.pluralRules)&&ae(t)&&Pe(e.pluralRules[t])?e.pluralRules[t]:Fa,a=we(e.pluralRules)&&ae(t)&&Pe(e.pluralRules[t])?Fa:void 0,d=l=>l[r(s,l.length,a)],p=e.list||[],i=l=>p[l],n=e.named||Te();He(e.pluralIndex)&&og(s,n);const f=l=>n[l];function _(l,o){const c=Pe(e.messages)?e.messages(l,!!o):we(e.messages)?e.messages[l]:!1;return c||(e.parent?e.parent.message(l):tg)}const h=l=>e.modifiers?e.modifiers[l]:eg,g=ge(e.processor)&&Pe(e.processor.normalize)?e.processor.normalize:rg,v=ge(e.processor)&&Pe(e.processor.interpolate)?e.processor.interpolate:ig,w=ge(e.processor)&&ae(e.processor.type)?e.processor.type:sg,u={list:i,named:f,plural:d,linked:(l,...o)=>{const[c,m]=o;let C="text",y="";o.length===1?we(c)?(y=c.modifier||y,C=c.type||C):ae(c)&&(y=c||y):o.length===2&&(ae(c)&&(y=c||y),ae(m)&&(C=m||C));const E=_(l,!0)(u),b=C==="vnode"&&Ne(E)&&y?E[0]:E;return y?h(y)(b,C):b},message:_,type:w,interpolate:v,normalize:g,values:Ue(Te(),p,n)};return u}const Ha=()=>"",ht=e=>Pe(e);function $a(e,...t){const{fallbackFormat:s,postTranslation:r,unresolving:a,messageCompiler:d,fallbackLocale:p,messages:i}=e,[n,f]=Ln(...t),_=ye(f.missingWarn)?f.missingWarn:e.missingWarn,h=ye(f.fallbackWarn)?f.fallbackWarn:e.fallbackWarn,g=ye(f.escapeParameter)?f.escapeParameter:e.escapeParameter,v=!!f.resolvedMessage,w=ae(f.default)||ye(f.default)?ye(f.default)?d?n:()=>n:f.default:s?d?n:()=>n:null,S=s||w!=null&&(ae(w)||Pe(w)),u=oo(e,f);g&&lg(f);let[l,o,c]=v?[n,u,i[u]||Te()]:gh(e,n,u,p,h,_),m=l,C=n;if(!v&&!(ae(m)||At(m)||ht(m))&&S&&(m=w,C=m),!v&&(!(ae(m)||At(m)||ht(m))||!ae(o)))return a?xi:n;let y=!1;const E=()=>{y=!0},b=ht(m)?m:mh(e,n,o,m,C,E);if(y)return m;const L=ug(e,o,c,f),T=ag(L),M=cg(e,b,T),O=r?r(M,n):M;if(__INTLIFY_PROD_DEVTOOLS__){const D={timestamp:Date.now(),key:ae(n)?n:ht(m)?m.key:"",locale:o||(ht(m)?m.locale:""),format:ae(m)?m:ht(m)?m.source:"",message:O};D.meta=Ue({},e.__meta,Xp()||{}),Ap(D)}return O}function lg(e){Ne(e.list)?e.list=e.list.map(t=>ae(t)?ya(t):t):we(e.named)&&Object.keys(e.named).forEach(t=>{ae(e.named[t])&&(e.named[t]=ya(e.named[t]))})}function gh(e,t,s,r,a,d){const{messages:p,onWarn:i,messageResolver:n,localeFallbacker:f}=e,_=f(e,r,s);let h=Te(),g,v=null;const w="translate";for(let S=0;S<_.length&&(g=_[S],h=p[g]||Te(),(v=n(h,t))===null&&(v=h[t]),!(ae(v)||At(v)||ht(v)));S++)if(!Qp(g,_)){const u=ao(e,t,g,d,w);u!==t&&(v=u)}return[v,g,h]}function mh(e,t,s,r,a,d){const{messageCompiler:p,warnHtmlMessage:i}=e;if(ht(r)){const f=r;return f.locale=f.locale||s,f.key=f.key||t,f}if(p==null){const f=()=>r;return f.locale=s,f.key=t,f}const n=p(r,hg(e,s,a,r,i,d));return n.locale=s,n.key=t,n.source=r,n}function cg(e,t,s){return t(s)}function Ln(...e){const[t,s,r]=e,a=Te();if(!ae(t)&&!He(t)&&!ht(t)&&!At(t))throw $t(Ht.INVALID_ARGUMENT);const d=He(t)?String(t):(ht(t),t);return He(s)?a.plural=s:ae(s)?a.default=s:ge(s)&&!Ti(s)?a.named=s:Ne(s)&&(a.list=s),He(r)?a.plural=r:ae(r)?a.default=r:ge(r)&&Ue(a,r),[d,a]}function hg(e,t,s,r,a,d){return{locale:t,key:s,warnHtmlMessage:a,onError:p=>{throw d&&d(p),p},onCacheKey:p=>F_(t,s,p)}}function ug(e,t,s,r){const{modifiers:a,pluralRules:d,messageResolver:p,fallbackLocale:i,fallbackWarn:n,missingWarn:f,fallbackContext:_}=e,g={locale:t,modifiers:a,pluralRules:d,messages:(v,w)=>{let S=p(s,v);if(S==null&&(_||w)){const[,,u]=gh(_||e,v,t,i,n,f);S=p(u,v)}if(ae(S)||At(S)){let u=!1;const o=mh(e,v,t,S,v,()=>{u=!0});return u?Ha:o}else return ht(S)?S:Ha}};return e.processor&&(g.processor=e.processor),r.list&&(g.list=r.list),r.named&&(g.named=r.named),He(r.plural)&&(g.pluralIndex=r.plural),g}gp();/*!
  * vue-i18n v10.0.7
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const fg="10.0.7";function dg(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(gs().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(gs().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(gs().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(gs().__INTLIFY_PROD_DEVTOOLS__=!1)}const tt={UNEXPECTED_RETURN_TYPE:Dp,INVALID_ARGUMENT:25,MUST_BE_CALL_SETUP_TOP:26,NOT_INSTALLED:27,REQUIRED_VALUE:28,INVALID_VALUE:29,NOT_INSTALLED_WITH_PROVIDE:31,UNEXPECTED_ERROR:32};function it(e,...t){return Ai(e,null,void 0)}const kn=ns("__translateVNode"),Rn=ns("__datetimeParts"),Tn=ns("__numberParts"),vh=ns("__setPluralRules"),Sh=ns("__injectWithOption"),An=ns("__dispose");function Rr(e){if(!we(e)||At(e))return e;for(const t in e)if(pt(e,t))if(!t.includes("."))we(e[t])&&Rr(e[t]);else{const s=t.split("."),r=s.length-1;let a=e,d=!1;for(let p=0;p<r;p++){if(s[p]==="__proto__")throw new Error(`unsafe key: ${s[p]}`);if(s[p]in a||(a[s[p]]=Te()),!we(a[s[p]])){d=!0;break}a=a[s[p]]}if(d||(At(a)?ah.includes(s[r])||delete e[t]:(a[s[r]]=e[t],delete e[t])),!At(a)){const p=a[s[r]];we(p)&&Rr(p)}}return e}function lo(e,t){const{messages:s,__i18n:r,messageResolver:a,flatJson:d}=t,p=ge(s)?s:Ne(r)?Te():{[e]:Te()};if(Ne(r)&&r.forEach(i=>{if("locale"in i&&"resource"in i){const{locale:n,resource:f}=i;n?(p[n]=p[n]||Te(),qr(f,p[n])):qr(f,p)}else ae(i)&&qr(JSON.parse(i),p)}),a==null&&d)for(const i in p)pt(p,i)&&Rr(p[i]);return p}function bh(e){return e.type}function Ch(e,t,s){let r=we(t.messages)?t.messages:Te();"__i18nGlobal"in s&&(r=lo(e.locale.value,{messages:r,__i18n:s.__i18nGlobal}));const a=Object.keys(r);a.length&&a.forEach(d=>{e.mergeLocaleMessage(d,r[d])});{if(we(t.datetimeFormats)){const d=Object.keys(t.datetimeFormats);d.length&&d.forEach(p=>{e.mergeDateTimeFormat(p,t.datetimeFormats[p])})}if(we(t.numberFormats)){const d=Object.keys(t.numberFormats);d.length&&d.forEach(p=>{e.mergeNumberFormat(p,t.numberFormats[p])})}}}function Wa(e){return Se(Or,null,e,0)}const Ua="__INTLIFY_META__",ja=()=>[],_g=()=>!1;let Va=0;function Ka(e){return(t,s,r,a)=>e(s,r,Cs()||void 0,a)}const pg=()=>{const e=Cs();let t=null;return e&&(t=bh(e)[Ua])?{[Ua]:t}:null};function co(e={}){const{__root:t,__injectWithOption:s}=e,r=t===void 0,a=e.flatJson,d=li?ze:Tl;let p=ye(e.inheritLocale)?e.inheritLocale:!0;const i=d(t&&p?t.locale.value:ae(e.locale)?e.locale:kr),n=d(t&&p?t.fallbackLocale.value:ae(e.fallbackLocale)||Ne(e.fallbackLocale)||ge(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:i.value),f=d(lo(i.value,e)),_=d(ge(e.datetimeFormats)?e.datetimeFormats:{[i.value]:{}}),h=d(ge(e.numberFormats)?e.numberFormats:{[i.value]:{}});let g=t?t.missingWarn:ye(e.missingWarn)||qs(e.missingWarn)?e.missingWarn:!0,v=t?t.fallbackWarn:ye(e.fallbackWarn)||qs(e.fallbackWarn)?e.fallbackWarn:!0,w=t?t.fallbackRoot:ye(e.fallbackRoot)?e.fallbackRoot:!0,S=!!e.fallbackFormat,u=Pe(e.missing)?e.missing:null,l=Pe(e.missing)?Ka(e.missing):null,o=Pe(e.postTranslation)?e.postTranslation:null,c=t?t.warnHtmlMessage:ye(e.warnHtmlMessage)?e.warnHtmlMessage:!0,m=!!e.escapeParameter;const C=t?t.modifiers:ge(e.modifiers)?e.modifiers:{};let y=e.pluralRules||t&&t.pluralRules,E;E=(()=>{r&&Oa(null);const U={version:fg,locale:i.value,fallbackLocale:n.value,messages:f.value,modifiers:C,pluralRules:y,missing:l===null?void 0:l,missingWarn:g,fallbackWarn:v,fallbackFormat:S,unresolving:!0,postTranslation:o===null?void 0:o,warnHtmlMessage:c,escapeParameter:m,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};U.datetimeFormats=_.value,U.numberFormats=h.value,U.__datetimeFormatters=ge(E)?E.__datetimeFormatters:void 0,U.__numberFormatters=ge(E)?E.__numberFormatters:void 0;const G=Jp(U);return r&&Oa(G),G})(),tr(E,i.value,n.value);function L(){return[i.value,n.value,f.value,_.value,h.value]}const T=Ie({get:()=>i.value,set:U=>{i.value=U,E.locale=i.value}}),M=Ie({get:()=>n.value,set:U=>{n.value=U,E.fallbackLocale=n.value,tr(E,i.value,U)}}),O=Ie(()=>f.value),D=Ie(()=>_.value),K=Ie(()=>h.value);function Y(){return Pe(o)?o:null}function te(U){o=U,E.postTranslation=U}function ee(){return u}function Z(U){U!==null&&(l=Ka(U)),u=U,E.missing=l}const R=(U,G,le,fe,_e,Me)=>{L();let Ee;try{__INTLIFY_PROD_DEVTOOLS__,r||(E.fallbackContext=t?Yp():void 0),Ee=U(E)}finally{__INTLIFY_PROD_DEVTOOLS__,r||(E.fallbackContext=void 0)}if(le!=="translate exists"&&He(Ee)&&Ee===xi||le==="translate exists"&&!Ee){const[Ve,ve]=G();return t&&w?fe(t):_e(Ve)}else{if(Me(Ee))return Ee;throw it(tt.UNEXPECTED_RETURN_TYPE)}};function N(...U){return R(G=>Reflect.apply($a,null,[G,...U]),()=>Ln(...U),"translate",G=>Reflect.apply(G.t,G,[...U]),G=>G,G=>ae(G))}function F(...U){const[G,le,fe]=U;if(fe&&!we(fe))throw it(tt.INVALID_ARGUMENT);return N(G,le,Ue({resolvedMessage:!0},fe||{}))}function H(...U){return R(G=>Reflect.apply(Ia,null,[G,...U]),()=>wn(...U),"datetime format",G=>Reflect.apply(G.d,G,[...U]),()=>xa,G=>ae(G))}function se(...U){return R(G=>Reflect.apply(Ba,null,[G,...U]),()=>En(...U),"number format",G=>Reflect.apply(G.n,G,[...U]),()=>xa,G=>ae(G))}function ie(U){return U.map(G=>ae(G)||He(G)||ye(G)?Wa(String(G)):G)}const ce={normalize:ie,interpolate:U=>U,type:"vnode"};function x(...U){return R(G=>{let le;const fe=G;try{fe.processor=ce,le=Reflect.apply($a,null,[fe,...U])}finally{fe.processor=null}return le},()=>Ln(...U),"translate",G=>G[kn](...U),G=>[Wa(G)],G=>Ne(G))}function k(...U){return R(G=>Reflect.apply(Ba,null,[G,...U]),()=>En(...U),"number format",G=>G[Tn](...U),ja,G=>ae(G)||Ne(G))}function V(...U){return R(G=>Reflect.apply(Ia,null,[G,...U]),()=>wn(...U),"datetime format",G=>G[Rn](...U),ja,G=>ae(G)||Ne(G))}function W(U){y=U,E.pluralRules=y}function re(U,G){return R(()=>{if(!U)return!1;const le=ae(G)?G:i.value,fe=$(le),_e=E.messageResolver(fe,U);return At(_e)||ht(_e)||ae(_e)},()=>[U],"translate exists",le=>Reflect.apply(le.te,le,[U,G]),_g,le=>ye(le))}function A(U){let G=null;const le=lh(E,n.value,i.value);for(let fe=0;fe<le.length;fe++){const _e=f.value[le[fe]]||{},Me=E.messageResolver(_e,U);if(Me!=null){G=Me;break}}return G}function B(U){const G=A(U);return G??(t?t.tm(U)||{}:{})}function $(U){return f.value[U]||{}}function X(U,G){if(a){const le={[U]:G};for(const fe in le)pt(le,fe)&&Rr(le[fe]);G=le[U]}f.value[U]=G,E.messages=f.value}function J(U,G){f.value[U]=f.value[U]||{};const le={[U]:G};if(a)for(const fe in le)pt(le,fe)&&Rr(le[fe]);G=le[U],qr(G,f.value[U]),E.messages=f.value}function z(U){return _.value[U]||{}}function P(U,G){_.value[U]=G,E.datetimeFormats=_.value,Ma(E,U,G)}function I(U,G){_.value[U]=Ue(_.value[U]||{},G),E.datetimeFormats=_.value,Ma(E,U,G)}function j(U){return h.value[U]||{}}function q(U,G){h.value[U]=G,E.numberFormats=h.value,Na(E,U,G)}function ne(U,G){h.value[U]=Ue(h.value[U]||{},G),E.numberFormats=h.value,Na(E,U,G)}Va++,t&&li&&(Tt(t.locale,U=>{p&&(i.value=U,E.locale=U,tr(E,i.value,n.value))}),Tt(t.fallbackLocale,U=>{p&&(n.value=U,E.fallbackLocale=U,tr(E,i.value,n.value))}));const Q={id:Va,locale:T,fallbackLocale:M,get inheritLocale(){return p},set inheritLocale(U){p=U,U&&t&&(i.value=t.locale.value,n.value=t.fallbackLocale.value,tr(E,i.value,n.value))},get availableLocales(){return Object.keys(f.value).sort()},messages:O,get modifiers(){return C},get pluralRules(){return y||{}},get isGlobal(){return r},get missingWarn(){return g},set missingWarn(U){g=U,E.missingWarn=g},get fallbackWarn(){return v},set fallbackWarn(U){v=U,E.fallbackWarn=v},get fallbackRoot(){return w},set fallbackRoot(U){w=U},get fallbackFormat(){return S},set fallbackFormat(U){S=U,E.fallbackFormat=S},get warnHtmlMessage(){return c},set warnHtmlMessage(U){c=U,E.warnHtmlMessage=U},get escapeParameter(){return m},set escapeParameter(U){m=U,E.escapeParameter=U},t:N,getLocaleMessage:$,setLocaleMessage:X,mergeLocaleMessage:J,getPostTranslationHandler:Y,setPostTranslationHandler:te,getMissingHandler:ee,setMissingHandler:Z,[vh]:W};return Q.datetimeFormats=D,Q.numberFormats=K,Q.rt=F,Q.te=re,Q.tm=B,Q.d=H,Q.n=se,Q.getDateTimeFormat=z,Q.setDateTimeFormat=P,Q.mergeDateTimeFormat=I,Q.getNumberFormat=j,Q.setNumberFormat=q,Q.mergeNumberFormat=ne,Q[Sh]=s,Q[kn]=x,Q[Rn]=V,Q[Tn]=k,Q}function gg(e){const t=ae(e.locale)?e.locale:kr,s=ae(e.fallbackLocale)||Ne(e.fallbackLocale)||ge(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:t,r=Pe(e.missing)?e.missing:void 0,a=ye(e.silentTranslationWarn)||qs(e.silentTranslationWarn)?!e.silentTranslationWarn:!0,d=ye(e.silentFallbackWarn)||qs(e.silentFallbackWarn)?!e.silentFallbackWarn:!0,p=ye(e.fallbackRoot)?e.fallbackRoot:!0,i=!!e.formatFallbackMessages,n=ge(e.modifiers)?e.modifiers:{},f=e.pluralizationRules,_=Pe(e.postTranslation)?e.postTranslation:void 0,h=ae(e.warnHtmlInMessage)?e.warnHtmlInMessage!=="off":!0,g=!!e.escapeParameterHtml,v=ye(e.sync)?e.sync:!0;let w=e.messages;if(ge(e.sharedMessages)){const C=e.sharedMessages;w=Object.keys(C).reduce((E,b)=>{const L=E[b]||(E[b]={});return Ue(L,C[b]),E},w||{})}const{__i18n:S,__root:u,__injectWithOption:l}=e,o=e.datetimeFormats,c=e.numberFormats,m=e.flatJson;return{locale:t,fallbackLocale:s,messages:w,flatJson:m,datetimeFormats:o,numberFormats:c,missing:r,missingWarn:a,fallbackWarn:d,fallbackRoot:p,fallbackFormat:i,modifiers:n,pluralRules:f,postTranslation:_,warnHtmlMessage:h,escapeParameter:g,messageResolver:e.messageResolver,inheritLocale:v,__i18n:S,__root:u,__injectWithOption:l}}function xn(e={}){const t=co(gg(e)),{__extender:s}=e,r={id:t.id,get locale(){return t.locale.value},set locale(a){t.locale.value=a},get fallbackLocale(){return t.fallbackLocale.value},set fallbackLocale(a){t.fallbackLocale.value=a},get messages(){return t.messages.value},get datetimeFormats(){return t.datetimeFormats.value},get numberFormats(){return t.numberFormats.value},get availableLocales(){return t.availableLocales},get missing(){return t.getMissingHandler()},set missing(a){t.setMissingHandler(a)},get silentTranslationWarn(){return ye(t.missingWarn)?!t.missingWarn:t.missingWarn},set silentTranslationWarn(a){t.missingWarn=ye(a)?!a:a},get silentFallbackWarn(){return ye(t.fallbackWarn)?!t.fallbackWarn:t.fallbackWarn},set silentFallbackWarn(a){t.fallbackWarn=ye(a)?!a:a},get modifiers(){return t.modifiers},get formatFallbackMessages(){return t.fallbackFormat},set formatFallbackMessages(a){t.fallbackFormat=a},get postTranslation(){return t.getPostTranslationHandler()},set postTranslation(a){t.setPostTranslationHandler(a)},get sync(){return t.inheritLocale},set sync(a){t.inheritLocale=a},get warnHtmlInMessage(){return t.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(a){t.warnHtmlMessage=a!=="off"},get escapeParameterHtml(){return t.escapeParameter},set escapeParameterHtml(a){t.escapeParameter=a},get pluralizationRules(){return t.pluralRules||{}},__composer:t,t(...a){return Reflect.apply(t.t,t,[...a])},rt(...a){return Reflect.apply(t.rt,t,[...a])},tc(...a){const[d,p,i]=a,n={plural:1};let f=null,_=null;if(!ae(d))throw it(tt.INVALID_ARGUMENT);const h=d;return ae(p)?n.locale=p:He(p)?n.plural=p:Ne(p)?f=p:ge(p)&&(_=p),ae(i)?n.locale=i:Ne(i)?f=i:ge(i)&&(_=i),Reflect.apply(t.t,t,[h,f||_||{},n])},te(a,d){return t.te(a,d)},tm(a){return t.tm(a)},getLocaleMessage(a){return t.getLocaleMessage(a)},setLocaleMessage(a,d){t.setLocaleMessage(a,d)},mergeLocaleMessage(a,d){t.mergeLocaleMessage(a,d)},d(...a){return Reflect.apply(t.d,t,[...a])},getDateTimeFormat(a){return t.getDateTimeFormat(a)},setDateTimeFormat(a,d){t.setDateTimeFormat(a,d)},mergeDateTimeFormat(a,d){t.mergeDateTimeFormat(a,d)},n(...a){return Reflect.apply(t.n,t,[...a])},getNumberFormat(a){return t.getNumberFormat(a)},setNumberFormat(a,d){t.setNumberFormat(a,d)},mergeNumberFormat(a,d){t.mergeNumberFormat(a,d)}};return r.__extender=s,r}function mg(e,t,s){return{beforeCreate(){const r=Cs();if(!r)throw it(tt.UNEXPECTED_ERROR);const a=this.$options;if(a.i18n){const d=a.i18n;if(a.__i18n&&(d.__i18n=a.__i18n),d.__root=t,this===this.$root)this.$i18n=za(e,d);else{d.__injectWithOption=!0,d.__extender=s.__vueI18nExtend,this.$i18n=xn(d);const p=this.$i18n;p.__extender&&(p.__disposer=p.__extender(this.$i18n))}}else if(a.__i18n)if(this===this.$root)this.$i18n=za(e,a);else{this.$i18n=xn({__i18n:a.__i18n,__injectWithOption:!0,__extender:s.__vueI18nExtend,__root:t});const d=this.$i18n;d.__extender&&(d.__disposer=d.__extender(this.$i18n))}else this.$i18n=e;a.__i18nGlobal&&Ch(t,a,a),this.$t=(...d)=>this.$i18n.t(...d),this.$rt=(...d)=>this.$i18n.rt(...d),this.$tc=(...d)=>this.$i18n.tc(...d),this.$te=(d,p)=>this.$i18n.te(d,p),this.$d=(...d)=>this.$i18n.d(...d),this.$n=(...d)=>this.$i18n.n(...d),this.$tm=d=>this.$i18n.tm(d),s.__setInstance(r,this.$i18n)},mounted(){},unmounted(){const r=Cs();if(!r)throw it(tt.UNEXPECTED_ERROR);const a=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,a.__disposer&&(a.__disposer(),delete a.__disposer,delete a.__extender),s.__deleteInstance(r),delete this.$i18n}}}function za(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[vh](t.pluralizationRules||e.pluralizationRules);const s=lo(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(s).forEach(r=>e.mergeLocaleMessage(r,s[r])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(r=>e.mergeDateTimeFormat(r,t.datetimeFormats[r])),t.numberFormats&&Object.keys(t.numberFormats).forEach(r=>e.mergeNumberFormat(r,t.numberFormats[r])),e}const ho={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function vg({slots:e},t){return t.length===1&&t[0]==="default"?(e.default?e.default():[]).reduce((r,a)=>[...r,...a.type===Be?a.children:[a]],[]):t.reduce((s,r)=>{const a=e[r];return a&&(s[r]=a()),s},Te())}function yh(){return Be}const Sg=nt({name:"i18n-t",props:Ue({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>He(e)||!isNaN(e)}},ho),setup(e,t){const{slots:s,attrs:r}=t,a=e.i18n||Ls({useScope:e.scope,__useComponent:!0});return()=>{const d=Object.keys(s).filter(h=>h!=="_"),p=Te();e.locale&&(p.locale=e.locale),e.plural!==void 0&&(p.plural=ae(e.plural)?+e.plural:e.plural);const i=vg(t,d),n=a[kn](e.keypath,i,p),f=Ue(Te(),r),_=ae(e.tag)||we(e.tag)?e.tag:yh();return Ir(_,f,n)}}}),qa=Sg;function bg(e){return Ne(e)&&!ae(e[0])}function wh(e,t,s,r){const{slots:a,attrs:d}=t;return()=>{const p={part:!0};let i=Te();e.locale&&(p.locale=e.locale),ae(e.format)?p.key=e.format:we(e.format)&&(ae(e.format.key)&&(p.key=e.format.key),i=Object.keys(e.format).reduce((g,v)=>s.includes(v)?Ue(Te(),g,{[v]:e.format[v]}):g,Te()));const n=r(e.value,p,i);let f=[p.key];Ne(n)?f=n.map((g,v)=>{const w=a[g.type],S=w?w({[g.type]:g.value,index:v,parts:n}):[g.value];return bg(S)&&(S[0].key=`${g.type}-${v}`),S}):ae(n)&&(f=[n]);const _=Ue(Te(),d),h=ae(e.tag)||we(e.tag)?e.tag:yh();return Ir(h,_,f)}}const Cg=nt({name:"i18n-n",props:Ue({value:{type:Number,required:!0},format:{type:[String,Object]}},ho),setup(e,t){const s=e.i18n||Ls({useScope:e.scope,__useComponent:!0});return wh(e,t,ph,(...r)=>s[Tn](...r))}}),Ga=Cg,yg=nt({name:"i18n-d",props:Ue({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},ho),setup(e,t){const s=e.i18n||Ls({useScope:e.scope,__useComponent:!0});return wh(e,t,_h,(...r)=>s[Rn](...r))}}),Xa=yg;function wg(e,t){const s=e;if(e.mode==="composition")return s.__getInstance(t)||e.global;{const r=s.__getInstance(t);return r!=null?r.__composer:e.global.__composer}}function Eg(e){const t=p=>{const{instance:i,value:n}=p;if(!i||!i.$)throw it(tt.UNEXPECTED_ERROR);const f=wg(e,i.$),_=Ya(n);return[Reflect.apply(f.t,f,[...Ja(_)]),f]};return{created:(p,i)=>{const[n,f]=t(i);li&&e.global===f&&(p.__i18nWatcher=Tt(f.locale,()=>{i.instance&&i.instance.$forceUpdate()})),p.__composer=f,p.textContent=n},unmounted:p=>{li&&p.__i18nWatcher&&(p.__i18nWatcher(),p.__i18nWatcher=void 0,delete p.__i18nWatcher),p.__composer&&(p.__composer=void 0,delete p.__composer)},beforeUpdate:(p,{value:i})=>{if(p.__composer){const n=p.__composer,f=Ya(i);p.textContent=Reflect.apply(n.t,n,[...Ja(f)])}},getSSRProps:p=>{const[i]=t(p);return{textContent:i}}}}function Ya(e){if(ae(e))return{path:e};if(ge(e)){if(!("path"in e))throw it(tt.REQUIRED_VALUE,"path");return e}else throw it(tt.INVALID_VALUE)}function Ja(e){const{path:t,locale:s,args:r,choice:a,plural:d}=e,p={},i=r||{};return ae(s)&&(p.locale=s),He(a)&&(p.plural=a),He(d)&&(p.plural=d),[t,i,p]}function Lg(e,t,...s){const r=ge(s[0])?s[0]:{};(ye(r.globalInstall)?r.globalInstall:!0)&&([qa.name,"I18nT"].forEach(d=>e.component(d,qa)),[Ga.name,"I18nN"].forEach(d=>e.component(d,Ga)),[Xa.name,"I18nD"].forEach(d=>e.component(d,Xa))),e.directive("t",Eg(t))}const kg=ns("global-vue-i18n");function Rg(e={},t){const s=__VUE_I18N_LEGACY_API__&&ye(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,r=ye(e.globalInjection)?e.globalInjection:!0,a=new Map,[d,p]=Tg(e,s),i=ns("");function n(g){return a.get(g)||null}function f(g,v){a.set(g,v)}function _(g){a.delete(g)}const h={get mode(){return __VUE_I18N_LEGACY_API__&&s?"legacy":"composition"},async install(g,...v){if(g.__VUE_I18N_SYMBOL__=i,g.provide(g.__VUE_I18N_SYMBOL__,h),ge(v[0])){const u=v[0];h.__composerExtend=u.__composerExtend,h.__vueI18nExtend=u.__vueI18nExtend}let w=null;!s&&r&&(w=Bg(g,h.global)),__VUE_I18N_FULL_INSTALL__&&Lg(g,h,...v),__VUE_I18N_LEGACY_API__&&s&&g.mixin(mg(p,p.__composer,h));const S=g.unmount;g.unmount=()=>{w&&w(),h.dispose(),S()}},get global(){return p},dispose(){d.stop()},__instances:a,__getInstance:n,__setInstance:f,__deleteInstance:_};return h}function Ls(e={}){const t=Cs();if(t==null)throw it(tt.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&t.appContext.app!=null&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw it(tt.NOT_INSTALLED);const s=Ag(t),r=Dg(s),a=bh(t),d=xg(e,a);if(d==="global")return Ch(r,e,a),r;if(d==="parent"){let n=Og(s,t,e.__useComponent);return n==null&&(n=r),n}const p=s;let i=p.__getInstance(t);if(i==null){const n=Ue({},e);"__i18n"in a&&(n.__i18n=a.__i18n),r&&(n.__root=r),i=co(n),p.__composerExtend&&(i[An]=p.__composerExtend(i)),Ig(p,t,i),p.__setInstance(t,i)}return i}function Tg(e,t,s){const r=Bn(),a=__VUE_I18N_LEGACY_API__&&t?r.run(()=>xn(e)):r.run(()=>co(e));if(a==null)throw it(tt.UNEXPECTED_ERROR);return[r,a]}function Ag(e){const t=ft(e.isCE?kg:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw it(e.isCE?tt.NOT_INSTALLED_WITH_PROVIDE:tt.UNEXPECTED_ERROR);return t}function xg(e,t){return Ti(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function Dg(e){return e.mode==="composition"?e.global:e.global.__composer}function Og(e,t,s=!1){let r=null;const a=t.root;let d=Pg(t,s);for(;d!=null;){const p=e;if(e.mode==="composition")r=p.__getInstance(d);else if(__VUE_I18N_LEGACY_API__){const i=p.__getInstance(d);i!=null&&(r=i.__composer,s&&r&&!r[Sh]&&(r=null))}if(r!=null||a===d)break;d=d.parent}return r}function Pg(e,t=!1){return e==null?null:t&&e.vnode.ctx||e.parent}function Ig(e,t,s){Xs(()=>{},t),Ci(()=>{const r=s;e.__deleteInstance(t);const a=r[An];a&&(a(),delete r[An])},t)}const Mg=["locale","fallbackLocale","availableLocales"],Za=["t","rt","d","n","tm","te"];function Bg(e,t){const s=Object.create(null);return Mg.forEach(a=>{const d=Object.getOwnPropertyDescriptor(t,a);if(!d)throw it(tt.UNEXPECTED_ERROR);const p=Fe(d.value)?{get(){return d.value.value},set(i){d.value.value=i}}:{get(){return d.get&&d.get()}};Object.defineProperty(s,a,p)}),e.config.globalProperties.$i18n=s,Za.forEach(a=>{const d=Object.getOwnPropertyDescriptor(t,a);if(!d||!d.value)throw it(tt.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${a}`,d)}),()=>{delete e.config.globalProperties.$i18n,Za.forEach(a=>{delete e.config.globalProperties[`$${a}`]})}}dg();Kp(kp);zp(Up);qp(lh);if(__INTLIFY_PROD_DEVTOOLS__){const e=gs();e.__INTLIFY__=!0,Rp(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const Ng=["placeholder"],Fg=["placeholder"],Hg=["placeholder"],$g=["placeholder"],Wg={value:"password"},Ug={value:"key"},jg={type:"submit"},Vg=nt({__name:"AddNode",props:{node:{type:Object,default:()=>({name:"",host:"",port:22,username:"root",auth_type:"password",auth_value:""})}},emits:["addNode","close"],setup(e,{emit:t}){const{t:s}=Ls({inheritLocale:!0,useScope:"global"}),r=t,d=ze(JSON.parse(JSON.stringify(e.node))),p=()=>{r("addNode",d.value)};return(i,n)=>(Ce(),Wt(Jc,{onClose:n[7]||(n[7]=f=>r("close"))},{default:Ms(()=>[oe("h2",null,me(ue(s)("addNode.title")),1),oe("form",{onSubmit:Fs(p,["prevent"])},[oe("label",null,[It(me(ue(s)("addNode.name"))+" ",1),qe(oe("input",{"onUpdate:modelValue":n[0]||(n[0]=f=>d.value.name=f),placeholder:ue(s)("addNode.namePlaceholder"),required:""},null,8,Ng),[[ps,d.value.name]])]),oe("label",null,[It(me(ue(s)("addNode.host"))+" ",1),qe(oe("input",{"onUpdate:modelValue":n[1]||(n[1]=f=>d.value.host=f),placeholder:ue(s)("addNode.hostPlaceholder"),required:""},null,8,Fg),[[ps,d.value.host]])]),oe("label",null,[It(me(ue(s)("addNode.port"))+" ",1),qe(oe("input",{"onUpdate:modelValue":n[2]||(n[2]=f=>d.value.port=f),type:"number",placeholder:ue(s)("addNode.portPlaceholder"),required:""},null,8,Hg),[[ps,d.value.port]])]),oe("label",null,[It(me(ue(s)("addNode.username"))+" ",1),qe(oe("input",{"onUpdate:modelValue":n[3]||(n[3]=f=>d.value.username=f),placeholder:ue(s)("addNode.usernamePlaceholder"),required:""},null,8,$g),[[ps,d.value.username]])]),oe("label",null,[It(me(ue(s)("addNode.authType"))+" ",1),qe(oe("select",{"onUpdate:modelValue":n[4]||(n[4]=f=>d.value.auth_type=f),required:""},[oe("option",Wg,me(ue(s)("addNode.authTypePassword")),1),oe("option",Ug,me(ue(s)("addNode.authTypePrivateKey")),1)],512),[[Zf,d.value.auth_type]])]),oe("label",null,[It(me(ue(s)("addNode.authValue"))+" ",1),qe(oe("textarea",{"onUpdate:modelValue":n[5]||(n[5]=f=>d.value.auth_value=f),placeholder:"",required:""},null,512),[[ps,d.value.auth_value]])]),oe("button",jg,me(ue(s)("addNode.actions.save")),1),oe("button",{type:"button",onClick:n[6]||(n[6]=f=>i.$emit("close"))},me(ue(s)("addNode.actions.cancel")),1)],32)]),_:1}))}}),Kg=_t(Vg,[["__scopeId","data-v-3ff2802f"]]),zg={},qg={class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"};function Gg(e,t){return Ce(),Oe("svg",qg,t[0]||(t[0]=[oe("path",{d:"M317.732571 184.32h389.12V92.16h-389.12v92.16z m-92.16 0v-102.4c0-45.202286 36.790857-81.92 81.92-81.92h409.6c45.202286 0 81.92 36.717714 81.92 81.92v102.4h163.84c22.674286 0 40.96 18.285714 40.96 40.96v40.96a10.24 10.24 0 0 1-10.24 10.24h-77.312l-31.597714 669.403429A81.846857 81.846857 0 0 1 802.889143 1024H221.769143c-43.666286 0-79.725714-34.377143-81.773714-78.116571L108.251429 276.48H31.012571a10.24 10.24 0 0 1-10.24-10.24v-40.96c0-22.674286 18.285714-40.96 40.96-40.96h163.84z m567.442286 747.52l31.012572-655.36H200.630857l31.012572 655.36h561.371428z",fill:"#DE5347"},null,-1)]))}const Eh=_t(zg,[["render",Gg]]),Xg={},Yg={class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"};function Jg(e,t){return Ce(),Oe("svg",Yg,t[0]||(t[0]=[oe("path",{d:"M166.532384 1024a47.357783 47.357783 0 0 1-23.2146-6.19056 46.429199 46.429199 0 0 1-21.666959-28.786103L81.102658 827.449726a46.119671 46.119671 0 0 1 4.64292-34.357607l411.053172-711.91438a162.192667 162.192667 0 0 1 281.051416 162.192668l-411.053172 711.914379a44.572031 44.572031 0 0 1-27.547991 21.357431L179.223031 1021.523776a43.333919 43.333919 0 0 1-12.690647 2.476224z m160.025971-92.858397H327.177411zM175.508695 823.116334l24.452712 96.572733L296.224612 892.450604 698.611 196.941208a69.33427 69.33427 0 1 0-120.09686-69.33427z",fill:"#060404"},null,-1),oe("path",{d:"M691.491856 346.443228A49.214951 49.214951 0 0 1 667.658201 340.562196l-199.955082-116.072997A46.429199 46.429199 0 0 1 512.894205 144.011922l200.574139 115.763468a46.429199 46.429199 0 0 1-23.2146 86.667838z",fill:"#060404"},null,-1),oe("path",{d:"M897.947026 1024H574.799804a46.429199 46.429199 0 1 1 0-92.858397h323.147222a46.429199 46.429199 0 0 1 0 92.858397z",fill:"#2DAF62"},null,-1)]))}const Zg=_t(Xg,[["render",Jg]]),Qg={},em={class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"};function tm(e,t){return Ce(),Oe("svg",em,t[0]||(t[0]=[oe("path",{d:"M100.57142844 32h822.85714312a68.57142844 68.57142844 0 0 1 68.57142844 68.57142844v822.85714312a68.57142844 68.57142844 0 0 1-68.57142844 68.57142844H100.57142844a68.57142844 68.57142844 0 0 1-68.57142844-68.57142844V100.57142844a68.57142844 68.57142844 0 0 1 68.57142844-68.57142844z m334.90285687 345.29142844l116.36571469-116.36571375-58.18285687-58.18285782-116.36571469 116.36571469L260.92571469 202.74285688 202.74285688 260.92571469l116.36571468 116.36571375-116.36571468 116.36571469 58.18285781 58.18285687 116.36571375-116.36571469 116.36571469 116.36571469 58.18285687-58.18285687-116.36571469-116.36571469zM512 786.28571469v68.57142844h342.85714312v-68.57142844H512z"},null,-1)]))}const sm=_t(Qg,[["render",tm]]);(function(){var e;try{if(typeof document<"u"){var t=document.createElement("style");t.nonce=(e=document.head.querySelector("meta[property=csp-nonce]"))==null?void 0:e.content,t.appendChild(document.createTextNode(".vue-notification-group{display:block;position:fixed;z-index:5000}.vue-notification-wrapper{display:block;overflow:hidden;width:100%;margin:0;padding:0}.notification-title{font-weight:600}.vue-notification-template{display:block;box-sizing:border-box;background:#fff;text-align:left}.vue-notification{display:block;box-sizing:border-box;text-align:left;font-size:12px;padding:10px;margin:0 5px 5px;color:#fff;background:#44a4fc;border-left:5px solid #187FE7}.vue-notification.warn{background:#ffb648;border-left-color:#f48a06}.vue-notification.error{background:#e54d42;border-left-color:#b82e24}.vue-notification.success{background:#68cd86;border-left-color:#42a85f}.vn-fade-enter-active,.vn-fade-leave-active,.vn-fade-move{transition:all .5s}.vn-fade-enter-from,.vn-fade-leave-to{opacity:0}")),document.head.appendChild(t)}}catch(s){console.error("vite-plugin-css-injected-by-js",s)}})();const Lh=new Map;function rm(e){return{all:e=e||new Map,on:function(t,s){var r=e.get(t);r?r.push(s):e.set(t,[s])},off:function(t,s){var r=e.get(t);r&&(s?r.splice(r.indexOf(s)>>>0,1):e.set(t,[]))},emit:function(t,s){var r=e.get(t);r&&r.slice().map(function(a){a(s)}),(r=e.get("*"))&&r.slice().map(function(a){a(t,s)})}}}const ci=rm(),Ji="[-+]?[0-9]*.?[0-9]+",Qa=[{name:"px",regexp:new RegExp(`^${Ji}px$`)},{name:"%",regexp:new RegExp(`^${Ji}%$`)},{name:"px",regexp:new RegExp(`^${Ji}$`)}],im=e=>{if(e==="auto")return{type:e,value:0};for(let t=0;t<Qa.length;t++){const s=Qa[t];if(s.regexp.test(e))return{type:s.name,value:parseFloat(e)}}return{type:"",value:e}},nm=e=>{switch(typeof e){case"number":return{type:"px",value:e};case"string":return im(e);default:return{type:"",value:e}}},el={x:new Set(["left","center","right"]),y:new Set(["top","bottom"])},om=(e=>()=>e++)(0),am=e=>typeof e!="string"?[]:e.split(/\s+/gi).filter(Boolean),lm=e=>{typeof e=="string"&&(e=am(e));let t=null,s=null;return e.forEach(r=>{el.y.has(r)&&(s=r),el.x.has(r)&&(t=r)}),{x:t,y:s}},Zi={position:["top","right"],cssAnimation:"vn-fade",velocityAnimation:{enter:e=>({height:[e.clientHeight,0],opacity:[1,0]}),leave:{height:0,opacity:[0,1]}}},cm=(e,t)=>{let s,r,a=t;const d=()=>{r=Date.now(),s=setTimeout(e,a)},p=()=>{clearTimeout(s),a-=Date.now()-r};return d(),{start:d,stop:p}};function hm(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!$s(e)}const Ur={IDLE:0,DESTROYED:2},um=nt({name:"notifications",props:{group:{type:String,default:""},width:{type:[Number,String],default:300},reverse:{type:Boolean,default:!1},position:{type:[String,Array],default:()=>Zi.position},classes:{type:[String,Array],default:"vue-notification"},animationType:{type:String,default:"css",validator(e){return e==="css"||e==="velocity"}},animation:{type:Object,default(){return Zi.velocityAnimation}},animationName:{type:String,default:Zi.cssAnimation},speed:{type:Number,default:300},duration:{type:Number,default:3e3},delay:{type:Number,default:0},max:{type:Number,default:1/0},ignoreDuplicates:{type:Boolean,default:!1},closeOnClick:{type:Boolean,default:!0},pauseOnHover:{type:Boolean,default:!1},dangerouslySetInnerHtml:{type:Boolean,default:!1}},emits:{click:e=>!0,destroy:e=>!0,start:e=>!0},slots:Object,setup:(e,{emit:t,slots:s,expose:r})=>{const a=ze([]),d=Lh.get("velocity"),p=Ie(()=>e.animationType==="velocity"),i=Ie(()=>a.value.filter(L=>L.state!==Ur.DESTROYED)),n=Ie(()=>nm(e.width)),f=Ie(()=>{const{x:L,y:T}=lm(e.position),M=n.value.value,O=n.value.type,D={width:M+O};return T&&(D[T]="0px"),L&&(L==="center"?D.left=`calc(50% - ${+M/2}${O})`:D[L]="0px"),D}),_=Ie(()=>p.value?{onEnter:y,onLeave:E,onAfterLeave:b}:{}),h=L=>{t("click",L),e.closeOnClick&&o(L)},g=L=>{var T;e.pauseOnHover&&((T=L.timer)==null||T.stop())},v=L=>{var T;e.pauseOnHover&&((T=L.timer)==null||T.start())},w=(L={})=>{if(L.group||(L.group=""),L.data||(L.data={}),e.group!==L.group)return;if(L.clean||L.clear){m();return}const T=typeof L.duration=="number"?L.duration:e.duration,M=typeof L.speed=="number"?L.speed:e.speed,O=typeof L.ignoreDuplicates=="boolean"?L.ignoreDuplicates:e.ignoreDuplicates,{title:D,text:K,type:Y,data:te,id:ee}=L,Z={id:ee||om(),title:D,text:K,type:Y,state:Ur.IDLE,speed:M,length:T+2*M,data:te,duplicates:0};T>=0&&(Z.timer=cm(()=>o(Z),Z.length));const R="bottom"in f.value,N=e.reverse?!R:R;let F=-1;const H=i.value.find(se=>se.title===L.title&&se.text===L.text);if(O&&H){H.duplicates++;return}N?(a.value.push(Z),t("start",Z),i.value.length>e.max&&(F=0)):(a.value.unshift(Z),t("start",Z),i.value.length>e.max&&(F=i.value.length-1)),F!==-1&&o(i.value[F])},S=L=>{c(L)},u=L=>["vue-notification-template",e.classes,L.type||""],l=L=>p.value?void 0:{transition:`all ${L.speed}ms`},o=L=>{var T;(T=L.timer)==null||T.stop(),L.state=Ur.DESTROYED,b(),t("destroy",L)},c=L=>{const T=a.value.find(M=>M.id===L);T&&o(T)},m=()=>{i.value.forEach(o)},C=(L,T)=>{var M;const O=(M=e.animation)==null?void 0:M[L];return typeof O=="function"?O(T):O},y=(L,T)=>{const M=C("enter",L);d(L,M,{duration:e.speed,complete:T})},E=(L,T)=>{const M=C("leave",L);d(L,M,{duration:e.speed,complete:T})};function b(){a.value=a.value.filter(L=>L.state!==Ur.DESTROYED)}return Xs(()=>{ci.on("add",w),ci.on("close",S)}),()=>{let L;return Se("div",{class:"vue-notification-group",style:f.value},[Se(zf,gc(_.value,{tag:"div",css:!p.value,name:e.animationName}),hm(L=i.value.map(T=>Se("div",{key:T.id,class:"vue-notification-wrapper",style:l(T),"data-id":T.id,onMouseenter:()=>g(T),onMouseleave:()=>v(T)},[s.body?s.body({item:T,class:[e.classes,T.type],close:()=>o(T)}):Se("div",{class:u(T),onClick:()=>h(T)},[e.dangerouslySetInnerHtml?Se(Be,null,[T.title?Se("div",{class:"notification-title",innerHTML:T.title},null):null,Se("div",{class:"notification-content",innerHTML:T.text},null)]):Se(Be,null,[T.title?Se("div",{class:"notification-title"},[T.title]):null,Se("div",{class:"notification-content"},[T.text])])])])))?L:{default:()=>[L]})])}}}),uo=e=>{typeof e=="string"&&(e={title:"",text:e}),typeof e=="object"&&ci.emit("add",e)};uo.close=e=>{ci.emit("close",e)};const fm=()=>({notify:uo}),dm="Notifications";function _m(e,t={}){Object.entries(t).forEach(r=>Lh.set(...r));const s=t.name||"notify";e.config.globalProperties["$"+s]=uo,e.component(t.componentName||dm,um)}const pm={install:_m},{notify:kh}=fm(),Tr=e=>{kh({type:"success",title:e})},Zt=e=>{kh({type:"error",title:e})},gm={ping:"/api/ping",getNodes:"/api/nodes",addNode:"/api/node",sshTest:"/api/ssh/test"},mm=e=>({name:e.name,host:e.ip,port:e.port,username:e.ssh_username,auth_type:e.auth_type,auth_value:e.auth_value}),fo=e=>{const t={};return e&&Object.keys(e).forEach(s=>{const r=e[s];"ip"in r?t[s]=mm(r):t[s]=r}),t},vm=()=>{const e=localStorage.getItem("cached-nodes"),t=e?JSON.parse(e):{},s=fo(t);return Dn(s),s},Dn=e=>{localStorage.setItem("cached-nodes",JSON.stringify(fo(e)))},Sm=location.host,bm=location.origin,Cm=async(e,t)=>new Promise(async(s,r)=>{try{const a=await fetch(`${bm}${gm.sshTest}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({node:e,cmds:t})});a.ok?s(await a.json()):r(`Error code ${a.status}`)}catch{r("Network error")}});function st(e){return`${e.host}:${e.port}`}const _o=fd("nodes",{state:()=>({nodes:{},selectedNodes:[],currentXtremNode:null}),getters:{allNodes(e){return Object.values(e.nodes)},getSelectedNodes(e){return e.selectedNodes.map(t=>e.nodes[t]).filter(Boolean)}},actions:{setNode(e){this.nodes[st(e)]=e},getNodeById(e){return console.log("getNodeById",e,this.nodes[e]),this.nodes[e]},removeNode(e){delete this.nodes[st(e)],this.removeFromSelectedNodes(e)},clearNodes(){this.nodes={},this.clearSelectedNodes()},setAllNodes(e){Object.values(e).forEach(t=>{t&&this.setNode(t)})},addToSelectedNodes(e){const t=st(e);this.selectedNodes.includes(t)||this.selectedNodes.push(t)},removeFromSelectedNodes(e){console.log("removeFromSelectedNodes called with node:",e,this.selectedNodes),this.selectedNodes=this.selectedNodes.filter(t=>t!==st(e)),console.log("selectedNodes after removal:",this.selectedNodes)},clearSelectedNodes(){this.selectedNodes=[]},selectAllNodes(){this.selectedNodes=Object.keys(this.nodes)},setXtermNode(e){this.currentXtremNode=e},removeXtermNode(){this.currentXtremNode=null}}}),ym={class:"node-list-container"},wm={class:"node-list"},Em={class:"bar"},Lm={key:0,class:"header-title"},km={key:1,class:"header-title"},Rm={class:"buttons"},Tm={key:0,class:"nodes"},Am=["onClick"],xm={class:"node-info"},Dm=["checked"],Om=["title"],Pm={class:"buttons node-actions"},Im={class:"bar"},Mm={class:"buttons"},Bm=nt({__name:"NodeList",setup(e){const t=Yc(),s=_o(),{t:r,locale:a}=Ls(),d=C=>a.value=C,p=Ie(()=>Object.keys(s.nodes).length),i=ze(!1),n=C=>{const y=C.target;localStorage.setItem("lang",y.value),d(y.value)};Vl(()=>{s.setAllNodes(vm());const C=localStorage.getItem("lang");C&&d(C)});const f=ze({name:"",host:"",port:22,username:"",auth_type:"password",auth_value:""}),_=Ie(()=>s.nodes?Object.keys(s.nodes).length===s.selectedNodes.length:!1),h=()=>{s.selectAllNodes()},g=()=>{s.clearSelectedNodes()},v=C=>{console.log(st(C),s.selectedNodes.includes(st(C))),s.selectedNodes.includes(st(C))?(console.log("removeFromSelectedNodes"),s.removeFromSelectedNodes(C)):s.addToSelectedNodes(C)},w=C=>{s.setNode(C),i.value=!1},S=C=>{f.value=C,i.value=!0},u=ze(null),l=C=>{s.setXtermNode(C),t.push({name:"xterm"})},o=()=>{if(p.value===0)return;const C=new Blob([JSON.stringify(s.nodes)],{type:"application/json"}),y=URL.createObjectURL(C),E=document.createElement("a");E.href=y,E.download=`nodes-${new Date().getTime()}.json`,E.click(),URL.revokeObjectURL(y),Tr(r("addNode.exportSucess"))},c=()=>{const C=document.createElement("input");C.type="file",C.accept="application/json",C.click(),C.onchange=()=>{var E;const y=(E=C.files)==null?void 0:E[0];if(y){const b=new FileReader;b.onload=()=>{try{const L=JSON.parse(b.result);if(typeof L=="object"){console.log(L);for(const T in L){const M=["port","auth_type","auth_value"];for(const O of M)if(!L[T].hasOwnProperty(O)){Zt(`${r("addNode.importError")} -> [${T}].${O} `);return}}s.setAllNodes(fo(L)),Dn(s.nodes),Tr(r("addNode.importSucess"))}}catch(L){Zt(`${r("addNode.importError")} ${L}`)}},b.readAsText(y)}}},m=C=>{confirm("确定要删除该节点吗？")&&s.removeNode(C)};return Tt(s.nodes,()=>{Dn(s.nodes)},{deep:!0}),(C,y)=>{const E=qn("auto-animate");return Ce(),Oe(Be,null,[i.value?(Ce(),Wt(Kg,{key:0,node:f.value,onClose:y[0]||(y[0]=b=>i.value=!1),onAddNode:w},null,8,["node"])):Nt("",!0),oe("div",ym,[oe("div",wm,[oe("div",Em,[ue(s).selectedNodes.length<=0?(Ce(),Oe("span",Lm,me(ue(r)("header.total"))+" "+me(p.value)+" "+me(ue(r)("header.nodes")),1)):Nt("",!0),ue(s).selectedNodes.length>0?(Ce(),Oe("span",km,me(ue(r)("header.choosed"))+" "+me(ue(s).selectedNodes.length)+" "+me(ue(r)("header.nodes")),1)):Nt("",!0),oe("div",Rm,[qe(oe("button",{class:"small-button",onClick:h},me(ue(r)("header.actions.all")),513),[[cr,!_.value&&p.value>0]]),qe(oe("button",{class:"small-button",onClick:g},me(ue(r)("header.actions.none")),513),[[cr,_.value&&p.value>0]]),oe("button",{class:"small-button",onClick:y[1]||(y[1]=b=>i.value=!0)},me(ue(r)("header.actions.add")),1)])]),p.value>0?qe((Ce(),Oe("ul",Tm,[(Ce(!0),Oe(Be,null,on(Object.values(ue(s).nodes).sort((b,L)=>b.name>L.name?1:-1),b=>(Ce(),Oe("li",{class:Hs({node:1,"ssh-active":u.value?ue(st)(u.value)==ue(st)(b):!1}),key:ue(st)(b),onClick:L=>v(b)},[oe("div",xm,[oe("input",{type:"checkbox",checked:ue(s).selectedNodes.includes(ue(st)(b))},null,8,Dm),oe("div",{class:Hs(["node-info-name",{selected:ue(s).selectedNodes.includes(ue(st)(b))}]),title:`${b.name}[${b.host}:${b.port}]`},me(b.name),11,Om)]),oe("div",Pm,[Se(sm,{onClick:Fs(L=>l(b),["stop"])},null,8,["onClick"]),Se(Zg,{onClick:Fs(L=>S(b),["stop"])},null,8,["onClick"]),Se(Eh,{onClick:Fs(L=>m(b),["stop"])},null,8,["onClick"])])],10,Am))),128))])),[[E]]):Nt("",!0),oe("div",Im,[y[3]||(y[3]=oe("span",{class:"footer-title"}," @Managi ",-1)),oe("div",Mm,[oe("select",{value:"",class:"small-button",onChange:n},y[2]||(y[2]=[oe("option",{disabled:!0,value:""},"Language",-1),oe("option",{value:"en"},"English",-1),oe("option",{value:"zh"},"中文",-1)]),32),qe(oe("button",{class:"small-button",onClick:o},me(ue(r)("footer.actions.export")),513),[[cr,p.value>0]]),oe("button",{class:"small-button",onClick:c},me(ue(r)("footer.actions.import")),1)])])])])],64)}}}),Nm=_t(Bm,[["__scopeId","data-v-404abae4"]]),Fm={class:"container scroll"},Hm=nt({__name:"App",setup(e){return(t,s)=>{const r=Ou("notifications"),a=qn("auto-animate");return Ce(),Oe(Be,null,[Se(r,{position:"top right"}),oe("div",Fm,[Se(Nm),qe(Se(ue(Xc),null,null,512),[[a]])]),Se(B_)],64)}}}),$m=nt({__name:"Spinner",props:{size:{type:Number,default:15},thicknesses:{type:Number,default:3}},setup(e){const t=e;return(s,r)=>(Ce(),Oe("div",{class:"loading-container",style:dr({width:t.size+"px",height:t.size+"px"})},[oe("div",{class:"loading-spinner",style:dr({border:t.thicknesses+"px solid var(--color-main)","border-top":t.thicknesses+"px solid var(--color-sub)"})},null,4)],4))}}),Wm=_t($m,[["__scopeId","data-v-64c94ffd"]]),Um=["disabled"],jm=nt({__name:"ButtonWithSpinner",props:{action:{type:Function,required:!0},size:{type:Number,default:16},thicknesses:{type:Number,default:3}},setup(e){const t=e,s=ze(!1),r=async()=>new Promise(async(a,d)=>{if(console.log("ButtonWithSpinner.handleClick"),typeof t.action!="function"){Zt("props.action is not a function");return}s.value=!0;try{const p=await t.action();p&&Tr(p)}catch(p){Zt(p)}finally{s.value=!1,a(null)}});return(a,d)=>(Ce(),Oe("button",{onClick:r,disabled:s.value},[s.value?(Ce(),Wt(Wm,{key:0,size:t.size,thicknesses:t.thicknesses},null,8,["size","thicknesses"])):Gn(a.$slots,"default",{key:1},void 0)],8,Um))}}),Vm=_t(jm,[["__scopeId","data-v-96a6234e"]]),Km={};function zm(e,t){return Ce(),Wt(Rf,{name:"fade-opacity"},{default:Ms(()=>[Gn(e.$slots,"default",{},void 0,!0)]),_:3})}const qm=_t(Km,[["render",zm],["__scopeId","data-v-cf63476d"]]),Gm={class:"panel"},Xm={key:0},Ym={class:"bar"},Jm={class:"buttons shortcuts"},Zm={class:"shortcuts-note shortcut"},Qm=["onClick","onMouseover"],ev={class:"command-container"},tv=["placeholder"],sv=["placeholder"],rv={class:"buttons"},iv={class:"results"},nv={class:"output-block"},ov=["onClick"],av={class:"output-block error-block"},lv=["onClick"],cv={key:1,class:"full-center"},hv=nt({__name:"CmdsView",setup(e){const{t}=Ls(),s=_o(),r=ze(""),a=ze(),d=ze([]),p=ze(""),i=ze(!1),n=ze(-1);Xs(()=>{const S=localStorage.getItem("shortcuts");S?d.value=JSON.parse(S):(d.value=[{label:"Status",cmd:`system_info=$(uname -a | awk '{print $1, $2, $3}')
cpu_info=$(grep -m 1 "model name" /proc/cpuinfo | cut -d ':' -f 2 | sed 's/^ *//')
cpu_cores=$(grep -c ^processor /proc/cpuinfo)
cpu_usage=$(top -bn1 | grep "Cpu(s)" | sed "s/.*, *\\([0-9.]*\\)%* id.*/\\1/" | awk '{print 100 - $1"%"}')
disk_info=$(df -h | awk '/^\\/dev\\// {print $1, $3"/"$2, "("$5")"}' | tr '\\n' ';' | sed 's/;$/ /')
memory_total=$(free -m | awk '/Mem:/ {print $2}')
memory_used=$(free -m | awk '/Mem:/ {print $3}')
memory_percent=$(free -m | awk '/Mem:/ {printf "%.2f%%", ($3/$2)*100}')

max_network_info=$(awk 'NR > 2 {rx+=$2; tx+=$10} END {printf "%.2fG|%.2fG", rx/1024/1024/1024, tx/1024/1024/1024}' /proc/net/dev)
network_in=$(echo "$max_network_info" | cut -d '|' -f1)
network_out=$(echo "$max_network_info" | cut -d '|' -f2)
load_info=$(awk '{printf "%.2f/%.2f/%.2f", $1, $2, $3}' /proc/loadavg)
process_count=$(ps -e | wc -l)
tcp_connections=$(ss -t | grep -c ESTAB)
udp_connections=$(ss -u | grep -c UNCONN)
uptime_seconds=$(awk '{print int($1)}' /proc/uptime)
uptime_days=$((uptime_seconds / 86400))
echo "System: $system_info"
echo "CPU: $cpu_info $cpu_cores Virtual Core ($cpu_usage)"
echo "Disk: $disk_info"
echo "Memery: $memory_used"M"/$memory_total"M" ($memory_percent)"
echo "Trafic: IN $network_in OUT $network_out"
echo "Load: $load_info"
echo "Process Num: $process_count"
echo "Connections: TCP $tcp_connections UDP $udp_connections"
echo "Uptime: $uptime_days Days"`},{label:"Change Password",cmd:`# Change current user's password to Aabbcc
echo "$(whoami):Aabbcc" | sudo chpasswd`}],localStorage.setItem("shortcuts",JSON.stringify(d.value)))});const f=(S,u)=>{r.value=u},_=()=>{r.value.length<2?Zt(t("cmdPanel.noCmd")):i.value=!0},h=()=>{if(p.value&&r.value){const S={label:p.value,cmd:r.value};d.value.push(S),localStorage.setItem("shortcuts",JSON.stringify(d.value)),p.value="",i.value=!1}else Zt(t("cmdPanel.shortcutNameRequired"))},g=S=>{confirm(t("cmdPanel.shortcutDeleteConfirm"))&&(d.value.splice(S,1),localStorage.setItem("shortcuts",JSON.stringify(d.value)))},v=async()=>{if(r.value.length<2)throw t("cmdPanel.emptyCmd");if(s.selectedNodes.length===0)throw t("cmdPanel.nothingSelected");a.value=[];for(const S of s.getSelectedNodes)try{const u=await Cm(S,r.value.split(`
`));a.value.push(u)}catch(u){console.log(u),Zt(u)}},w=S=>{navigator.clipboard.writeText(S).then(()=>{Tr(t("cmdPanel.copied"))}).catch(u=>{Zt(t("cmdPanel.copyError")+u)})};return(S,u)=>{const l=qn("auto-animate");return Ce(),Oe("main",Gm,[Object.keys(ue(s).nodes).length>0?(Ce(),Oe("div",Xm,[oe("div",Ym,[qe((Ce(),Oe("div",Jm,[oe("span",Zm,me(ue(t)("cmdPanel.shortcut")),1),(Ce(!0),Oe(Be,null,on(d.value,(o,c)=>(Ce(),Oe("button",{class:"small-button shortcut",key:c,onClick:m=>f(o.label,o.cmd),onMouseover:m=>n.value=c,onMouseleave:u[0]||(u[0]=m=>n.value=-1)},[It(me(o.label)+" ",1),Se(qm,null,{default:Ms(()=>[n.value===c?(Ce(),Wt(Eh,{key:0,class:"delete-icon",onClick:Fs(m=>g(c),["stop"])},null,8,["onClick"])):Nt("",!0)]),_:2},1024)],40,Qm))),128)),oe("button",{class:"small-button shortcut",onClick:_},"+")])),[[l]])]),oe("div",ev,[qe(oe("textarea",{"onUpdate:modelValue":u[1]||(u[1]=o=>r.value=o),placeholder:ue(t)("cmdPanel.commandPlaceholder"),class:"command-input"},null,8,tv),[[ps,r.value]]),i.value?(Ce(),Wt(Jc,{key:0,onClose:u[4]||(u[4]=o=>i.value=!1)},{default:Ms(()=>[oe("h2",null,me(ue(t)("cmdPanel.saveShortCut")),1),qe(oe("input",{class:"shortcut-input","onUpdate:modelValue":u[2]||(u[2]=o=>p.value=o),placeholder:ue(t)("cmdPanel.saveShortCutPlaceholder")},null,8,sv),[[ps,p.value]]),oe("div",rv,[oe("button",{onClick:h},me(ue(t)("cmdPanel.confirmAddShortcut")),1),oe("button",{onClick:u[3]||(u[3]=o=>i.value=!1)},me(ue(t)("cmdPanel.cancelShortCut")),1)])]),_:1})):Nt("",!0),Se(Vm,{class:"execute-button",action:v},{default:Ms(()=>[It(me(ue(t)("cmdPanel.executeCommand")),1)]),_:1}),qe((Ce(),Oe("ul",iv,[(Ce(!0),Oe(Be,null,on(a.value,o=>(Ce(),Oe("li",{key:ue(st)(o.node),class:"result"},[oe("strong",{class:Hs({success:o.success,failed:!o.success})},me(ue(s).getNodeById(ue(st)(o.node)).name),3),qe(oe("div",nv,[oe("pre",null,[oe("code",null,me(o.output.join("")),1),oe("button",{class:"small-button copy-button",onClick:c=>w(o.output.join(""))},"Copy",8,ov)])],512),[[cr,o.output.join("").length>0]]),qe(oe("div",av,[oe("pre",null,[oe("code",null,me(o.error.join("")),1),oe("button",{class:"small-button copy-button",onClick:c=>w(o.error.join(""))},"Copy",8,lv)])],512),[[cr,o.error.join("").length>0]])]))),128))])),[[l]])])])):Nt("",!0),ue(s).nodes&&Object.keys(ue(s).nodes).length===0?(Ce(),Oe("div",cv,[oe("p",null,me(ue(t)("cmdPanel.addNodeToContinue")),1)])):Nt("",!0)])}}}),uv=_t(hv,[["__scopeId","data-v-76a84439"]]);var Qi={exports:{}},tl;function fv(){return tl||(tl=1,function(e,t){(function(s,r){e.exports=r()})(globalThis,()=>(()=>{var s={4567:function(p,i,n){var f=this&&this.__decorate||function(o,c,m,C){var y,E=arguments.length,b=E<3?c:C===null?C=Object.getOwnPropertyDescriptor(c,m):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(o,c,m,C);else for(var L=o.length-1;L>=0;L--)(y=o[L])&&(b=(E<3?y(b):E>3?y(c,m,b):y(c,m))||b);return E>3&&b&&Object.defineProperty(c,m,b),b},_=this&&this.__param||function(o,c){return function(m,C){c(m,C,o)}};Object.defineProperty(i,"__esModule",{value:!0}),i.AccessibilityManager=void 0;const h=n(9042),g=n(9924),v=n(844),w=n(4725),S=n(2585),u=n(3656);let l=i.AccessibilityManager=class extends v.Disposable{constructor(o,c,m,C){super(),this._terminal=o,this._coreBrowserService=m,this._renderService=C,this._rowColumns=new WeakMap,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=this._coreBrowserService.mainDocument.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=this._coreBrowserService.mainDocument.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let y=0;y<this._terminal.rows;y++)this._rowElements[y]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[y]);if(this._topBoundaryFocusListener=y=>this._handleBoundaryFocus(y,0),this._bottomBoundaryFocusListener=y=>this._handleBoundaryFocus(y,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=this._coreBrowserService.mainDocument.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new g.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(y=>this._handleResize(y.rows))),this.register(this._terminal.onRender(y=>this._refreshRows(y.start,y.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(y=>this._handleChar(y))),this.register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this.register(this._terminal.onA11yTab(y=>this._handleTab(y))),this.register(this._terminal.onKey(y=>this._handleKey(y.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this.register((0,u.addDisposableDomListener)(document,"selectionchange",()=>this._handleSelectionChange())),this.register(this._coreBrowserService.onDprChange(()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,v.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(o){for(let c=0;c<o;c++)this._handleChar(" ")}_handleChar(o){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==o&&(this._charsToAnnounce+=o):this._charsToAnnounce+=o,o===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=h.tooMuchOutput)))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0}_handleKey(o){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(o)||this._charsToConsume.push(o)}_refreshRows(o,c){this._liveRegionDebouncer.refresh(o,c,this._terminal.rows)}_renderRows(o,c){const m=this._terminal.buffer,C=m.lines.length.toString();for(let y=o;y<=c;y++){const E=m.lines.get(m.ydisp+y),b=[],L=(E==null?void 0:E.translateToString(!0,void 0,void 0,b))||"",T=(m.ydisp+y+1).toString(),M=this._rowElements[y];M&&(L.length===0?(M.innerText=" ",this._rowColumns.set(M,[0,1])):(M.textContent=L,this._rowColumns.set(M,b)),M.setAttribute("aria-posinset",T),M.setAttribute("aria-setsize",C))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(o,c){const m=o.target,C=this._rowElements[c===0?1:this._rowElements.length-2];if(m.getAttribute("aria-posinset")===(c===0?"1":`${this._terminal.buffer.lines.length}`)||o.relatedTarget!==C)return;let y,E;if(c===0?(y=m,E=this._rowElements.pop(),this._rowContainer.removeChild(E)):(y=this._rowElements.shift(),E=m,this._rowContainer.removeChild(y)),y.removeEventListener("focus",this._topBoundaryFocusListener),E.removeEventListener("focus",this._bottomBoundaryFocusListener),c===0){const b=this._createAccessibilityTreeNode();this._rowElements.unshift(b),this._rowContainer.insertAdjacentElement("afterbegin",b)}else{const b=this._createAccessibilityTreeNode();this._rowElements.push(b),this._rowContainer.appendChild(b)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(c===0?-1:1),this._rowElements[c===0?1:this._rowElements.length-2].focus(),o.preventDefault(),o.stopImmediatePropagation()}_handleSelectionChange(){var L;if(this._rowElements.length===0)return;const o=document.getSelection();if(!o)return;if(o.isCollapsed)return void(this._rowContainer.contains(o.anchorNode)&&this._terminal.clearSelection());if(!o.anchorNode||!o.focusNode)return void console.error("anchorNode and/or focusNode are null");let c={node:o.anchorNode,offset:o.anchorOffset},m={node:o.focusNode,offset:o.focusOffset};if((c.node.compareDocumentPosition(m.node)&Node.DOCUMENT_POSITION_PRECEDING||c.node===m.node&&c.offset>m.offset)&&([c,m]=[m,c]),c.node.compareDocumentPosition(this._rowElements[0])&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_FOLLOWING)&&(c={node:this._rowElements[0].childNodes[0],offset:0}),!this._rowContainer.contains(c.node))return;const C=this._rowElements.slice(-1)[0];if(m.node.compareDocumentPosition(C)&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_PRECEDING)&&(m={node:C,offset:((L=C.textContent)==null?void 0:L.length)??0}),!this._rowContainer.contains(m.node))return;const y=({node:T,offset:M})=>{const O=T instanceof Text?T.parentNode:T;let D=parseInt(O==null?void 0:O.getAttribute("aria-posinset"),10)-1;if(isNaN(D))return console.warn("row is invalid. Race condition?"),null;const K=this._rowColumns.get(O);if(!K)return console.warn("columns is null. Race condition?"),null;let Y=M<K.length?K[M]:K.slice(-1)[0]+1;return Y>=this._terminal.cols&&(++D,Y=0),{row:D,column:Y}},E=y(c),b=y(m);if(E&&b){if(E.row>b.row||E.row===b.row&&E.column>=b.column)throw new Error("invalid range");this._terminal.select(E.column,E.row,(b.row-E.row)*this._terminal.cols-E.column+b.column)}}_handleResize(o){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let c=this._rowContainer.children.length;c<this._terminal.rows;c++)this._rowElements[c]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[c]);for(;this._rowElements.length>o;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const o=this._coreBrowserService.mainDocument.createElement("div");return o.setAttribute("role","listitem"),o.tabIndex=-1,this._refreshRowDimensions(o),o}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let o=0;o<this._terminal.rows;o++)this._refreshRowDimensions(this._rowElements[o])}}_refreshRowDimensions(o){o.style.height=`${this._renderService.dimensions.css.cell.height}px`}};i.AccessibilityManager=l=f([_(1,S.IInstantiationService),_(2,w.ICoreBrowserService),_(3,w.IRenderService)],l)},3614:(p,i)=>{function n(g){return g.replace(/\r?\n/g,"\r")}function f(g,v){return v?"\x1B[200~"+g+"\x1B[201~":g}function _(g,v,w,S){g=f(g=n(g),w.decPrivateModes.bracketedPasteMode&&S.rawOptions.ignoreBracketedPasteMode!==!0),w.triggerDataEvent(g,!0),v.value=""}function h(g,v,w){const S=w.getBoundingClientRect(),u=g.clientX-S.left-10,l=g.clientY-S.top-10;v.style.width="20px",v.style.height="20px",v.style.left=`${u}px`,v.style.top=`${l}px`,v.style.zIndex="1000",v.focus()}Object.defineProperty(i,"__esModule",{value:!0}),i.rightClickHandler=i.moveTextAreaUnderMouseCursor=i.paste=i.handlePasteEvent=i.copyHandler=i.bracketTextForPaste=i.prepareTextForTerminal=void 0,i.prepareTextForTerminal=n,i.bracketTextForPaste=f,i.copyHandler=function(g,v){g.clipboardData&&g.clipboardData.setData("text/plain",v.selectionText),g.preventDefault()},i.handlePasteEvent=function(g,v,w,S){g.stopPropagation(),g.clipboardData&&_(g.clipboardData.getData("text/plain"),v,w,S)},i.paste=_,i.moveTextAreaUnderMouseCursor=h,i.rightClickHandler=function(g,v,w,S,u){h(g,v,w),u&&S.rightClickSelect(g),v.value=S.selectionText,v.select()}},7239:(p,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ColorContrastCache=void 0;const f=n(1505);i.ColorContrastCache=class{constructor(){this._color=new f.TwoKeyMap,this._css=new f.TwoKeyMap}setCss(_,h,g){this._css.set(_,h,g)}getCss(_,h){return this._css.get(_,h)}setColor(_,h,g){this._color.set(_,h,g)}getColor(_,h){return this._color.get(_,h)}clear(){this._color.clear(),this._css.clear()}}},3656:(p,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.addDisposableDomListener=void 0,i.addDisposableDomListener=function(n,f,_,h){n.addEventListener(f,_,h);let g=!1;return{dispose:()=>{g||(g=!0,n.removeEventListener(f,_,h))}}}},3551:function(p,i,n){var f=this&&this.__decorate||function(l,o,c,m){var C,y=arguments.length,E=y<3?o:m===null?m=Object.getOwnPropertyDescriptor(o,c):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(l,o,c,m);else for(var b=l.length-1;b>=0;b--)(C=l[b])&&(E=(y<3?C(E):y>3?C(o,c,E):C(o,c))||E);return y>3&&E&&Object.defineProperty(o,c,E),E},_=this&&this.__param||function(l,o){return function(c,m){o(c,m,l)}};Object.defineProperty(i,"__esModule",{value:!0}),i.Linkifier=void 0;const h=n(3656),g=n(8460),v=n(844),w=n(2585),S=n(4725);let u=i.Linkifier=class extends v.Disposable{get currentLink(){return this._currentLink}constructor(l,o,c,m,C){super(),this._element=l,this._mouseService=o,this._renderService=c,this._bufferService=m,this._linkProviderService=C,this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new g.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new g.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,v.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,v.toDisposable)(()=>{var y;this._lastMouseEvent=void 0,(y=this._activeProviderReplies)==null||y.clear()})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0})),this.register((0,h.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,h.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,h.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,h.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(l){this._lastMouseEvent=l;const o=this._positionFromMouseEvent(l,this._element,this._mouseService);if(!o)return;this._isMouseOut=!1;const c=l.composedPath();for(let m=0;m<c.length;m++){const C=c[m];if(C.classList.contains("xterm"))break;if(C.classList.contains("xterm-hover"))return}this._lastBufferCell&&o.x===this._lastBufferCell.x&&o.y===this._lastBufferCell.y||(this._handleHover(o),this._lastBufferCell=o)}_handleHover(l){if(this._activeLine!==l.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(l,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,l)||(this._clearCurrentLink(),this._askForLink(l,!0))}_askForLink(l,o){var m,C;this._activeProviderReplies&&o||((m=this._activeProviderReplies)==null||m.forEach(y=>{y==null||y.forEach(E=>{E.link.dispose&&E.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=l.y);let c=!1;for(const[y,E]of this._linkProviderService.linkProviders.entries())o?(C=this._activeProviderReplies)!=null&&C.get(y)&&(c=this._checkLinkProviderResult(y,l,c)):E.provideLinks(l.y,b=>{var T,M;if(this._isMouseOut)return;const L=b==null?void 0:b.map(O=>({link:O}));(T=this._activeProviderReplies)==null||T.set(y,L),c=this._checkLinkProviderResult(y,l,c),((M=this._activeProviderReplies)==null?void 0:M.size)===this._linkProviderService.linkProviders.length&&this._removeIntersectingLinks(l.y,this._activeProviderReplies)})}_removeIntersectingLinks(l,o){const c=new Set;for(let m=0;m<o.size;m++){const C=o.get(m);if(C)for(let y=0;y<C.length;y++){const E=C[y],b=E.link.range.start.y<l?0:E.link.range.start.x,L=E.link.range.end.y>l?this._bufferService.cols:E.link.range.end.x;for(let T=b;T<=L;T++){if(c.has(T)){C.splice(y--,1);break}c.add(T)}}}}_checkLinkProviderResult(l,o,c){var y;if(!this._activeProviderReplies)return c;const m=this._activeProviderReplies.get(l);let C=!1;for(let E=0;E<l;E++)this._activeProviderReplies.has(E)&&!this._activeProviderReplies.get(E)||(C=!0);if(!C&&m){const E=m.find(b=>this._linkAtPosition(b.link,o));E&&(c=!0,this._handleNewLink(E))}if(this._activeProviderReplies.size===this._linkProviderService.linkProviders.length&&!c)for(let E=0;E<this._activeProviderReplies.size;E++){const b=(y=this._activeProviderReplies.get(E))==null?void 0:y.find(L=>this._linkAtPosition(L.link,o));if(b){c=!0,this._handleNewLink(b);break}}return c}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(l){if(!this._currentLink)return;const o=this._positionFromMouseEvent(l,this._element,this._mouseService);o&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,o)&&this._currentLink.link.activate(l,this._currentLink.link.text)}_clearCurrentLink(l,o){this._currentLink&&this._lastMouseEvent&&(!l||!o||this._currentLink.link.range.start.y>=l&&this._currentLink.link.range.end.y<=o)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,v.disposeArray)(this._linkCacheDisposables))}_handleNewLink(l){if(!this._lastMouseEvent)return;const o=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);o&&this._linkAtPosition(l.link,o)&&(this._currentLink=l,this._currentLink.state={decorations:{underline:l.link.decorations===void 0||l.link.decorations.underline,pointerCursor:l.link.decorations===void 0||l.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,l.link,this._lastMouseEvent),l.link.decorations={},Object.defineProperties(l.link.decorations,{pointerCursor:{get:()=>{var c,m;return(m=(c=this._currentLink)==null?void 0:c.state)==null?void 0:m.decorations.pointerCursor},set:c=>{var m;(m=this._currentLink)!=null&&m.state&&this._currentLink.state.decorations.pointerCursor!==c&&(this._currentLink.state.decorations.pointerCursor=c,this._currentLink.state.isHovered&&this._element.classList.toggle("xterm-cursor-pointer",c))}},underline:{get:()=>{var c,m;return(m=(c=this._currentLink)==null?void 0:c.state)==null?void 0:m.decorations.underline},set:c=>{var m,C,y;(m=this._currentLink)!=null&&m.state&&((y=(C=this._currentLink)==null?void 0:C.state)==null?void 0:y.decorations.underline)!==c&&(this._currentLink.state.decorations.underline=c,this._currentLink.state.isHovered&&this._fireUnderlineEvent(l.link,c))}}}),this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(c=>{if(!this._currentLink)return;const m=c.start===0?0:c.start+1+this._bufferService.buffer.ydisp,C=this._bufferService.buffer.ydisp+1+c.end;if(this._currentLink.link.range.start.y>=m&&this._currentLink.link.range.end.y<=C&&(this._clearCurrentLink(m,C),this._lastMouseEvent)){const y=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);y&&this._askForLink(y,!1)}})))}_linkHover(l,o,c){var m;(m=this._currentLink)!=null&&m.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(o,!0),this._currentLink.state.decorations.pointerCursor&&l.classList.add("xterm-cursor-pointer")),o.hover&&o.hover(c,o.text)}_fireUnderlineEvent(l,o){const c=l.range,m=this._bufferService.buffer.ydisp,C=this._createLinkUnderlineEvent(c.start.x-1,c.start.y-m-1,c.end.x,c.end.y-m-1,void 0);(o?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(C)}_linkLeave(l,o,c){var m;(m=this._currentLink)!=null&&m.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(o,!1),this._currentLink.state.decorations.pointerCursor&&l.classList.remove("xterm-cursor-pointer")),o.leave&&o.leave(c,o.text)}_linkAtPosition(l,o){const c=l.range.start.y*this._bufferService.cols+l.range.start.x,m=l.range.end.y*this._bufferService.cols+l.range.end.x,C=o.y*this._bufferService.cols+o.x;return c<=C&&C<=m}_positionFromMouseEvent(l,o,c){const m=c.getCoords(l,o,this._bufferService.cols,this._bufferService.rows);if(m)return{x:m[0],y:m[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(l,o,c,m,C){return{x1:l,y1:o,x2:c,y2:m,cols:this._bufferService.cols,fg:C}}};i.Linkifier=u=f([_(1,S.IMouseService),_(2,S.IRenderService),_(3,w.IBufferService),_(4,S.ILinkProviderService)],u)},9042:(p,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.tooMuchOutput=i.promptLabel=void 0,i.promptLabel="Terminal input",i.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(p,i,n){var f=this&&this.__decorate||function(S,u,l,o){var c,m=arguments.length,C=m<3?u:o===null?o=Object.getOwnPropertyDescriptor(u,l):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(S,u,l,o);else for(var y=S.length-1;y>=0;y--)(c=S[y])&&(C=(m<3?c(C):m>3?c(u,l,C):c(u,l))||C);return m>3&&C&&Object.defineProperty(u,l,C),C},_=this&&this.__param||function(S,u){return function(l,o){u(l,o,S)}};Object.defineProperty(i,"__esModule",{value:!0}),i.OscLinkProvider=void 0;const h=n(511),g=n(2585);let v=i.OscLinkProvider=class{constructor(S,u,l){this._bufferService=S,this._optionsService=u,this._oscLinkService=l}provideLinks(S,u){var L;const l=this._bufferService.buffer.lines.get(S-1);if(!l)return void u(void 0);const o=[],c=this._optionsService.rawOptions.linkHandler,m=new h.CellData,C=l.getTrimmedLength();let y=-1,E=-1,b=!1;for(let T=0;T<C;T++)if(E!==-1||l.hasContent(T)){if(l.loadCell(T,m),m.hasExtendedAttrs()&&m.extended.urlId){if(E===-1){E=T,y=m.extended.urlId;continue}b=m.extended.urlId!==y}else E!==-1&&(b=!0);if(b||E!==-1&&T===C-1){const M=(L=this._oscLinkService.getLinkData(y))==null?void 0:L.uri;if(M){const O={start:{x:E+1,y:S},end:{x:T+(b||T!==C-1?0:1),y:S}};let D=!1;if(!(c!=null&&c.allowNonHttpProtocols))try{const K=new URL(M);["http:","https:"].includes(K.protocol)||(D=!0)}catch{D=!0}D||o.push({text:M,range:O,activate:(K,Y)=>c?c.activate(K,Y,O):w(0,Y),hover:(K,Y)=>{var te;return(te=c==null?void 0:c.hover)==null?void 0:te.call(c,K,Y,O)},leave:(K,Y)=>{var te;return(te=c==null?void 0:c.leave)==null?void 0:te.call(c,K,Y,O)}})}b=!1,m.hasExtendedAttrs()&&m.extended.urlId?(E=T,y=m.extended.urlId):(E=-1,y=-1)}}u(o)}};function w(S,u){if(confirm(`Do you want to navigate to ${u}?

WARNING: This link could potentially be dangerous`)){const l=window.open();if(l){try{l.opener=null}catch{}l.location.href=u}else console.warn("Opening link blocked as opener could not be cleared")}}i.OscLinkProvider=v=f([_(0,g.IBufferService),_(1,g.IOptionsService),_(2,g.IOscLinkService)],v)},6193:(p,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.RenderDebouncer=void 0,i.RenderDebouncer=class{constructor(n,f){this._renderCallback=n,this._coreBrowserService=f,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(n){return this._refreshCallbacks.push(n),this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(n,f,_){this._rowCount=_,n=n!==void 0?n:0,f=f!==void 0?f:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,n):n,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,f):f,this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const n=Math.max(this._rowStart,0),f=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(n,f),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const n of this._refreshCallbacks)n(0);this._refreshCallbacks=[]}}},3236:(p,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Terminal=void 0;const f=n(3614),_=n(3656),h=n(3551),g=n(9042),v=n(3730),w=n(1680),S=n(3107),u=n(5744),l=n(2950),o=n(1296),c=n(428),m=n(4269),C=n(5114),y=n(8934),E=n(3230),b=n(9312),L=n(4725),T=n(6731),M=n(8055),O=n(8969),D=n(8460),K=n(844),Y=n(6114),te=n(8437),ee=n(2584),Z=n(7399),R=n(5941),N=n(9074),F=n(2585),H=n(5435),se=n(4567),ie=n(779);class he extends O.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(x={}){super(x),this.browser=Y,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new K.MutableDisposable),this._onCursorMove=this.register(new D.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new D.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new D.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new D.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new D.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new D.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new D.EventEmitter),this._onBlur=this.register(new D.EventEmitter),this._onA11yCharEmitter=this.register(new D.EventEmitter),this._onA11yTabEmitter=this.register(new D.EventEmitter),this._onWillOpen=this.register(new D.EventEmitter),this._setup(),this._decorationService=this._instantiationService.createInstance(N.DecorationService),this._instantiationService.setService(F.IDecorationService,this._decorationService),this._linkProviderService=this._instantiationService.createInstance(ie.LinkProviderService),this._instantiationService.setService(L.ILinkProviderService,this._linkProviderService),this._linkProviderService.registerLinkProvider(this._instantiationService.createInstance(v.OscLinkProvider)),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((k,V)=>this.refresh(k,V))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(k=>this._reportWindowsOptions(k))),this.register(this._inputHandler.onColor(k=>this._handleColorEvent(k))),this.register((0,D.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,D.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,D.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,D.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(k=>this._afterResize(k.cols,k.rows))),this.register((0,K.toDisposable)(()=>{var k,V;this._customKeyEventHandler=void 0,(V=(k=this.element)==null?void 0:k.parentNode)==null||V.removeChild(this.element)}))}_handleColorEvent(x){if(this._themeService)for(const k of x){let V,W="";switch(k.index){case 256:V="foreground",W="10";break;case 257:V="background",W="11";break;case 258:V="cursor",W="12";break;default:V="ansi",W="4;"+k.index}switch(k.type){case 0:const re=M.color.toColorRGB(V==="ansi"?this._themeService.colors.ansi[k.index]:this._themeService.colors[V]);this.coreService.triggerDataEvent(`${ee.C0.ESC}]${W};${(0,R.toRgbString)(re)}${ee.C1_ESCAPED.ST}`);break;case 1:if(V==="ansi")this._themeService.modifyColors(A=>A.ansi[k.index]=M.channels.toColor(...k.color));else{const A=V;this._themeService.modifyColors(B=>B[A]=M.channels.toColor(...k.color))}break;case 2:this._themeService.restoreColor(k.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(x){x?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(se.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(x){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(ee.C0.ESC+"[I"),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var x;return(x=this.textarea)==null?void 0:x.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(ee.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const x=this.buffer.ybase+this.buffer.y,k=this.buffer.lines.get(x);if(!k)return;const V=Math.min(this.buffer.x,this.cols-1),W=this._renderService.dimensions.css.cell.height,re=k.getWidth(V),A=this._renderService.dimensions.css.cell.width*re,B=this.buffer.y*this._renderService.dimensions.css.cell.height,$=V*this._renderService.dimensions.css.cell.width;this.textarea.style.left=$+"px",this.textarea.style.top=B+"px",this.textarea.style.width=A+"px",this.textarea.style.height=W+"px",this.textarea.style.lineHeight=W+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,_.addDisposableDomListener)(this.element,"copy",k=>{this.hasSelection()&&(0,f.copyHandler)(k,this._selectionService)}));const x=k=>(0,f.handlePasteEvent)(k,this.textarea,this.coreService,this.optionsService);this.register((0,_.addDisposableDomListener)(this.textarea,"paste",x)),this.register((0,_.addDisposableDomListener)(this.element,"paste",x)),Y.isFirefox?this.register((0,_.addDisposableDomListener)(this.element,"mousedown",k=>{k.button===2&&(0,f.rightClickHandler)(k,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,_.addDisposableDomListener)(this.element,"contextmenu",k=>{(0,f.rightClickHandler)(k,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),Y.isLinux&&this.register((0,_.addDisposableDomListener)(this.element,"auxclick",k=>{k.button===1&&(0,f.moveTextAreaUnderMouseCursor)(k,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,_.addDisposableDomListener)(this.textarea,"keyup",x=>this._keyUp(x),!0)),this.register((0,_.addDisposableDomListener)(this.textarea,"keydown",x=>this._keyDown(x),!0)),this.register((0,_.addDisposableDomListener)(this.textarea,"keypress",x=>this._keyPress(x),!0)),this.register((0,_.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,_.addDisposableDomListener)(this.textarea,"compositionupdate",x=>this._compositionHelper.compositionupdate(x))),this.register((0,_.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,_.addDisposableDomListener)(this.textarea,"input",x=>this._inputEvent(x),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(x){var V;if(!x)throw new Error("Terminal requires a parent element.");if(x.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),((V=this.element)==null?void 0:V.ownerDocument.defaultView)&&this._coreBrowserService)return void(this.element.ownerDocument.defaultView!==this._coreBrowserService.window&&(this._coreBrowserService.window=this.element.ownerDocument.defaultView));this._document=x.ownerDocument,this.options.documentOverride&&this.options.documentOverride instanceof Document&&(this._document=this.optionsService.rawOptions.documentOverride),this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),x.appendChild(this.element);const k=this._document.createDocumentFragment();this._viewportElement=this._document.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),k.appendChild(this._viewportElement),this._viewportScrollArea=this._document.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=this._document.createElement("div"),this.screenElement.classList.add("xterm-screen"),this.register((0,_.addDisposableDomListener)(this.screenElement,"mousemove",W=>this.updateCursorStyle(W))),this._helperContainer=this._document.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),k.appendChild(this.screenElement),this.textarea=this._document.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",g.promptLabel),Y.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this.register(this._instantiationService.createInstance(C.CoreBrowserService,this.textarea,x.ownerDocument.defaultView??window,this._document??typeof window<"u"?window.document:null)),this._instantiationService.setService(L.ICoreBrowserService,this._coreBrowserService),this.register((0,_.addDisposableDomListener)(this.textarea,"focus",W=>this._handleTextAreaFocus(W))),this.register((0,_.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(c.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(L.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(T.ThemeService),this._instantiationService.setService(L.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(m.CharacterJoinerService),this._instantiationService.setService(L.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(E.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(L.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(W=>this._onRender.fire(W))),this.onResize(W=>this._renderService.resize(W.cols,W.rows)),this._compositionView=this._document.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(l.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this._mouseService=this._instantiationService.createInstance(y.MouseService),this._instantiationService.setService(L.IMouseService,this._mouseService),this.linkifier=this.register(this._instantiationService.createInstance(h.Linkifier,this.screenElement)),this.element.appendChild(k);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this.viewport=this._instantiationService.createInstance(w.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(W=>this.scrollLines(W.amount,W.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(b.SelectionService,this.element,this.screenElement,this.linkifier)),this._instantiationService.setService(L.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(W=>this.scrollLines(W.amount,W.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(W=>this._renderService.handleSelectionChanged(W.start,W.end,W.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(W=>{this.textarea.value=W,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(W=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,_.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.register(this._instantiationService.createInstance(S.BufferDecorationRenderer,this.screenElement)),this.register((0,_.addDisposableDomListener)(this.element,"mousedown",W=>this._selectionService.handleMouseDown(W))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(se.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",W=>this._handleScreenReaderModeOptionChange(W))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(u.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",W=>{!this._overviewRulerRenderer&&W&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(u.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(o.DomRenderer,this,this._document,this.element,this.screenElement,this._viewportElement,this._helperContainer,this.linkifier)}bindMouse(){const x=this,k=this.element;function V(A){const B=x._mouseService.getMouseReportCoords(A,x.screenElement);if(!B)return!1;let $,X;switch(A.overrideType||A.type){case"mousemove":X=32,A.buttons===void 0?($=3,A.button!==void 0&&($=A.button<3?A.button:3)):$=1&A.buttons?0:4&A.buttons?1:2&A.buttons?2:3;break;case"mouseup":X=0,$=A.button<3?A.button:3;break;case"mousedown":X=1,$=A.button<3?A.button:3;break;case"wheel":if(x._customWheelEventHandler&&x._customWheelEventHandler(A)===!1||x.viewport.getLinesScrolled(A)===0)return!1;X=A.deltaY<0?0:1,$=4;break;default:return!1}return!(X===void 0||$===void 0||$>4)&&x.coreMouseService.triggerMouseEvent({col:B.col,row:B.row,x:B.x,y:B.y,button:$,action:X,ctrl:A.ctrlKey,alt:A.altKey,shift:A.shiftKey})}const W={mouseup:null,wheel:null,mousedrag:null,mousemove:null},re={mouseup:A=>(V(A),A.buttons||(this._document.removeEventListener("mouseup",W.mouseup),W.mousedrag&&this._document.removeEventListener("mousemove",W.mousedrag)),this.cancel(A)),wheel:A=>(V(A),this.cancel(A,!0)),mousedrag:A=>{A.buttons&&V(A)},mousemove:A=>{A.buttons||V(A)}};this.register(this.coreMouseService.onProtocolChange(A=>{A?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(A)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&A?W.mousemove||(k.addEventListener("mousemove",re.mousemove),W.mousemove=re.mousemove):(k.removeEventListener("mousemove",W.mousemove),W.mousemove=null),16&A?W.wheel||(k.addEventListener("wheel",re.wheel,{passive:!1}),W.wheel=re.wheel):(k.removeEventListener("wheel",W.wheel),W.wheel=null),2&A?W.mouseup||(W.mouseup=re.mouseup):(this._document.removeEventListener("mouseup",W.mouseup),W.mouseup=null),4&A?W.mousedrag||(W.mousedrag=re.mousedrag):(this._document.removeEventListener("mousemove",W.mousedrag),W.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,_.addDisposableDomListener)(k,"mousedown",A=>{if(A.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(A))return V(A),W.mouseup&&this._document.addEventListener("mouseup",W.mouseup),W.mousedrag&&this._document.addEventListener("mousemove",W.mousedrag),this.cancel(A)})),this.register((0,_.addDisposableDomListener)(k,"wheel",A=>{if(!W.wheel){if(this._customWheelEventHandler&&this._customWheelEventHandler(A)===!1)return!1;if(!this.buffer.hasScrollback){const B=this.viewport.getLinesScrolled(A);if(B===0)return;const $=ee.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(A.deltaY<0?"A":"B");let X="";for(let J=0;J<Math.abs(B);J++)X+=$;return this.coreService.triggerDataEvent(X,!0),this.cancel(A,!0)}return this.viewport.handleWheel(A)?this.cancel(A):void 0}},{passive:!1})),this.register((0,_.addDisposableDomListener)(k,"touchstart",A=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(A),this.cancel(A)},{passive:!0})),this.register((0,_.addDisposableDomListener)(k,"touchmove",A=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(A)?void 0:this.cancel(A)},{passive:!1}))}refresh(x,k){var V;(V=this._renderService)==null||V.refreshRows(x,k)}updateCursorStyle(x){var k;(k=this._selectionService)!=null&&k.shouldColumnSelect(x)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(x,k,V=0){var W;V===1?(super.scrollLines(x,k,V),this.refresh(0,this.rows-1)):(W=this.viewport)==null||W.scrollLines(x)}paste(x){(0,f.paste)(x,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(x){this._customKeyEventHandler=x}attachCustomWheelEventHandler(x){this._customWheelEventHandler=x}registerLinkProvider(x){return this._linkProviderService.registerLinkProvider(x)}registerCharacterJoiner(x){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const k=this._characterJoinerService.register(x);return this.refresh(0,this.rows-1),k}deregisterCharacterJoiner(x){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(x)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(x){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+x)}registerDecoration(x){return this._decorationService.registerDecoration(x)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(x,k,V){this._selectionService.setSelection(x,k,V)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var x;(x=this._selectionService)==null||x.clearSelection()}selectAll(){var x;(x=this._selectionService)==null||x.selectAll()}selectLines(x,k){var V;(V=this._selectionService)==null||V.selectLines(x,k)}_keyDown(x){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(x)===!1)return!1;const k=this.browser.isMac&&this.options.macOptionIsMeta&&x.altKey;if(!k&&!this._compositionHelper.keydown(x))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;k||x.key!=="Dead"&&x.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const V=(0,Z.evaluateKeyboardEvent)(x,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(x),V.type===3||V.type===2){const W=this.rows-1;return this.scrollLines(V.type===2?-W:W),this.cancel(x,!0)}return V.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,x)||(V.cancel&&this.cancel(x,!0),!V.key||!!(x.key&&!x.ctrlKey&&!x.altKey&&!x.metaKey&&x.key.length===1&&x.key.charCodeAt(0)>=65&&x.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(V.key!==ee.C0.ETX&&V.key!==ee.C0.CR||(this.textarea.value=""),this._onKey.fire({key:V.key,domEvent:x}),this._showCursor(),this.coreService.triggerDataEvent(V.key,!0),!this.optionsService.rawOptions.screenReaderMode||x.altKey||x.ctrlKey?this.cancel(x,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(x,k){const V=x.isMac&&!this.options.macOptionIsMeta&&k.altKey&&!k.ctrlKey&&!k.metaKey||x.isWindows&&k.altKey&&k.ctrlKey&&!k.metaKey||x.isWindows&&k.getModifierState("AltGraph");return k.type==="keypress"?V:V&&(!k.keyCode||k.keyCode>47)}_keyUp(x){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(x)===!1||(function(k){return k.keyCode===16||k.keyCode===17||k.keyCode===18}(x)||this.focus(),this.updateCursorStyle(x),this._keyPressHandled=!1)}_keyPress(x){let k;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(x)===!1)return!1;if(this.cancel(x),x.charCode)k=x.charCode;else if(x.which===null||x.which===void 0)k=x.keyCode;else{if(x.which===0||x.charCode===0)return!1;k=x.which}return!(!k||(x.altKey||x.ctrlKey||x.metaKey)&&!this._isThirdLevelShift(this.browser,x)||(k=String.fromCharCode(k),this._onKey.fire({key:k,domEvent:x}),this._showCursor(),this.coreService.triggerDataEvent(k,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(x){if(x.data&&x.inputType==="insertText"&&(!x.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const k=x.data;return this.coreService.triggerDataEvent(k,!0),this.cancel(x),!0}return!1}resize(x,k){x!==this.cols||k!==this.rows?super.resize(x,k):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(x,k){var V,W;(V=this._charSizeService)==null||V.measure(),(W=this.viewport)==null||W.syncScrollArea(!0)}clear(){var x;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let k=1;k<this.rows;k++)this.buffer.lines.push(this.buffer.getBlankLine(te.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),(x=this.viewport)==null||x.reset(),this.refresh(0,this.rows-1)}}reset(){var k,V;this.options.rows=this.rows,this.options.cols=this.cols;const x=this._customKeyEventHandler;this._setup(),super.reset(),(k=this._selectionService)==null||k.reset(),this._decorationService.reset(),(V=this.viewport)==null||V.reset(),this._customKeyEventHandler=x,this.refresh(0,this.rows-1)}clearTextureAtlas(){var x;(x=this._renderService)==null||x.clearTextureAtlas()}_reportFocus(){var x;(x=this.element)!=null&&x.classList.contains("focus")?this.coreService.triggerDataEvent(ee.C0.ESC+"[I"):this.coreService.triggerDataEvent(ee.C0.ESC+"[O")}_reportWindowsOptions(x){if(this._renderService)switch(x){case H.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const k=this._renderService.dimensions.css.canvas.width.toFixed(0),V=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${ee.C0.ESC}[4;${V};${k}t`);break;case H.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const W=this._renderService.dimensions.css.cell.width.toFixed(0),re=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${ee.C0.ESC}[6;${re};${W}t`)}}cancel(x,k){if(this.options.cancelEvents||k)return x.preventDefault(),x.stopPropagation(),!1}}i.Terminal=he},9924:(p,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TimeBasedDebouncer=void 0,i.TimeBasedDebouncer=class{constructor(n,f=1e3){this._renderCallback=n,this._debounceThresholdMS=f,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(n,f,_){this._rowCount=_,n=n!==void 0?n:0,f=f!==void 0?f:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,n):n,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,f):f;const h=Date.now();if(h-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=h,this._innerRefresh();else if(!this._additionalRefreshRequested){const g=h-this._lastRefreshMs,v=this._debounceThresholdMS-g;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},v)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const n=Math.max(this._rowStart,0),f=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(n,f)}}},1680:function(p,i,n){var f=this&&this.__decorate||function(l,o,c,m){var C,y=arguments.length,E=y<3?o:m===null?m=Object.getOwnPropertyDescriptor(o,c):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(l,o,c,m);else for(var b=l.length-1;b>=0;b--)(C=l[b])&&(E=(y<3?C(E):y>3?C(o,c,E):C(o,c))||E);return y>3&&E&&Object.defineProperty(o,c,E),E},_=this&&this.__param||function(l,o){return function(c,m){o(c,m,l)}};Object.defineProperty(i,"__esModule",{value:!0}),i.Viewport=void 0;const h=n(3656),g=n(4725),v=n(8460),w=n(844),S=n(2585);let u=i.Viewport=class extends w.Disposable{constructor(l,o,c,m,C,y,E,b){super(),this._viewportElement=l,this._scrollArea=o,this._bufferService=c,this._optionsService=m,this._charSizeService=C,this._renderService=y,this._coreBrowserService=E,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new v.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,h.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(L=>this._activeBuffer=L.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(L=>this._renderDimensions=L)),this._handleThemeChange(b.colors),this.register(b.onChangeColors(L=>this._handleThemeChange(L))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(l){this._viewportElement.style.backgroundColor=l.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(l){if(l)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderDimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderDimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const o=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderDimensions.css.canvas.height);this._lastRecordedBufferHeight!==o&&(this._lastRecordedBufferHeight=o,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const l=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==l&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=l),this._refreshAnimationFrame=null}syncScrollArea(l=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(l);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(l)}_handleScroll(l){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const o=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:o,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const l=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(l*(this._smoothScrollState.target-this._smoothScrollState.origin)),l<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(l,o){const c=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(o<0&&this._viewportElement.scrollTop!==0||o>0&&c<this._lastRecordedBufferHeight)||(l.cancelable&&l.preventDefault(),!1)}handleWheel(l){const o=this._getPixelsScrolled(l);return o!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+o:this._smoothScrollState.target+=o,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=o,this._bubbleScroll(l,o))}scrollLines(l){if(l!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const o=l*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+o,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:l,suppressScrollEvent:!1})}_getPixelsScrolled(l){if(l.deltaY===0||l.shiftKey)return 0;let o=this._applyScrollModifier(l.deltaY,l);return l.deltaMode===WheelEvent.DOM_DELTA_LINE?o*=this._currentRowHeight:l.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(o*=this._currentRowHeight*this._bufferService.rows),o}getBufferElements(l,o){var b;let c,m="";const C=[],y=o??this._bufferService.buffer.lines.length,E=this._bufferService.buffer.lines;for(let L=l;L<y;L++){const T=E.get(L);if(!T)continue;const M=(b=E.get(L+1))==null?void 0:b.isWrapped;if(m+=T.translateToString(!M),!M||L===E.length-1){const O=document.createElement("div");O.textContent=m,C.push(O),m.length>0&&(c=O),m=""}}return{bufferElements:C,cursorElement:c}}getLinesScrolled(l){if(l.deltaY===0||l.shiftKey)return 0;let o=this._applyScrollModifier(l.deltaY,l);return l.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(o/=this._currentRowHeight+0,this._wheelPartialScroll+=o,o=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):l.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(o*=this._bufferService.rows),o}_applyScrollModifier(l,o){const c=this._optionsService.rawOptions.fastScrollModifier;return c==="alt"&&o.altKey||c==="ctrl"&&o.ctrlKey||c==="shift"&&o.shiftKey?l*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:l*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(l){this._lastTouchY=l.touches[0].pageY}handleTouchMove(l){const o=this._lastTouchY-l.touches[0].pageY;return this._lastTouchY=l.touches[0].pageY,o!==0&&(this._viewportElement.scrollTop+=o,this._bubbleScroll(l,o))}};i.Viewport=u=f([_(2,S.IBufferService),_(3,S.IOptionsService),_(4,g.ICharSizeService),_(5,g.IRenderService),_(6,g.ICoreBrowserService),_(7,g.IThemeService)],u)},3107:function(p,i,n){var f=this&&this.__decorate||function(S,u,l,o){var c,m=arguments.length,C=m<3?u:o===null?o=Object.getOwnPropertyDescriptor(u,l):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(S,u,l,o);else for(var y=S.length-1;y>=0;y--)(c=S[y])&&(C=(m<3?c(C):m>3?c(u,l,C):c(u,l))||C);return m>3&&C&&Object.defineProperty(u,l,C),C},_=this&&this.__param||function(S,u){return function(l,o){u(l,o,S)}};Object.defineProperty(i,"__esModule",{value:!0}),i.BufferDecorationRenderer=void 0;const h=n(4725),g=n(844),v=n(2585);let w=i.BufferDecorationRenderer=class extends g.Disposable{constructor(S,u,l,o,c){super(),this._screenElement=S,this._bufferService=u,this._coreBrowserService=l,this._decorationService=o,this._renderService=c,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register(this._coreBrowserService.onDprChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(m=>this._removeDecoration(m))),this.register((0,g.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const S of this._decorationService.decorations)this._renderDecoration(S);this._dimensionsChanged=!1}_renderDecoration(S){this._refreshStyle(S),this._dimensionsChanged&&this._refreshXPosition(S)}_createElement(S){var o;const u=this._coreBrowserService.mainDocument.createElement("div");u.classList.add("xterm-decoration"),u.classList.toggle("xterm-decoration-top-layer",((o=S==null?void 0:S.options)==null?void 0:o.layer)==="top"),u.style.width=`${Math.round((S.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,u.style.height=(S.options.height||1)*this._renderService.dimensions.css.cell.height+"px",u.style.top=(S.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",u.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const l=S.options.x??0;return l&&l>this._bufferService.cols&&(u.style.display="none"),this._refreshXPosition(S,u),u}_refreshStyle(S){const u=S.marker.line-this._bufferService.buffers.active.ydisp;if(u<0||u>=this._bufferService.rows)S.element&&(S.element.style.display="none",S.onRenderEmitter.fire(S.element));else{let l=this._decorationElements.get(S);l||(l=this._createElement(S),S.element=l,this._decorationElements.set(S,l),this._container.appendChild(l),S.onDispose(()=>{this._decorationElements.delete(S),l.remove()})),l.style.top=u*this._renderService.dimensions.css.cell.height+"px",l.style.display=this._altBufferIsActive?"none":"block",S.onRenderEmitter.fire(l)}}_refreshXPosition(S,u=S.element){if(!u)return;const l=S.options.x??0;(S.options.anchor||"left")==="right"?u.style.right=l?l*this._renderService.dimensions.css.cell.width+"px":"":u.style.left=l?l*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(S){var u;(u=this._decorationElements.get(S))==null||u.remove(),this._decorationElements.delete(S),S.dispose()}};i.BufferDecorationRenderer=w=f([_(1,v.IBufferService),_(2,h.ICoreBrowserService),_(3,v.IDecorationService),_(4,h.IRenderService)],w)},5871:(p,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ColorZoneStore=void 0,i.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(n){if(n.options.overviewRulerOptions){for(const f of this._zones)if(f.color===n.options.overviewRulerOptions.color&&f.position===n.options.overviewRulerOptions.position){if(this._lineIntersectsZone(f,n.marker.line))return;if(this._lineAdjacentToZone(f,n.marker.line,n.options.overviewRulerOptions.position))return void this._addLineToZone(f,n.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=n.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=n.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=n.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=n.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:n.options.overviewRulerOptions.color,position:n.options.overviewRulerOptions.position,startBufferLine:n.marker.line,endBufferLine:n.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(n){this._linePadding=n}_lineIntersectsZone(n,f){return f>=n.startBufferLine&&f<=n.endBufferLine}_lineAdjacentToZone(n,f,_){return f>=n.startBufferLine-this._linePadding[_||"full"]&&f<=n.endBufferLine+this._linePadding[_||"full"]}_addLineToZone(n,f){n.startBufferLine=Math.min(n.startBufferLine,f),n.endBufferLine=Math.max(n.endBufferLine,f)}}},5744:function(p,i,n){var f=this&&this.__decorate||function(c,m,C,y){var E,b=arguments.length,L=b<3?m:y===null?y=Object.getOwnPropertyDescriptor(m,C):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(c,m,C,y);else for(var T=c.length-1;T>=0;T--)(E=c[T])&&(L=(b<3?E(L):b>3?E(m,C,L):E(m,C))||L);return b>3&&L&&Object.defineProperty(m,C,L),L},_=this&&this.__param||function(c,m){return function(C,y){m(C,y,c)}};Object.defineProperty(i,"__esModule",{value:!0}),i.OverviewRulerRenderer=void 0;const h=n(5871),g=n(4725),v=n(844),w=n(2585),S={full:0,left:0,center:0,right:0},u={full:0,left:0,center:0,right:0},l={full:0,left:0,center:0,right:0};let o=i.OverviewRulerRenderer=class extends v.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(c,m,C,y,E,b,L){var M;super(),this._viewportElement=c,this._screenElement=m,this._bufferService=C,this._decorationService=y,this._renderService=E,this._optionsService=b,this._coreBrowserService=L,this._colorZoneStore=new h.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=this._coreBrowserService.mainDocument.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(M=this._viewportElement.parentElement)==null||M.insertBefore(this._canvas,this._viewportElement);const T=this._canvas.getContext("2d");if(!T)throw new Error("Ctx cannot be null");this._ctx=T,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,v.toDisposable)(()=>{var O;(O=this._canvas)==null||O.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register(this._coreBrowserService.onDprChange(()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const c=Math.floor(this._canvas.width/3),m=Math.ceil(this._canvas.width/3);u.full=this._canvas.width,u.left=c,u.center=m,u.right=c,this._refreshDrawHeightConstants(),l.full=0,l.left=0,l.center=u.left,l.right=u.left+u.center}_refreshDrawHeightConstants(){S.full=Math.round(2*this._coreBrowserService.dpr);const c=this._canvas.height/this._bufferService.buffer.lines.length,m=Math.round(Math.max(Math.min(c,12),6)*this._coreBrowserService.dpr);S.left=m,S.center=m,S.right=m}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*S.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*S.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*S.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*S.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowserService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowserService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const m of this._decorationService.decorations)this._colorZoneStore.addDecoration(m);this._ctx.lineWidth=1;const c=this._colorZoneStore.zones;for(const m of c)m.position!=="full"&&this._renderColorZone(m);for(const m of c)m.position==="full"&&this._renderColorZone(m);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(c){this._ctx.fillStyle=c.color,this._ctx.fillRect(l[c.position||"full"],Math.round((this._canvas.height-1)*(c.startBufferLine/this._bufferService.buffers.active.lines.length)-S[c.position||"full"]/2),u[c.position||"full"],Math.round((this._canvas.height-1)*((c.endBufferLine-c.startBufferLine)/this._bufferService.buffers.active.lines.length)+S[c.position||"full"]))}_queueRefresh(c,m){this._shouldUpdateDimensions=c||this._shouldUpdateDimensions,this._shouldUpdateAnchor=m||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};i.OverviewRulerRenderer=o=f([_(2,w.IBufferService),_(3,w.IDecorationService),_(4,g.IRenderService),_(5,w.IOptionsService),_(6,g.ICoreBrowserService)],o)},2950:function(p,i,n){var f=this&&this.__decorate||function(S,u,l,o){var c,m=arguments.length,C=m<3?u:o===null?o=Object.getOwnPropertyDescriptor(u,l):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(S,u,l,o);else for(var y=S.length-1;y>=0;y--)(c=S[y])&&(C=(m<3?c(C):m>3?c(u,l,C):c(u,l))||C);return m>3&&C&&Object.defineProperty(u,l,C),C},_=this&&this.__param||function(S,u){return function(l,o){u(l,o,S)}};Object.defineProperty(i,"__esModule",{value:!0}),i.CompositionHelper=void 0;const h=n(4725),g=n(2585),v=n(2584);let w=i.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(S,u,l,o,c,m){this._textarea=S,this._compositionView=u,this._bufferService=l,this._optionsService=o,this._coreService=c,this._renderService=m,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(S){this._compositionView.textContent=S.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(S){if(this._isComposing||this._isSendingComposition){if(S.keyCode===229||S.keyCode===16||S.keyCode===17||S.keyCode===18)return!1;this._finalizeComposition(!1)}return S.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(S){if(this._compositionView.classList.remove("active"),this._isComposing=!1,S){const u={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let l;this._isSendingComposition=!1,u.start+=this._dataAlreadySent.length,l=this._isComposing?this._textarea.value.substring(u.start,u.end):this._textarea.value.substring(u.start),l.length>0&&this._coreService.triggerDataEvent(l,!0)}},0)}else{this._isSendingComposition=!1;const u=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(u,!0)}}_handleAnyTextareaChanges(){const S=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const u=this._textarea.value,l=u.replace(S,"");this._dataAlreadySent=l,u.length>S.length?this._coreService.triggerDataEvent(l,!0):u.length<S.length?this._coreService.triggerDataEvent(`${v.C0.DEL}`,!0):u.length===S.length&&u!==S&&this._coreService.triggerDataEvent(u,!0)}},0)}updateCompositionElements(S){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const u=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),l=this._renderService.dimensions.css.cell.height,o=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,c=u*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=c+"px",this._compositionView.style.top=o+"px",this._compositionView.style.height=l+"px",this._compositionView.style.lineHeight=l+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const m=this._compositionView.getBoundingClientRect();this._textarea.style.left=c+"px",this._textarea.style.top=o+"px",this._textarea.style.width=Math.max(m.width,1)+"px",this._textarea.style.height=Math.max(m.height,1)+"px",this._textarea.style.lineHeight=m.height+"px"}S||setTimeout(()=>this.updateCompositionElements(!0),0)}}};i.CompositionHelper=w=f([_(2,g.IBufferService),_(3,g.IOptionsService),_(4,g.ICoreService),_(5,h.IRenderService)],w)},9806:(p,i)=>{function n(f,_,h){const g=h.getBoundingClientRect(),v=f.getComputedStyle(h),w=parseInt(v.getPropertyValue("padding-left")),S=parseInt(v.getPropertyValue("padding-top"));return[_.clientX-g.left-w,_.clientY-g.top-S]}Object.defineProperty(i,"__esModule",{value:!0}),i.getCoords=i.getCoordsRelativeToElement=void 0,i.getCoordsRelativeToElement=n,i.getCoords=function(f,_,h,g,v,w,S,u,l){if(!w)return;const o=n(f,_,h);return o?(o[0]=Math.ceil((o[0]+(l?S/2:0))/S),o[1]=Math.ceil(o[1]/u),o[0]=Math.min(Math.max(o[0],1),g+(l?1:0)),o[1]=Math.min(Math.max(o[1],1),v),o):void 0}},9504:(p,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.moveToCellSequence=void 0;const f=n(2584);function _(u,l,o,c){const m=u-h(u,o),C=l-h(l,o),y=Math.abs(m-C)-function(E,b,L){let T=0;const M=E-h(E,L),O=b-h(b,L);for(let D=0;D<Math.abs(M-O);D++){const K=g(E,b)==="A"?-1:1,Y=L.buffer.lines.get(M+K*D);Y!=null&&Y.isWrapped&&T++}return T}(u,l,o);return S(y,w(g(u,l),c))}function h(u,l){let o=0,c=l.buffer.lines.get(u),m=c==null?void 0:c.isWrapped;for(;m&&u>=0&&u<l.rows;)o++,c=l.buffer.lines.get(--u),m=c==null?void 0:c.isWrapped;return o}function g(u,l){return u>l?"A":"B"}function v(u,l,o,c,m,C){let y=u,E=l,b="";for(;y!==o||E!==c;)y+=m?1:-1,m&&y>C.cols-1?(b+=C.buffer.translateBufferLineToString(E,!1,u,y),y=0,u=0,E++):!m&&y<0&&(b+=C.buffer.translateBufferLineToString(E,!1,0,u+1),y=C.cols-1,u=y,E--);return b+C.buffer.translateBufferLineToString(E,!1,u,y)}function w(u,l){const o=l?"O":"[";return f.C0.ESC+o+u}function S(u,l){u=Math.floor(u);let o="";for(let c=0;c<u;c++)o+=l;return o}i.moveToCellSequence=function(u,l,o,c){const m=o.buffer.x,C=o.buffer.y;if(!o.buffer.hasScrollback)return function(b,L,T,M,O,D){return _(L,M,O,D).length===0?"":S(v(b,L,b,L-h(L,O),!1,O).length,w("D",D))}(m,C,0,l,o,c)+_(C,l,o,c)+function(b,L,T,M,O,D){let K;K=_(L,M,O,D).length>0?M-h(M,O):L;const Y=M,te=function(ee,Z,R,N,F,H){let se;return se=_(R,N,F,H).length>0?N-h(N,F):Z,ee<R&&se<=N||ee>=R&&se<N?"C":"D"}(b,L,T,M,O,D);return S(v(b,K,T,Y,te==="C",O).length,w(te,D))}(m,C,u,l,o,c);let y;if(C===l)return y=m>u?"D":"C",S(Math.abs(m-u),w(y,c));y=C>l?"D":"C";const E=Math.abs(C-l);return S(function(b,L){return L.cols-b}(C>l?u:m,o)+(E-1)*o.cols+1+((C>l?m:u)-1),w(y,c))}},1296:function(p,i,n){var f=this&&this.__decorate||function(D,K,Y,te){var ee,Z=arguments.length,R=Z<3?K:te===null?te=Object.getOwnPropertyDescriptor(K,Y):te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(D,K,Y,te);else for(var N=D.length-1;N>=0;N--)(ee=D[N])&&(R=(Z<3?ee(R):Z>3?ee(K,Y,R):ee(K,Y))||R);return Z>3&&R&&Object.defineProperty(K,Y,R),R},_=this&&this.__param||function(D,K){return function(Y,te){K(Y,te,D)}};Object.defineProperty(i,"__esModule",{value:!0}),i.DomRenderer=void 0;const h=n(3787),g=n(2550),v=n(2223),w=n(6171),S=n(6052),u=n(4725),l=n(8055),o=n(8460),c=n(844),m=n(2585),C="xterm-dom-renderer-owner-",y="xterm-rows",E="xterm-fg-",b="xterm-bg-",L="xterm-focus",T="xterm-selection";let M=1,O=i.DomRenderer=class extends c.Disposable{constructor(D,K,Y,te,ee,Z,R,N,F,H,se,ie,he){super(),this._terminal=D,this._document=K,this._element=Y,this._screenElement=te,this._viewportElement=ee,this._helperContainer=Z,this._linkifier2=R,this._charSizeService=F,this._optionsService=H,this._bufferService=se,this._coreBrowserService=ie,this._themeService=he,this._terminalClass=M++,this._rowElements=[],this._selectionRenderModel=(0,S.createSelectionRenderModel)(),this.onRequestRedraw=this.register(new o.EventEmitter).event,this._rowContainer=this._document.createElement("div"),this._rowContainer.classList.add(y),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=this._document.createElement("div"),this._selectionContainer.classList.add(T),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,w.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(ce=>this._injectCss(ce))),this._injectCss(this._themeService.colors),this._rowFactory=N.createInstance(h.DomRendererRowFactory,document),this._element.classList.add(C+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(ce=>this._handleLinkHover(ce))),this.register(this._linkifier2.onHideLinkUnderline(ce=>this._handleLinkLeave(ce))),this.register((0,c.toDisposable)(()=>{this._element.classList.remove(C+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new g.WidthCache(this._document,this._helperContainer),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const D=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*D,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*D),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/D),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/D),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const Y of this._rowElements)Y.style.width=`${this.dimensions.css.canvas.width}px`,Y.style.height=`${this.dimensions.css.cell.height}px`,Y.style.lineHeight=`${this.dimensions.css.cell.height}px`,Y.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const K=`${this._terminalSelector} .${y} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=K,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(D){this._themeStyleElement||(this._themeStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let K=`${this._terminalSelector} .${y} { color: ${D.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;K+=`${this._terminalSelector} .${y} .xterm-dim { color: ${l.color.multiplyOpacity(D.foreground,.5).css};}`,K+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`;const Y=`blink_underline_${this._terminalClass}`,te=`blink_bar_${this._terminalClass}`,ee=`blink_block_${this._terminalClass}`;K+=`@keyframes ${Y} { 50% {  border-bottom-style: hidden; }}`,K+=`@keyframes ${te} { 50% {  box-shadow: none; }}`,K+=`@keyframes ${ee} { 0% {  background-color: ${D.cursor.css};  color: ${D.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${D.cursor.css}; }}`,K+=`${this._terminalSelector} .${y}.${L} .xterm-cursor.xterm-cursor-blink.xterm-cursor-underline { animation: ${Y} 1s step-end infinite;}${this._terminalSelector} .${y}.${L} .xterm-cursor.xterm-cursor-blink.xterm-cursor-bar { animation: ${te} 1s step-end infinite;}${this._terminalSelector} .${y}.${L} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: ${ee} 1s step-end infinite;}${this._terminalSelector} .${y} .xterm-cursor.xterm-cursor-block { background-color: ${D.cursor.css}; color: ${D.cursorAccent.css};}${this._terminalSelector} .${y} .xterm-cursor.xterm-cursor-block:not(.xterm-cursor-blink) { background-color: ${D.cursor.css} !important; color: ${D.cursorAccent.css} !important;}${this._terminalSelector} .${y} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${D.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${y} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${D.cursor.css} inset;}${this._terminalSelector} .${y} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${D.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,K+=`${this._terminalSelector} .${T} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${T} div { position: absolute; background-color: ${D.selectionBackgroundOpaque.css};}${this._terminalSelector} .${T} div { position: absolute; background-color: ${D.selectionInactiveBackgroundOpaque.css};}`;for(const[Z,R]of D.ansi.entries())K+=`${this._terminalSelector} .${E}${Z} { color: ${R.css}; }${this._terminalSelector} .${E}${Z}.xterm-dim { color: ${l.color.multiplyOpacity(R,.5).css}; }${this._terminalSelector} .${b}${Z} { background-color: ${R.css}; }`;K+=`${this._terminalSelector} .${E}${v.INVERTED_DEFAULT_COLOR} { color: ${l.color.opaque(D.background).css}; }${this._terminalSelector} .${E}${v.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${l.color.multiplyOpacity(l.color.opaque(D.background),.5).css}; }${this._terminalSelector} .${b}${v.INVERTED_DEFAULT_COLOR} { background-color: ${D.foreground.css}; }`,this._themeStyleElement.textContent=K}_setDefaultSpacing(){const D=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${D}px`,this._rowFactory.defaultSpacing=D}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(D,K){for(let Y=this._rowElements.length;Y<=K;Y++){const te=this._document.createElement("div");this._rowContainer.appendChild(te),this._rowElements.push(te)}for(;this._rowElements.length>K;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(D,K){this._refreshRowElements(D,K),this._updateDimensions(),this.handleSelectionChanged(this._selectionRenderModel.selectionStart,this._selectionRenderModel.selectionEnd,this._selectionRenderModel.columnSelectMode)}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(L),this.renderRows(0,this._bufferService.rows-1)}handleFocus(){this._rowContainer.classList.add(L),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(D,K,Y){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(D,K,Y),this.renderRows(0,this._bufferService.rows-1),!D||!K)return;this._selectionRenderModel.update(this._terminal,D,K,Y);const te=this._selectionRenderModel.viewportStartRow,ee=this._selectionRenderModel.viewportEndRow,Z=this._selectionRenderModel.viewportCappedStartRow,R=this._selectionRenderModel.viewportCappedEndRow;if(Z>=this._bufferService.rows||R<0)return;const N=this._document.createDocumentFragment();if(Y){const F=D[0]>K[0];N.appendChild(this._createSelectionElement(Z,F?K[0]:D[0],F?D[0]:K[0],R-Z+1))}else{const F=te===Z?D[0]:0,H=Z===ee?K[0]:this._bufferService.cols;N.appendChild(this._createSelectionElement(Z,F,H));const se=R-Z-1;if(N.appendChild(this._createSelectionElement(Z+1,0,this._bufferService.cols,se)),Z!==R){const ie=ee===R?K[0]:this._bufferService.cols;N.appendChild(this._createSelectionElement(R,0,ie))}}this._selectionContainer.appendChild(N)}_createSelectionElement(D,K,Y,te=1){const ee=this._document.createElement("div"),Z=K*this.dimensions.css.cell.width;let R=this.dimensions.css.cell.width*(Y-K);return Z+R>this.dimensions.css.canvas.width&&(R=this.dimensions.css.canvas.width-Z),ee.style.height=te*this.dimensions.css.cell.height+"px",ee.style.top=D*this.dimensions.css.cell.height+"px",ee.style.left=`${Z}px`,ee.style.width=`${R}px`,ee}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const D of this._rowElements)D.replaceChildren()}renderRows(D,K){const Y=this._bufferService.buffer,te=Y.ybase+Y.y,ee=Math.min(Y.x,this._bufferService.cols-1),Z=this._optionsService.rawOptions.cursorBlink,R=this._optionsService.rawOptions.cursorStyle,N=this._optionsService.rawOptions.cursorInactiveStyle;for(let F=D;F<=K;F++){const H=F+Y.ydisp,se=this._rowElements[F],ie=Y.lines.get(H);if(!se||!ie)break;se.replaceChildren(...this._rowFactory.createRow(ie,H,H===te,R,N,ee,Z,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${C}${this._terminalClass}`}_handleLinkHover(D){this._setCellUnderline(D.x1,D.x2,D.y1,D.y2,D.cols,!0)}_handleLinkLeave(D){this._setCellUnderline(D.x1,D.x2,D.y1,D.y2,D.cols,!1)}_setCellUnderline(D,K,Y,te,ee,Z){Y<0&&(D=0),te<0&&(K=0);const R=this._bufferService.rows-1;Y=Math.max(Math.min(Y,R),0),te=Math.max(Math.min(te,R),0),ee=Math.min(ee,this._bufferService.cols);const N=this._bufferService.buffer,F=N.ybase+N.y,H=Math.min(N.x,ee-1),se=this._optionsService.rawOptions.cursorBlink,ie=this._optionsService.rawOptions.cursorStyle,he=this._optionsService.rawOptions.cursorInactiveStyle;for(let ce=Y;ce<=te;++ce){const x=ce+N.ydisp,k=this._rowElements[ce],V=N.lines.get(x);if(!k||!V)break;k.replaceChildren(...this._rowFactory.createRow(V,x,x===F,ie,he,H,se,this.dimensions.css.cell.width,this._widthCache,Z?ce===Y?D:0:-1,Z?(ce===te?K:ee)-1:-1))}}};i.DomRenderer=O=f([_(7,m.IInstantiationService),_(8,u.ICharSizeService),_(9,m.IOptionsService),_(10,m.IBufferService),_(11,u.ICoreBrowserService),_(12,u.IThemeService)],O)},3787:function(p,i,n){var f=this&&this.__decorate||function(y,E,b,L){var T,M=arguments.length,O=M<3?E:L===null?L=Object.getOwnPropertyDescriptor(E,b):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")O=Reflect.decorate(y,E,b,L);else for(var D=y.length-1;D>=0;D--)(T=y[D])&&(O=(M<3?T(O):M>3?T(E,b,O):T(E,b))||O);return M>3&&O&&Object.defineProperty(E,b,O),O},_=this&&this.__param||function(y,E){return function(b,L){E(b,L,y)}};Object.defineProperty(i,"__esModule",{value:!0}),i.DomRendererRowFactory=void 0;const h=n(2223),g=n(643),v=n(511),w=n(2585),S=n(8055),u=n(4725),l=n(4269),o=n(6171),c=n(3734);let m=i.DomRendererRowFactory=class{constructor(y,E,b,L,T,M,O){this._document=y,this._characterJoinerService=E,this._optionsService=b,this._coreBrowserService=L,this._coreService=T,this._decorationService=M,this._themeService=O,this._workCell=new v.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(y,E,b){this._selectionStart=y,this._selectionEnd=E,this._columnSelectMode=b}createRow(y,E,b,L,T,M,O,D,K,Y,te){const ee=[],Z=this._characterJoinerService.getJoinedCharacters(E),R=this._themeService.colors;let N,F=y.getNoBgTrimmedLength();b&&F<M+1&&(F=M+1);let H=0,se="",ie=0,he=0,ce=0,x=!1,k=0,V=!1,W=0;const re=[],A=Y!==-1&&te!==-1;for(let B=0;B<F;B++){y.loadCell(B,this._workCell);let $=this._workCell.getWidth();if($===0)continue;let X=!1,J=B,z=this._workCell;if(Z.length>0&&B===Z[0][0]){X=!0;const ve=Z.shift();z=new l.JoinedCellData(this._workCell,y.translateToString(!0,ve[0],ve[1]),ve[1]-ve[0]),J=ve[1]-1,$=z.getWidth()}const P=this._isCellInSelection(B,E),I=b&&B===M,j=A&&B>=Y&&B<=te;let q=!1;this._decorationService.forEachDecorationAtCell(B,E,void 0,ve=>{q=!0});let ne=z.getChars()||g.WHITESPACE_CELL_CHAR;if(ne===" "&&(z.isUnderline()||z.isOverline())&&(ne=" "),W=$*D-K.get(ne,z.isBold(),z.isItalic()),N){if(H&&(P&&V||!P&&!V&&z.bg===ie)&&(P&&V&&R.selectionForeground||z.fg===he)&&z.extended.ext===ce&&j===x&&W===k&&!I&&!X&&!q){z.isInvisible()?se+=g.WHITESPACE_CELL_CHAR:se+=ne,H++;continue}H&&(N.textContent=se),N=this._document.createElement("span"),H=0,se=""}else N=this._document.createElement("span");if(ie=z.bg,he=z.fg,ce=z.extended.ext,x=j,k=W,V=P,X&&M>=B&&M<=J&&(M=B),!this._coreService.isCursorHidden&&I&&this._coreService.isCursorInitialized){if(re.push("xterm-cursor"),this._coreBrowserService.isFocused)O&&re.push("xterm-cursor-blink"),re.push(L==="bar"?"xterm-cursor-bar":L==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(T)switch(T){case"outline":re.push("xterm-cursor-outline");break;case"block":re.push("xterm-cursor-block");break;case"bar":re.push("xterm-cursor-bar");break;case"underline":re.push("xterm-cursor-underline")}}if(z.isBold()&&re.push("xterm-bold"),z.isItalic()&&re.push("xterm-italic"),z.isDim()&&re.push("xterm-dim"),se=z.isInvisible()?g.WHITESPACE_CELL_CHAR:z.getChars()||g.WHITESPACE_CELL_CHAR,z.isUnderline()&&(re.push(`xterm-underline-${z.extended.underlineStyle}`),se===" "&&(se=" "),!z.isUnderlineColorDefault()))if(z.isUnderlineColorRGB())N.style.textDecorationColor=`rgb(${c.AttributeData.toColorRGB(z.getUnderlineColor()).join(",")})`;else{let ve=z.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&z.isBold()&&ve<8&&(ve+=8),N.style.textDecorationColor=R.ansi[ve].css}z.isOverline()&&(re.push("xterm-overline"),se===" "&&(se=" ")),z.isStrikethrough()&&re.push("xterm-strikethrough"),j&&(N.style.textDecoration="underline");let Q=z.getFgColor(),U=z.getFgColorMode(),G=z.getBgColor(),le=z.getBgColorMode();const fe=!!z.isInverse();if(fe){const ve=Q;Q=G,G=ve;const ls=U;U=le,le=ls}let _e,Me,Ee,Ve=!1;switch(this._decorationService.forEachDecorationAtCell(B,E,void 0,ve=>{ve.options.layer!=="top"&&Ve||(ve.backgroundColorRGB&&(le=50331648,G=ve.backgroundColorRGB.rgba>>8&16777215,_e=ve.backgroundColorRGB),ve.foregroundColorRGB&&(U=50331648,Q=ve.foregroundColorRGB.rgba>>8&16777215,Me=ve.foregroundColorRGB),Ve=ve.options.layer==="top")}),!Ve&&P&&(_e=this._coreBrowserService.isFocused?R.selectionBackgroundOpaque:R.selectionInactiveBackgroundOpaque,G=_e.rgba>>8&16777215,le=50331648,Ve=!0,R.selectionForeground&&(U=50331648,Q=R.selectionForeground.rgba>>8&16777215,Me=R.selectionForeground)),Ve&&re.push("xterm-decoration-top"),le){case 16777216:case 33554432:Ee=R.ansi[G],re.push(`xterm-bg-${G}`);break;case 50331648:Ee=S.channels.toColor(G>>16,G>>8&255,255&G),this._addStyle(N,`background-color:#${C((G>>>0).toString(16),"0",6)}`);break;default:fe?(Ee=R.foreground,re.push(`xterm-bg-${h.INVERTED_DEFAULT_COLOR}`)):Ee=R.background}switch(_e||z.isDim()&&(_e=S.color.multiplyOpacity(Ee,.5)),U){case 16777216:case 33554432:z.isBold()&&Q<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(Q+=8),this._applyMinimumContrast(N,Ee,R.ansi[Q],z,_e,void 0)||re.push(`xterm-fg-${Q}`);break;case 50331648:const ve=S.channels.toColor(Q>>16&255,Q>>8&255,255&Q);this._applyMinimumContrast(N,Ee,ve,z,_e,Me)||this._addStyle(N,`color:#${C(Q.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(N,Ee,R.foreground,z,_e,Me)||fe&&re.push(`xterm-fg-${h.INVERTED_DEFAULT_COLOR}`)}re.length&&(N.className=re.join(" "),re.length=0),I||X||q?N.textContent=se:H++,W!==this.defaultSpacing&&(N.style.letterSpacing=`${W}px`),ee.push(N),B=J}return N&&H&&(N.textContent=se),ee}_applyMinimumContrast(y,E,b,L,T,M){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,o.treatGlyphAsBackgroundColor)(L.getCode()))return!1;const O=this._getContrastCache(L);let D;if(T||M||(D=O.getColor(E.rgba,b.rgba)),D===void 0){const K=this._optionsService.rawOptions.minimumContrastRatio/(L.isDim()?2:1);D=S.color.ensureContrastRatio(T||E,M||b,K),O.setColor((T||E).rgba,(M||b).rgba,D??null)}return!!D&&(this._addStyle(y,`color:${D.css}`),!0)}_getContrastCache(y){return y.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(y,E){y.setAttribute("style",`${y.getAttribute("style")||""}${E};`)}_isCellInSelection(y,E){const b=this._selectionStart,L=this._selectionEnd;return!(!b||!L)&&(this._columnSelectMode?b[0]<=L[0]?y>=b[0]&&E>=b[1]&&y<L[0]&&E<=L[1]:y<b[0]&&E>=b[1]&&y>=L[0]&&E<=L[1]:E>b[1]&&E<L[1]||b[1]===L[1]&&E===b[1]&&y>=b[0]&&y<L[0]||b[1]<L[1]&&E===L[1]&&y<L[0]||b[1]<L[1]&&E===b[1]&&y>=b[0])}};function C(y,E,b){for(;y.length<b;)y=E+y;return y}i.DomRendererRowFactory=m=f([_(1,u.ICharacterJoinerService),_(2,w.IOptionsService),_(3,u.ICoreBrowserService),_(4,w.ICoreService),_(5,w.IDecorationService),_(6,u.IThemeService)],m)},2550:(p,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.WidthCache=void 0,i.WidthCache=class{constructor(n,f){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=n.createElement("div"),this._container.classList.add("xterm-width-cache-measure-container"),this._container.setAttribute("aria-hidden","true"),this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const _=n.createElement("span");_.classList.add("xterm-char-measure-element");const h=n.createElement("span");h.classList.add("xterm-char-measure-element"),h.style.fontWeight="bold";const g=n.createElement("span");g.classList.add("xterm-char-measure-element"),g.style.fontStyle="italic";const v=n.createElement("span");v.classList.add("xterm-char-measure-element"),v.style.fontWeight="bold",v.style.fontStyle="italic",this._measureElements=[_,h,g,v],this._container.appendChild(_),this._container.appendChild(h),this._container.appendChild(g),this._container.appendChild(v),f.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(n,f,_,h){n===this._font&&f===this._fontSize&&_===this._weight&&h===this._weightBold||(this._font=n,this._fontSize=f,this._weight=_,this._weightBold=h,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${_}`,this._measureElements[1].style.fontWeight=`${h}`,this._measureElements[2].style.fontWeight=`${_}`,this._measureElements[3].style.fontWeight=`${h}`,this.clear())}get(n,f,_){let h=0;if(!f&&!_&&n.length===1&&(h=n.charCodeAt(0))<256){if(this._flat[h]!==-9999)return this._flat[h];const w=this._measure(n,0);return w>0&&(this._flat[h]=w),w}let g=n;f&&(g+="B"),_&&(g+="I");let v=this._holey.get(g);if(v===void 0){let w=0;f&&(w|=1),_&&(w|=2),v=this._measure(n,w),v>0&&this._holey.set(g,v)}return v}_measure(n,f){const _=this._measureElements[f];return _.textContent=n.repeat(32),_.offsetWidth/32}}},2223:(p,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TEXT_BASELINE=i.DIM_OPACITY=i.INVERTED_DEFAULT_COLOR=void 0;const f=n(6114);i.INVERTED_DEFAULT_COLOR=257,i.DIM_OPACITY=.5,i.TEXT_BASELINE=f.isFirefox||f.isLegacyEdge?"bottom":"ideographic"},6171:(p,i)=>{function n(_){return 57508<=_&&_<=57558}function f(_){return _>=128512&&_<=128591||_>=127744&&_<=128511||_>=128640&&_<=128767||_>=9728&&_<=9983||_>=9984&&_<=10175||_>=65024&&_<=65039||_>=129280&&_<=129535||_>=127462&&_<=127487}Object.defineProperty(i,"__esModule",{value:!0}),i.computeNextVariantOffset=i.createRenderDimensions=i.treatGlyphAsBackgroundColor=i.allowRescaling=i.isEmoji=i.isRestrictedPowerlineGlyph=i.isPowerlineGlyph=i.throwIfFalsy=void 0,i.throwIfFalsy=function(_){if(!_)throw new Error("value must not be falsy");return _},i.isPowerlineGlyph=n,i.isRestrictedPowerlineGlyph=function(_){return 57520<=_&&_<=57527},i.isEmoji=f,i.allowRescaling=function(_,h,g,v){return h===1&&g>Math.ceil(1.5*v)&&_!==void 0&&_>255&&!f(_)&&!n(_)&&!function(w){return 57344<=w&&w<=63743}(_)},i.treatGlyphAsBackgroundColor=function(_){return n(_)||function(h){return 9472<=h&&h<=9631}(_)},i.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}},i.computeNextVariantOffset=function(_,h,g=0){return(_-(2*Math.round(h)-g))%(2*Math.round(h))}},6052:(p,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createSelectionRenderModel=void 0;class n{constructor(){this.clear()}clear(){this.hasSelection=!1,this.columnSelectMode=!1,this.viewportStartRow=0,this.viewportEndRow=0,this.viewportCappedStartRow=0,this.viewportCappedEndRow=0,this.startCol=0,this.endCol=0,this.selectionStart=void 0,this.selectionEnd=void 0}update(_,h,g,v=!1){if(this.selectionStart=h,this.selectionEnd=g,!h||!g||h[0]===g[0]&&h[1]===g[1])return void this.clear();const w=_.buffers.active.ydisp,S=h[1]-w,u=g[1]-w,l=Math.max(S,0),o=Math.min(u,_.rows-1);l>=_.rows||o<0?this.clear():(this.hasSelection=!0,this.columnSelectMode=v,this.viewportStartRow=S,this.viewportEndRow=u,this.viewportCappedStartRow=l,this.viewportCappedEndRow=o,this.startCol=h[0],this.endCol=g[0])}isCellSelected(_,h,g){return!!this.hasSelection&&(g-=_.buffer.active.viewportY,this.columnSelectMode?this.startCol<=this.endCol?h>=this.startCol&&g>=this.viewportCappedStartRow&&h<this.endCol&&g<=this.viewportCappedEndRow:h<this.startCol&&g>=this.viewportCappedStartRow&&h>=this.endCol&&g<=this.viewportCappedEndRow:g>this.viewportStartRow&&g<this.viewportEndRow||this.viewportStartRow===this.viewportEndRow&&g===this.viewportStartRow&&h>=this.startCol&&h<this.endCol||this.viewportStartRow<this.viewportEndRow&&g===this.viewportEndRow&&h<this.endCol||this.viewportStartRow<this.viewportEndRow&&g===this.viewportStartRow&&h>=this.startCol)}}i.createSelectionRenderModel=function(){return new n}},456:(p,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SelectionModel=void 0,i.SelectionModel=class{constructor(n){this._bufferService=n,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const n=this.selectionStart[0]+this.selectionStartLength;return n>this._bufferService.cols?n%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(n/this._bufferService.cols)-1]:[n%this._bufferService.cols,this.selectionStart[1]+Math.floor(n/this._bufferService.cols)]:[n,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const n=this.selectionStart[0]+this.selectionStartLength;return n>this._bufferService.cols?[n%this._bufferService.cols,this.selectionStart[1]+Math.floor(n/this._bufferService.cols)]:[Math.max(n,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const n=this.selectionStart,f=this.selectionEnd;return!(!n||!f)&&(n[1]>f[1]||n[1]===f[1]&&n[0]>f[0])}handleTrim(n){return this.selectionStart&&(this.selectionStart[1]-=n),this.selectionEnd&&(this.selectionEnd[1]-=n),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(p,i,n){var f=this&&this.__decorate||function(o,c,m,C){var y,E=arguments.length,b=E<3?c:C===null?C=Object.getOwnPropertyDescriptor(c,m):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(o,c,m,C);else for(var L=o.length-1;L>=0;L--)(y=o[L])&&(b=(E<3?y(b):E>3?y(c,m,b):y(c,m))||b);return E>3&&b&&Object.defineProperty(c,m,b),b},_=this&&this.__param||function(o,c){return function(m,C){c(m,C,o)}};Object.defineProperty(i,"__esModule",{value:!0}),i.CharSizeService=void 0;const h=n(2585),g=n(8460),v=n(844);let w=i.CharSizeService=class extends v.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(o,c,m){super(),this._optionsService=m,this.width=0,this.height=0,this._onCharSizeChange=this.register(new g.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event;try{this._measureStrategy=this.register(new l(this._optionsService))}catch{this._measureStrategy=this.register(new u(o,c,this._optionsService))}this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const o=this._measureStrategy.measure();o.width===this.width&&o.height===this.height||(this.width=o.width,this.height=o.height,this._onCharSizeChange.fire())}};i.CharSizeService=w=f([_(2,h.IOptionsService)],w);class S extends v.Disposable{constructor(){super(...arguments),this._result={width:0,height:0}}_validateAndSet(c,m){c!==void 0&&c>0&&m!==void 0&&m>0&&(this._result.width=c,this._result.height=m)}}class u extends S{constructor(c,m,C){super(),this._document=c,this._parentElement=m,this._optionsService=C,this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){return this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`,this._validateAndSet(Number(this._measureElement.offsetWidth)/32,Number(this._measureElement.offsetHeight)),this._result}}class l extends S{constructor(c){super(),this._optionsService=c,this._canvas=new OffscreenCanvas(100,100),this._ctx=this._canvas.getContext("2d");const m=this._ctx.measureText("W");if(!("width"in m&&"fontBoundingBoxAscent"in m&&"fontBoundingBoxDescent"in m))throw new Error("Required font metrics not supported")}measure(){this._ctx.font=`${this._optionsService.rawOptions.fontSize}px ${this._optionsService.rawOptions.fontFamily}`;const c=this._ctx.measureText("W");return this._validateAndSet(c.width,c.fontBoundingBoxAscent+c.fontBoundingBoxDescent),this._result}}},4269:function(p,i,n){var f=this&&this.__decorate||function(l,o,c,m){var C,y=arguments.length,E=y<3?o:m===null?m=Object.getOwnPropertyDescriptor(o,c):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(l,o,c,m);else for(var b=l.length-1;b>=0;b--)(C=l[b])&&(E=(y<3?C(E):y>3?C(o,c,E):C(o,c))||E);return y>3&&E&&Object.defineProperty(o,c,E),E},_=this&&this.__param||function(l,o){return function(c,m){o(c,m,l)}};Object.defineProperty(i,"__esModule",{value:!0}),i.CharacterJoinerService=i.JoinedCellData=void 0;const h=n(3734),g=n(643),v=n(511),w=n(2585);class S extends h.AttributeData{constructor(o,c,m){super(),this.content=0,this.combinedData="",this.fg=o.fg,this.bg=o.bg,this.combinedData=c,this._width=m}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(o){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}i.JoinedCellData=S;let u=i.CharacterJoinerService=class Rh{constructor(o){this._bufferService=o,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new v.CellData}register(o){const c={id:this._nextCharacterJoinerId++,handler:o};return this._characterJoiners.push(c),c.id}deregister(o){for(let c=0;c<this._characterJoiners.length;c++)if(this._characterJoiners[c].id===o)return this._characterJoiners.splice(c,1),!0;return!1}getJoinedCharacters(o){if(this._characterJoiners.length===0)return[];const c=this._bufferService.buffer.lines.get(o);if(!c||c.length===0)return[];const m=[],C=c.translateToString(!0);let y=0,E=0,b=0,L=c.getFg(0),T=c.getBg(0);for(let M=0;M<c.getTrimmedLength();M++)if(c.loadCell(M,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==L||this._workCell.bg!==T){if(M-y>1){const O=this._getJoinedRanges(C,b,E,c,y);for(let D=0;D<O.length;D++)m.push(O[D])}y=M,b=E,L=this._workCell.fg,T=this._workCell.bg}E+=this._workCell.getChars().length||g.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-y>1){const M=this._getJoinedRanges(C,b,E,c,y);for(let O=0;O<M.length;O++)m.push(M[O])}return m}_getJoinedRanges(o,c,m,C,y){const E=o.substring(c,m);let b=[];try{b=this._characterJoiners[0].handler(E)}catch(L){console.error(L)}for(let L=1;L<this._characterJoiners.length;L++)try{const T=this._characterJoiners[L].handler(E);for(let M=0;M<T.length;M++)Rh._mergeRanges(b,T[M])}catch(T){console.error(T)}return this._stringRangesToCellRanges(b,C,y),b}_stringRangesToCellRanges(o,c,m){let C=0,y=!1,E=0,b=o[C];if(b){for(let L=m;L<this._bufferService.cols;L++){const T=c.getWidth(L),M=c.getString(L).length||g.WHITESPACE_CELL_CHAR.length;if(T!==0){if(!y&&b[0]<=E&&(b[0]=L,y=!0),b[1]<=E){if(b[1]=L,b=o[++C],!b)break;b[0]<=E?(b[0]=L,y=!0):y=!1}E+=M}}b&&(b[1]=this._bufferService.cols)}}static _mergeRanges(o,c){let m=!1;for(let C=0;C<o.length;C++){const y=o[C];if(m){if(c[1]<=y[0])return o[C-1][1]=c[1],o;if(c[1]<=y[1])return o[C-1][1]=Math.max(c[1],y[1]),o.splice(C,1),o;o.splice(C,1),C--}else{if(c[1]<=y[0])return o.splice(C,0,c),o;if(c[1]<=y[1])return y[0]=Math.min(c[0],y[0]),o;c[0]<y[1]&&(y[0]=Math.min(c[0],y[0]),m=!0)}}return m?o[o.length-1][1]=c[1]:o.push(c),o}};i.CharacterJoinerService=u=f([_(0,w.IBufferService)],u)},5114:(p,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CoreBrowserService=void 0;const f=n(844),_=n(8460),h=n(3656);class g extends f.Disposable{constructor(S,u,l){super(),this._textarea=S,this._window=u,this.mainDocument=l,this._isFocused=!1,this._cachedIsFocused=void 0,this._screenDprMonitor=new v(this._window),this._onDprChange=this.register(new _.EventEmitter),this.onDprChange=this._onDprChange.event,this._onWindowChange=this.register(new _.EventEmitter),this.onWindowChange=this._onWindowChange.event,this.register(this.onWindowChange(o=>this._screenDprMonitor.setWindow(o))),this.register((0,_.forwardEvent)(this._screenDprMonitor.onDprChange,this._onDprChange)),this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get window(){return this._window}set window(S){this._window!==S&&(this._window=S,this._onWindowChange.fire(this._window))}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}i.CoreBrowserService=g;class v extends f.Disposable{constructor(S){super(),this._parentWindow=S,this._windowResizeListener=this.register(new f.MutableDisposable),this._onDprChange=this.register(new _.EventEmitter),this.onDprChange=this._onDprChange.event,this._outerListener=()=>this._setDprAndFireIfDiffers(),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._updateDpr(),this._setWindowResizeListener(),this.register((0,f.toDisposable)(()=>this.clearListener()))}setWindow(S){this._parentWindow=S,this._setWindowResizeListener(),this._setDprAndFireIfDiffers()}_setWindowResizeListener(){this._windowResizeListener.value=(0,h.addDisposableDomListener)(this._parentWindow,"resize",()=>this._setDprAndFireIfDiffers())}_setDprAndFireIfDiffers(){this._parentWindow.devicePixelRatio!==this._currentDevicePixelRatio&&this._onDprChange.fire(this._parentWindow.devicePixelRatio),this._updateDpr()}_updateDpr(){var S;this._outerListener&&((S=this._resolutionMediaMatchList)==null||S.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._outerListener=void 0)}}},779:(p,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.LinkProviderService=void 0;const f=n(844);class _ extends f.Disposable{constructor(){super(),this.linkProviders=[],this.register((0,f.toDisposable)(()=>this.linkProviders.length=0))}registerLinkProvider(g){return this.linkProviders.push(g),{dispose:()=>{const v=this.linkProviders.indexOf(g);v!==-1&&this.linkProviders.splice(v,1)}}}}i.LinkProviderService=_},8934:function(p,i,n){var f=this&&this.__decorate||function(w,S,u,l){var o,c=arguments.length,m=c<3?S:l===null?l=Object.getOwnPropertyDescriptor(S,u):l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(w,S,u,l);else for(var C=w.length-1;C>=0;C--)(o=w[C])&&(m=(c<3?o(m):c>3?o(S,u,m):o(S,u))||m);return c>3&&m&&Object.defineProperty(S,u,m),m},_=this&&this.__param||function(w,S){return function(u,l){S(u,l,w)}};Object.defineProperty(i,"__esModule",{value:!0}),i.MouseService=void 0;const h=n(4725),g=n(9806);let v=i.MouseService=class{constructor(w,S){this._renderService=w,this._charSizeService=S}getCoords(w,S,u,l,o){return(0,g.getCoords)(window,w,S,u,l,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,o)}getMouseReportCoords(w,S){const u=(0,g.getCoordsRelativeToElement)(window,w,S);if(this._charSizeService.hasValidSize)return u[0]=Math.min(Math.max(u[0],0),this._renderService.dimensions.css.canvas.width-1),u[1]=Math.min(Math.max(u[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(u[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(u[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(u[0]),y:Math.floor(u[1])}}};i.MouseService=v=f([_(0,h.IRenderService),_(1,h.ICharSizeService)],v)},3230:function(p,i,n){var f=this&&this.__decorate||function(o,c,m,C){var y,E=arguments.length,b=E<3?c:C===null?C=Object.getOwnPropertyDescriptor(c,m):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(o,c,m,C);else for(var L=o.length-1;L>=0;L--)(y=o[L])&&(b=(E<3?y(b):E>3?y(c,m,b):y(c,m))||b);return E>3&&b&&Object.defineProperty(c,m,b),b},_=this&&this.__param||function(o,c){return function(m,C){c(m,C,o)}};Object.defineProperty(i,"__esModule",{value:!0}),i.RenderService=void 0;const h=n(6193),g=n(4725),v=n(8460),w=n(844),S=n(7226),u=n(2585);let l=i.RenderService=class extends w.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(o,c,m,C,y,E,b,L){super(),this._rowCount=o,this._charSizeService=C,this._renderer=this.register(new w.MutableDisposable),this._pausedResizeTask=new S.DebouncedIdleTask,this._observerDisposable=this.register(new w.MutableDisposable),this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new v.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new v.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new v.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new v.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new h.RenderDebouncer((T,M)=>this._renderRows(T,M),b),this.register(this._renderDebouncer),this.register(b.onDprChange(()=>this.handleDevicePixelRatioChange())),this.register(E.onResize(()=>this._fullRefresh())),this.register(E.buffers.onBufferActivate(()=>{var T;return(T=this._renderer.value)==null?void 0:T.clear()})),this.register(m.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(y.onDecorationRegistered(()=>this._fullRefresh())),this.register(y.onDecorationRemoved(()=>this._fullRefresh())),this.register(m.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio","rescaleOverlappingGlyphs"],()=>{this.clear(),this.handleResize(E.cols,E.rows),this._fullRefresh()})),this.register(m.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(E.buffer.y,E.buffer.y,!0))),this.register(L.onChangeColors(()=>this._fullRefresh())),this._registerIntersectionObserver(b.window,c),this.register(b.onWindowChange(T=>this._registerIntersectionObserver(T,c)))}_registerIntersectionObserver(o,c){if("IntersectionObserver"in o){const m=new o.IntersectionObserver(C=>this._handleIntersectionChange(C[C.length-1]),{threshold:0});m.observe(c),this._observerDisposable.value=(0,w.toDisposable)(()=>m.disconnect())}}_handleIntersectionChange(o){this._isPaused=o.isIntersecting===void 0?o.intersectionRatio===0:!o.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(o,c,m=!1){this._isPaused?this._needsFullRefresh=!0:(m||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(o,c,this._rowCount))}_renderRows(o,c){this._renderer.value&&(o=Math.min(o,this._rowCount-1),c=Math.min(c,this._rowCount-1),this._renderer.value.renderRows(o,c),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:o,end:c}),this._onRender.fire({start:o,end:c}),this._isNextRenderRedrawOnly=!0)}resize(o,c){this._rowCount=c,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(o){this._renderer.value=o,this._renderer.value&&(this._renderer.value.onRequestRedraw(c=>this.refreshRows(c.start,c.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh())}addRefreshCallback(o){return this._renderDebouncer.addRefreshCallback(o)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var o,c;this._renderer.value&&((c=(o=this._renderer.value).clearTextureAtlas)==null||c.call(o),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(o,c){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>{var m;return(m=this._renderer.value)==null?void 0:m.handleResize(o,c)}):this._renderer.value.handleResize(o,c),this._fullRefresh())}handleCharSizeChanged(){var o;(o=this._renderer.value)==null||o.handleCharSizeChanged()}handleBlur(){var o;(o=this._renderer.value)==null||o.handleBlur()}handleFocus(){var o;(o=this._renderer.value)==null||o.handleFocus()}handleSelectionChanged(o,c,m){var C;this._selectionState.start=o,this._selectionState.end=c,this._selectionState.columnSelectMode=m,(C=this._renderer.value)==null||C.handleSelectionChanged(o,c,m)}handleCursorMove(){var o;(o=this._renderer.value)==null||o.handleCursorMove()}clear(){var o;(o=this._renderer.value)==null||o.clear()}};i.RenderService=l=f([_(2,u.IOptionsService),_(3,g.ICharSizeService),_(4,u.IDecorationService),_(5,u.IBufferService),_(6,g.ICoreBrowserService),_(7,g.IThemeService)],l)},9312:function(p,i,n){var f=this&&this.__decorate||function(b,L,T,M){var O,D=arguments.length,K=D<3?L:M===null?M=Object.getOwnPropertyDescriptor(L,T):M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")K=Reflect.decorate(b,L,T,M);else for(var Y=b.length-1;Y>=0;Y--)(O=b[Y])&&(K=(D<3?O(K):D>3?O(L,T,K):O(L,T))||K);return D>3&&K&&Object.defineProperty(L,T,K),K},_=this&&this.__param||function(b,L){return function(T,M){L(T,M,b)}};Object.defineProperty(i,"__esModule",{value:!0}),i.SelectionService=void 0;const h=n(9806),g=n(9504),v=n(456),w=n(4725),S=n(8460),u=n(844),l=n(6114),o=n(4841),c=n(511),m=n(2585),C=" ",y=new RegExp(C,"g");let E=i.SelectionService=class extends u.Disposable{constructor(b,L,T,M,O,D,K,Y,te){super(),this._element=b,this._screenElement=L,this._linkifier=T,this._bufferService=M,this._coreService=O,this._mouseService=D,this._optionsService=K,this._renderService=Y,this._coreBrowserService=te,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new c.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new S.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new S.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new S.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new S.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=ee=>this._handleMouseMove(ee),this._mouseUpListener=ee=>this._handleMouseUp(ee),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(ee=>this._handleTrim(ee)),this.register(this._bufferService.buffers.onBufferActivate(ee=>this._handleBufferActivate(ee))),this.enable(),this._model=new v.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,u.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const b=this._model.finalSelectionStart,L=this._model.finalSelectionEnd;return!(!b||!L||b[0]===L[0]&&b[1]===L[1])}get selectionText(){const b=this._model.finalSelectionStart,L=this._model.finalSelectionEnd;if(!b||!L)return"";const T=this._bufferService.buffer,M=[];if(this._activeSelectionMode===3){if(b[0]===L[0])return"";const O=b[0]<L[0]?b[0]:L[0],D=b[0]<L[0]?L[0]:b[0];for(let K=b[1];K<=L[1];K++){const Y=T.translateBufferLineToString(K,!0,O,D);M.push(Y)}}else{const O=b[1]===L[1]?L[0]:void 0;M.push(T.translateBufferLineToString(b[1],!0,b[0],O));for(let D=b[1]+1;D<=L[1]-1;D++){const K=T.lines.get(D),Y=T.translateBufferLineToString(D,!0);K!=null&&K.isWrapped?M[M.length-1]+=Y:M.push(Y)}if(b[1]!==L[1]){const D=T.lines.get(L[1]),K=T.translateBufferLineToString(L[1],!0,0,L[0]);D&&D.isWrapped?M[M.length-1]+=K:M.push(K)}}return M.map(O=>O.replace(y," ")).join(l.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(b){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),l.isLinux&&b&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(b){const L=this._getMouseBufferCoords(b),T=this._model.finalSelectionStart,M=this._model.finalSelectionEnd;return!!(T&&M&&L)&&this._areCoordsInSelection(L,T,M)}isCellInSelection(b,L){const T=this._model.finalSelectionStart,M=this._model.finalSelectionEnd;return!(!T||!M)&&this._areCoordsInSelection([b,L],T,M)}_areCoordsInSelection(b,L,T){return b[1]>L[1]&&b[1]<T[1]||L[1]===T[1]&&b[1]===L[1]&&b[0]>=L[0]&&b[0]<T[0]||L[1]<T[1]&&b[1]===T[1]&&b[0]<T[0]||L[1]<T[1]&&b[1]===L[1]&&b[0]>=L[0]}_selectWordAtCursor(b,L){var O,D;const T=(D=(O=this._linkifier.currentLink)==null?void 0:O.link)==null?void 0:D.range;if(T)return this._model.selectionStart=[T.start.x-1,T.start.y-1],this._model.selectionStartLength=(0,o.getRangeLength)(T,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const M=this._getMouseBufferCoords(b);return!!M&&(this._selectWordAt(M,L),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(b,L){this._model.clearSelection(),b=Math.max(b,0),L=Math.min(L,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,b],this._model.selectionEnd=[this._bufferService.cols,L],this.refresh(),this._onSelectionChange.fire()}_handleTrim(b){this._model.handleTrim(b)&&this.refresh()}_getMouseBufferCoords(b){const L=this._mouseService.getCoords(b,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(L)return L[0]--,L[1]--,L[1]+=this._bufferService.buffer.ydisp,L}_getMouseEventScrollAmount(b){let L=(0,h.getCoordsRelativeToElement)(this._coreBrowserService.window,b,this._screenElement)[1];const T=this._renderService.dimensions.css.canvas.height;return L>=0&&L<=T?0:(L>T&&(L-=T),L=Math.min(Math.max(L,-50),50),L/=50,L/Math.abs(L)+Math.round(14*L))}shouldForceSelection(b){return l.isMac?b.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:b.shiftKey}handleMouseDown(b){if(this._mouseDownTimeStamp=b.timeStamp,(b.button!==2||!this.hasSelection)&&b.button===0){if(!this._enabled){if(!this.shouldForceSelection(b))return;b.stopPropagation()}b.preventDefault(),this._dragScrollAmount=0,this._enabled&&b.shiftKey?this._handleIncrementalClick(b):b.detail===1?this._handleSingleClick(b):b.detail===2?this._handleDoubleClick(b):b.detail===3&&this._handleTripleClick(b),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(b){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(b))}_handleSingleClick(b){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(b)?3:0,this._model.selectionStart=this._getMouseBufferCoords(b),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const L=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);L&&L.length!==this._model.selectionStart[0]&&L.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(b){this._selectWordAtCursor(b,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(b){const L=this._getMouseBufferCoords(b);L&&(this._activeSelectionMode=2,this._selectLineAt(L[1]))}shouldColumnSelect(b){return b.altKey&&!(l.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(b){if(b.stopImmediatePropagation(),!this._model.selectionStart)return;const L=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(b),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(b),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const T=this._bufferService.buffer;if(this._model.selectionEnd[1]<T.lines.length){const M=T.lines.get(this._model.selectionEnd[1]);M&&M.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]<this._bufferService.cols&&this._model.selectionEnd[0]++}L&&L[0]===this._model.selectionEnd[0]&&L[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const b=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(b.ydisp+this._bufferService.rows,b.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=b.ydisp),this.refresh()}}_handleMouseUp(b){const L=b.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&L<500&&b.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const T=this._mouseService.getCoords(b,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(T&&T[0]!==void 0&&T[1]!==void 0){const M=(0,g.moveToCellSequence)(T[0]-1,T[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(M,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const b=this._model.finalSelectionStart,L=this._model.finalSelectionEnd,T=!(!b||!L||b[0]===L[0]&&b[1]===L[1]);T?b&&L&&(this._oldSelectionStart&&this._oldSelectionEnd&&b[0]===this._oldSelectionStart[0]&&b[1]===this._oldSelectionStart[1]&&L[0]===this._oldSelectionEnd[0]&&L[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(b,L,T)):this._oldHasSelection&&this._fireOnSelectionChange(b,L,T)}_fireOnSelectionChange(b,L,T){this._oldSelectionStart=b,this._oldSelectionEnd=L,this._oldHasSelection=T,this._onSelectionChange.fire()}_handleBufferActivate(b){this.clearSelection(),this._trimListener.dispose(),this._trimListener=b.activeBuffer.lines.onTrim(L=>this._handleTrim(L))}_convertViewportColToCharacterIndex(b,L){let T=L;for(let M=0;L>=M;M++){const O=b.loadCell(M,this._workCell).getChars().length;this._workCell.getWidth()===0?T--:O>1&&L!==M&&(T+=O-1)}return T}setSelection(b,L,T){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[b,L],this._model.selectionStartLength=T,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(b){this._isClickInSelection(b)||(this._selectWordAtCursor(b,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(b,L,T=!0,M=!0){if(b[0]>=this._bufferService.cols)return;const O=this._bufferService.buffer,D=O.lines.get(b[1]);if(!D)return;const K=O.translateBufferLineToString(b[1],!1);let Y=this._convertViewportColToCharacterIndex(D,b[0]),te=Y;const ee=b[0]-Y;let Z=0,R=0,N=0,F=0;if(K.charAt(Y)===" "){for(;Y>0&&K.charAt(Y-1)===" ";)Y--;for(;te<K.length&&K.charAt(te+1)===" ";)te++}else{let ie=b[0],he=b[0];D.getWidth(ie)===0&&(Z++,ie--),D.getWidth(he)===2&&(R++,he++);const ce=D.getString(he).length;for(ce>1&&(F+=ce-1,te+=ce-1);ie>0&&Y>0&&!this._isCharWordSeparator(D.loadCell(ie-1,this._workCell));){D.loadCell(ie-1,this._workCell);const x=this._workCell.getChars().length;this._workCell.getWidth()===0?(Z++,ie--):x>1&&(N+=x-1,Y-=x-1),Y--,ie--}for(;he<D.length&&te+1<K.length&&!this._isCharWordSeparator(D.loadCell(he+1,this._workCell));){D.loadCell(he+1,this._workCell);const x=this._workCell.getChars().length;this._workCell.getWidth()===2?(R++,he++):x>1&&(F+=x-1,te+=x-1),te++,he++}}te++;let H=Y+ee-Z+N,se=Math.min(this._bufferService.cols,te-Y+Z+R-N-F);if(L||K.slice(Y,te).trim()!==""){if(T&&H===0&&D.getCodePoint(0)!==32){const ie=O.lines.get(b[1]-1);if(ie&&D.isWrapped&&ie.getCodePoint(this._bufferService.cols-1)!==32){const he=this._getWordAt([this._bufferService.cols-1,b[1]-1],!1,!0,!1);if(he){const ce=this._bufferService.cols-he.start;H-=ce,se+=ce}}}if(M&&H+se===this._bufferService.cols&&D.getCodePoint(this._bufferService.cols-1)!==32){const ie=O.lines.get(b[1]+1);if(ie!=null&&ie.isWrapped&&ie.getCodePoint(0)!==32){const he=this._getWordAt([0,b[1]+1],!1,!1,!0);he&&(se+=he.length)}}return{start:H,length:se}}}_selectWordAt(b,L){const T=this._getWordAt(b,L);if(T){for(;T.start<0;)T.start+=this._bufferService.cols,b[1]--;this._model.selectionStart=[T.start,b[1]],this._model.selectionStartLength=T.length}}_selectToWordAt(b){const L=this._getWordAt(b,!0);if(L){let T=b[1];for(;L.start<0;)L.start+=this._bufferService.cols,T--;if(!this._model.areSelectionValuesReversed())for(;L.start+L.length>this._bufferService.cols;)L.length-=this._bufferService.cols,T++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?L.start:L.start+L.length,T]}}_isCharWordSeparator(b){return b.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(b.getChars())>=0}_selectLineAt(b){const L=this._bufferService.buffer.getWrappedRangeForLine(b),T={start:{x:0,y:L.first},end:{x:this._bufferService.cols-1,y:L.last}};this._model.selectionStart=[0,L.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,o.getRangeLength)(T,this._bufferService.cols)}};i.SelectionService=E=f([_(3,m.IBufferService),_(4,m.ICoreService),_(5,w.IMouseService),_(6,m.IOptionsService),_(7,w.IRenderService),_(8,w.ICoreBrowserService)],E)},4725:(p,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ILinkProviderService=i.IThemeService=i.ICharacterJoinerService=i.ISelectionService=i.IRenderService=i.IMouseService=i.ICoreBrowserService=i.ICharSizeService=void 0;const f=n(8343);i.ICharSizeService=(0,f.createDecorator)("CharSizeService"),i.ICoreBrowserService=(0,f.createDecorator)("CoreBrowserService"),i.IMouseService=(0,f.createDecorator)("MouseService"),i.IRenderService=(0,f.createDecorator)("RenderService"),i.ISelectionService=(0,f.createDecorator)("SelectionService"),i.ICharacterJoinerService=(0,f.createDecorator)("CharacterJoinerService"),i.IThemeService=(0,f.createDecorator)("ThemeService"),i.ILinkProviderService=(0,f.createDecorator)("LinkProviderService")},6731:function(p,i,n){var f=this&&this.__decorate||function(E,b,L,T){var M,O=arguments.length,D=O<3?b:T===null?T=Object.getOwnPropertyDescriptor(b,L):T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(E,b,L,T);else for(var K=E.length-1;K>=0;K--)(M=E[K])&&(D=(O<3?M(D):O>3?M(b,L,D):M(b,L))||D);return O>3&&D&&Object.defineProperty(b,L,D),D},_=this&&this.__param||function(E,b){return function(L,T){b(L,T,E)}};Object.defineProperty(i,"__esModule",{value:!0}),i.ThemeService=i.DEFAULT_ANSI_COLORS=void 0;const h=n(7239),g=n(8055),v=n(8460),w=n(844),S=n(2585),u=g.css.toColor("#ffffff"),l=g.css.toColor("#000000"),o=g.css.toColor("#ffffff"),c=g.css.toColor("#000000"),m={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};i.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const E=[g.css.toColor("#2e3436"),g.css.toColor("#cc0000"),g.css.toColor("#4e9a06"),g.css.toColor("#c4a000"),g.css.toColor("#3465a4"),g.css.toColor("#75507b"),g.css.toColor("#06989a"),g.css.toColor("#d3d7cf"),g.css.toColor("#555753"),g.css.toColor("#ef2929"),g.css.toColor("#8ae234"),g.css.toColor("#fce94f"),g.css.toColor("#729fcf"),g.css.toColor("#ad7fa8"),g.css.toColor("#34e2e2"),g.css.toColor("#eeeeec")],b=[0,95,135,175,215,255];for(let L=0;L<216;L++){const T=b[L/36%6|0],M=b[L/6%6|0],O=b[L%6];E.push({css:g.channels.toCss(T,M,O),rgba:g.channels.toRgba(T,M,O)})}for(let L=0;L<24;L++){const T=8+10*L;E.push({css:g.channels.toCss(T,T,T),rgba:g.channels.toRgba(T,T,T)})}return E})());let C=i.ThemeService=class extends w.Disposable{get colors(){return this._colors}constructor(E){super(),this._optionsService=E,this._contrastCache=new h.ColorContrastCache,this._halfContrastCache=new h.ColorContrastCache,this._onChangeColors=this.register(new v.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:u,background:l,cursor:o,cursorAccent:c,selectionForeground:void 0,selectionBackgroundTransparent:m,selectionBackgroundOpaque:g.color.blend(l,m),selectionInactiveBackgroundTransparent:m,selectionInactiveBackgroundOpaque:g.color.blend(l,m),ansi:i.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(E={}){const b=this._colors;if(b.foreground=y(E.foreground,u),b.background=y(E.background,l),b.cursor=y(E.cursor,o),b.cursorAccent=y(E.cursorAccent,c),b.selectionBackgroundTransparent=y(E.selectionBackground,m),b.selectionBackgroundOpaque=g.color.blend(b.background,b.selectionBackgroundTransparent),b.selectionInactiveBackgroundTransparent=y(E.selectionInactiveBackground,b.selectionBackgroundTransparent),b.selectionInactiveBackgroundOpaque=g.color.blend(b.background,b.selectionInactiveBackgroundTransparent),b.selectionForeground=E.selectionForeground?y(E.selectionForeground,g.NULL_COLOR):void 0,b.selectionForeground===g.NULL_COLOR&&(b.selectionForeground=void 0),g.color.isOpaque(b.selectionBackgroundTransparent)&&(b.selectionBackgroundTransparent=g.color.opacity(b.selectionBackgroundTransparent,.3)),g.color.isOpaque(b.selectionInactiveBackgroundTransparent)&&(b.selectionInactiveBackgroundTransparent=g.color.opacity(b.selectionInactiveBackgroundTransparent,.3)),b.ansi=i.DEFAULT_ANSI_COLORS.slice(),b.ansi[0]=y(E.black,i.DEFAULT_ANSI_COLORS[0]),b.ansi[1]=y(E.red,i.DEFAULT_ANSI_COLORS[1]),b.ansi[2]=y(E.green,i.DEFAULT_ANSI_COLORS[2]),b.ansi[3]=y(E.yellow,i.DEFAULT_ANSI_COLORS[3]),b.ansi[4]=y(E.blue,i.DEFAULT_ANSI_COLORS[4]),b.ansi[5]=y(E.magenta,i.DEFAULT_ANSI_COLORS[5]),b.ansi[6]=y(E.cyan,i.DEFAULT_ANSI_COLORS[6]),b.ansi[7]=y(E.white,i.DEFAULT_ANSI_COLORS[7]),b.ansi[8]=y(E.brightBlack,i.DEFAULT_ANSI_COLORS[8]),b.ansi[9]=y(E.brightRed,i.DEFAULT_ANSI_COLORS[9]),b.ansi[10]=y(E.brightGreen,i.DEFAULT_ANSI_COLORS[10]),b.ansi[11]=y(E.brightYellow,i.DEFAULT_ANSI_COLORS[11]),b.ansi[12]=y(E.brightBlue,i.DEFAULT_ANSI_COLORS[12]),b.ansi[13]=y(E.brightMagenta,i.DEFAULT_ANSI_COLORS[13]),b.ansi[14]=y(E.brightCyan,i.DEFAULT_ANSI_COLORS[14]),b.ansi[15]=y(E.brightWhite,i.DEFAULT_ANSI_COLORS[15]),E.extendedAnsi){const L=Math.min(b.ansi.length-16,E.extendedAnsi.length);for(let T=0;T<L;T++)b.ansi[T+16]=y(E.extendedAnsi[T],i.DEFAULT_ANSI_COLORS[T+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(E){this._restoreColor(E),this._onChangeColors.fire(this.colors)}_restoreColor(E){if(E!==void 0)switch(E){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[E]=this._restoreColors.ansi[E]}else for(let b=0;b<this._restoreColors.ansi.length;++b)this._colors.ansi[b]=this._restoreColors.ansi[b]}modifyColors(E){E(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function y(E,b){if(E!==void 0)try{return g.css.toColor(E)}catch{}return b}i.ThemeService=C=f([_(0,S.IOptionsService)],C)},6349:(p,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CircularList=void 0;const f=n(8460),_=n(844);class h extends _.Disposable{constructor(v){super(),this._maxLength=v,this.onDeleteEmitter=this.register(new f.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new f.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new f.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(v){if(this._maxLength===v)return;const w=new Array(v);for(let S=0;S<Math.min(v,this.length);S++)w[S]=this._array[this._getCyclicIndex(S)];this._array=w,this._maxLength=v,this._startIndex=0}get length(){return this._length}set length(v){if(v>this._length)for(let w=this._length;w<v;w++)this._array[w]=void 0;this._length=v}get(v){return this._array[this._getCyclicIndex(v)]}set(v,w){this._array[this._getCyclicIndex(v)]=w}push(v){this._array[this._getCyclicIndex(this._length)]=v,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(v,w,...S){if(w){for(let u=v;u<this._length-w;u++)this._array[this._getCyclicIndex(u)]=this._array[this._getCyclicIndex(u+w)];this._length-=w,this.onDeleteEmitter.fire({index:v,amount:w})}for(let u=this._length-1;u>=v;u--)this._array[this._getCyclicIndex(u+S.length)]=this._array[this._getCyclicIndex(u)];for(let u=0;u<S.length;u++)this._array[this._getCyclicIndex(v+u)]=S[u];if(S.length&&this.onInsertEmitter.fire({index:v,amount:S.length}),this._length+S.length>this._maxLength){const u=this._length+S.length-this._maxLength;this._startIndex+=u,this._length=this._maxLength,this.onTrimEmitter.fire(u)}else this._length+=S.length}trimStart(v){v>this._length&&(v=this._length),this._startIndex+=v,this._length-=v,this.onTrimEmitter.fire(v)}shiftElements(v,w,S){if(!(w<=0)){if(v<0||v>=this._length)throw new Error("start argument out of range");if(v+S<0)throw new Error("Cannot shift elements in list beyond index 0");if(S>0){for(let l=w-1;l>=0;l--)this.set(v+l+S,this.get(v+l));const u=v+w+S-this._length;if(u>0)for(this._length+=u;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let u=0;u<w;u++)this.set(v+u+S,this.get(v+u))}}_getCyclicIndex(v){return(this._startIndex+v)%this._maxLength}}i.CircularList=h},1439:(p,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.clone=void 0,i.clone=function n(f,_=5){if(typeof f!="object")return f;const h=Array.isArray(f)?[]:{};for(const g in f)h[g]=_<=1?f[g]:f[g]&&n(f[g],_-1);return h}},8055:(p,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.contrastRatio=i.toPaddedHex=i.rgba=i.rgb=i.css=i.color=i.channels=i.NULL_COLOR=void 0;let n=0,f=0,_=0,h=0;var g,v,w,S,u;function l(c){const m=c.toString(16);return m.length<2?"0"+m:m}function o(c,m){return c<m?(m+.05)/(c+.05):(c+.05)/(m+.05)}i.NULL_COLOR={css:"#00000000",rgba:0},function(c){c.toCss=function(m,C,y,E){return E!==void 0?`#${l(m)}${l(C)}${l(y)}${l(E)}`:`#${l(m)}${l(C)}${l(y)}`},c.toRgba=function(m,C,y,E=255){return(m<<24|C<<16|y<<8|E)>>>0},c.toColor=function(m,C,y,E){return{css:c.toCss(m,C,y,E),rgba:c.toRgba(m,C,y,E)}}}(g||(i.channels=g={})),function(c){function m(C,y){return h=Math.round(255*y),[n,f,_]=u.toChannels(C.rgba),{css:g.toCss(n,f,_,h),rgba:g.toRgba(n,f,_,h)}}c.blend=function(C,y){if(h=(255&y.rgba)/255,h===1)return{css:y.css,rgba:y.rgba};const E=y.rgba>>24&255,b=y.rgba>>16&255,L=y.rgba>>8&255,T=C.rgba>>24&255,M=C.rgba>>16&255,O=C.rgba>>8&255;return n=T+Math.round((E-T)*h),f=M+Math.round((b-M)*h),_=O+Math.round((L-O)*h),{css:g.toCss(n,f,_),rgba:g.toRgba(n,f,_)}},c.isOpaque=function(C){return(255&C.rgba)==255},c.ensureContrastRatio=function(C,y,E){const b=u.ensureContrastRatio(C.rgba,y.rgba,E);if(b)return g.toColor(b>>24&255,b>>16&255,b>>8&255)},c.opaque=function(C){const y=(255|C.rgba)>>>0;return[n,f,_]=u.toChannels(y),{css:g.toCss(n,f,_),rgba:y}},c.opacity=m,c.multiplyOpacity=function(C,y){return h=255&C.rgba,m(C,h*y/255)},c.toColorRGB=function(C){return[C.rgba>>24&255,C.rgba>>16&255,C.rgba>>8&255]}}(v||(i.color=v={})),function(c){let m,C;try{const y=document.createElement("canvas");y.width=1,y.height=1;const E=y.getContext("2d",{willReadFrequently:!0});E&&(m=E,m.globalCompositeOperation="copy",C=m.createLinearGradient(0,0,1,1))}catch{}c.toColor=function(y){if(y.match(/#[\da-f]{3,8}/i))switch(y.length){case 4:return n=parseInt(y.slice(1,2).repeat(2),16),f=parseInt(y.slice(2,3).repeat(2),16),_=parseInt(y.slice(3,4).repeat(2),16),g.toColor(n,f,_);case 5:return n=parseInt(y.slice(1,2).repeat(2),16),f=parseInt(y.slice(2,3).repeat(2),16),_=parseInt(y.slice(3,4).repeat(2),16),h=parseInt(y.slice(4,5).repeat(2),16),g.toColor(n,f,_,h);case 7:return{css:y,rgba:(parseInt(y.slice(1),16)<<8|255)>>>0};case 9:return{css:y,rgba:parseInt(y.slice(1),16)>>>0}}const E=y.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(E)return n=parseInt(E[1]),f=parseInt(E[2]),_=parseInt(E[3]),h=Math.round(255*(E[5]===void 0?1:parseFloat(E[5]))),g.toColor(n,f,_,h);if(!m||!C)throw new Error("css.toColor: Unsupported css format");if(m.fillStyle=C,m.fillStyle=y,typeof m.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(m.fillRect(0,0,1,1),[n,f,_,h]=m.getImageData(0,0,1,1).data,h!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:g.toRgba(n,f,_,h),css:y}}}(w||(i.css=w={})),function(c){function m(C,y,E){const b=C/255,L=y/255,T=E/255;return .2126*(b<=.03928?b/12.92:Math.pow((b+.055)/1.055,2.4))+.7152*(L<=.03928?L/12.92:Math.pow((L+.055)/1.055,2.4))+.0722*(T<=.03928?T/12.92:Math.pow((T+.055)/1.055,2.4))}c.relativeLuminance=function(C){return m(C>>16&255,C>>8&255,255&C)},c.relativeLuminance2=m}(S||(i.rgb=S={})),function(c){function m(y,E,b){const L=y>>24&255,T=y>>16&255,M=y>>8&255;let O=E>>24&255,D=E>>16&255,K=E>>8&255,Y=o(S.relativeLuminance2(O,D,K),S.relativeLuminance2(L,T,M));for(;Y<b&&(O>0||D>0||K>0);)O-=Math.max(0,Math.ceil(.1*O)),D-=Math.max(0,Math.ceil(.1*D)),K-=Math.max(0,Math.ceil(.1*K)),Y=o(S.relativeLuminance2(O,D,K),S.relativeLuminance2(L,T,M));return(O<<24|D<<16|K<<8|255)>>>0}function C(y,E,b){const L=y>>24&255,T=y>>16&255,M=y>>8&255;let O=E>>24&255,D=E>>16&255,K=E>>8&255,Y=o(S.relativeLuminance2(O,D,K),S.relativeLuminance2(L,T,M));for(;Y<b&&(O<255||D<255||K<255);)O=Math.min(255,O+Math.ceil(.1*(255-O))),D=Math.min(255,D+Math.ceil(.1*(255-D))),K=Math.min(255,K+Math.ceil(.1*(255-K))),Y=o(S.relativeLuminance2(O,D,K),S.relativeLuminance2(L,T,M));return(O<<24|D<<16|K<<8|255)>>>0}c.blend=function(y,E){if(h=(255&E)/255,h===1)return E;const b=E>>24&255,L=E>>16&255,T=E>>8&255,M=y>>24&255,O=y>>16&255,D=y>>8&255;return n=M+Math.round((b-M)*h),f=O+Math.round((L-O)*h),_=D+Math.round((T-D)*h),g.toRgba(n,f,_)},c.ensureContrastRatio=function(y,E,b){const L=S.relativeLuminance(y>>8),T=S.relativeLuminance(E>>8);if(o(L,T)<b){if(T<L){const D=m(y,E,b),K=o(L,S.relativeLuminance(D>>8));if(K<b){const Y=C(y,E,b);return K>o(L,S.relativeLuminance(Y>>8))?D:Y}return D}const M=C(y,E,b),O=o(L,S.relativeLuminance(M>>8));if(O<b){const D=m(y,E,b);return O>o(L,S.relativeLuminance(D>>8))?M:D}return M}},c.reduceLuminance=m,c.increaseLuminance=C,c.toChannels=function(y){return[y>>24&255,y>>16&255,y>>8&255,255&y]}}(u||(i.rgba=u={})),i.toPaddedHex=l,i.contrastRatio=o},8969:(p,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CoreTerminal=void 0;const f=n(844),_=n(2585),h=n(4348),g=n(7866),v=n(744),w=n(7302),S=n(6975),u=n(8460),l=n(1753),o=n(1480),c=n(7994),m=n(9282),C=n(5435),y=n(5981),E=n(2660);let b=!1;class L extends f.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new u.EventEmitter),this._onScroll.event(M=>{var O;(O=this._onScrollApi)==null||O.fire(M.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(M){for(const O in M)this.optionsService.options[O]=M[O]}constructor(M){super(),this._windowsWrappingHeuristics=this.register(new f.MutableDisposable),this._onBinary=this.register(new u.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new u.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new u.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new u.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new u.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new u.EventEmitter),this._instantiationService=new h.InstantiationService,this.optionsService=this.register(new w.OptionsService(M)),this._instantiationService.setService(_.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(v.BufferService)),this._instantiationService.setService(_.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(g.LogService)),this._instantiationService.setService(_.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(S.CoreService)),this._instantiationService.setService(_.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(l.CoreMouseService)),this._instantiationService.setService(_.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(o.UnicodeService)),this._instantiationService.setService(_.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(c.CharsetService),this._instantiationService.setService(_.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(E.OscLinkService),this._instantiationService.setService(_.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new C.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,u.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,u.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,u.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,u.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(O=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(O=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new y.WriteBuffer((O,D)=>this._inputHandler.parse(O,D))),this.register((0,u.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(M,O){this._writeBuffer.write(M,O)}writeSync(M,O){this._logService.logLevel<=_.LogLevelEnum.WARN&&!b&&(this._logService.warn("writeSync is unreliable and will be removed soon."),b=!0),this._writeBuffer.writeSync(M,O)}input(M,O=!0){this.coreService.triggerDataEvent(M,O)}resize(M,O){isNaN(M)||isNaN(O)||(M=Math.max(M,v.MINIMUM_COLS),O=Math.max(O,v.MINIMUM_ROWS),this._bufferService.resize(M,O))}scroll(M,O=!1){this._bufferService.scroll(M,O)}scrollLines(M,O,D){this._bufferService.scrollLines(M,O,D)}scrollPages(M){this.scrollLines(M*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(M){const O=M-this._bufferService.buffer.ydisp;O!==0&&this.scrollLines(O)}registerEscHandler(M,O){return this._inputHandler.registerEscHandler(M,O)}registerDcsHandler(M,O){return this._inputHandler.registerDcsHandler(M,O)}registerCsiHandler(M,O){return this._inputHandler.registerCsiHandler(M,O)}registerOscHandler(M,O){return this._inputHandler.registerOscHandler(M,O)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let M=!1;const O=this.optionsService.rawOptions.windowsPty;O&&O.buildNumber!==void 0&&O.buildNumber!==void 0?M=O.backend==="conpty"&&O.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(M=!0),M?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const M=[];M.push(this.onLineFeed(m.updateWindowsModeWrappedState.bind(null,this._bufferService))),M.push(this.registerCsiHandler({final:"H"},()=>((0,m.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,f.toDisposable)(()=>{for(const O of M)O.dispose()})}}}i.CoreTerminal=L},8460:(p,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.runAndSubscribe=i.forwardEvent=i.EventEmitter=void 0,i.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=n=>(this._listeners.push(n),{dispose:()=>{if(!this._disposed){for(let f=0;f<this._listeners.length;f++)if(this._listeners[f]===n)return void this._listeners.splice(f,1)}}})),this._event}fire(n,f){const _=[];for(let h=0;h<this._listeners.length;h++)_.push(this._listeners[h]);for(let h=0;h<_.length;h++)_[h].call(void 0,n,f)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},i.forwardEvent=function(n,f){return n(_=>f.fire(_))},i.runAndSubscribe=function(n,f){return f(void 0),n(_=>f(_))}},5435:function(p,i,n){var f=this&&this.__decorate||function(Z,R,N,F){var H,se=arguments.length,ie=se<3?R:F===null?F=Object.getOwnPropertyDescriptor(R,N):F;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ie=Reflect.decorate(Z,R,N,F);else for(var he=Z.length-1;he>=0;he--)(H=Z[he])&&(ie=(se<3?H(ie):se>3?H(R,N,ie):H(R,N))||ie);return se>3&&ie&&Object.defineProperty(R,N,ie),ie},_=this&&this.__param||function(Z,R){return function(N,F){R(N,F,Z)}};Object.defineProperty(i,"__esModule",{value:!0}),i.InputHandler=i.WindowsOptionsReportType=void 0;const h=n(2584),g=n(7116),v=n(2015),w=n(844),S=n(482),u=n(8437),l=n(8460),o=n(643),c=n(511),m=n(3734),C=n(2585),y=n(1480),E=n(6242),b=n(6351),L=n(5941),T={"(":0,")":1,"*":2,"+":3,"-":1,".":2},M=131072;function O(Z,R){if(Z>24)return R.setWinLines||!1;switch(Z){case 1:return!!R.restoreWin;case 2:return!!R.minimizeWin;case 3:return!!R.setWinPosition;case 4:return!!R.setWinSizePixels;case 5:return!!R.raiseWin;case 6:return!!R.lowerWin;case 7:return!!R.refreshWin;case 8:return!!R.setWinSizeChars;case 9:return!!R.maximizeWin;case 10:return!!R.fullscreenWin;case 11:return!!R.getWinState;case 13:return!!R.getWinPosition;case 14:return!!R.getWinSizePixels;case 15:return!!R.getScreenSizePixels;case 16:return!!R.getCellSizePixels;case 18:return!!R.getWinSizeChars;case 19:return!!R.getScreenSizeChars;case 20:return!!R.getIconTitle;case 21:return!!R.getWinTitle;case 22:return!!R.pushTitle;case 23:return!!R.popTitle;case 24:return!!R.setWinLines}return!1}var D;(function(Z){Z[Z.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",Z[Z.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(D||(i.WindowsOptionsReportType=D={}));let K=0;class Y extends w.Disposable{getAttrData(){return this._curAttrData}constructor(R,N,F,H,se,ie,he,ce,x=new v.EscapeSequenceParser){super(),this._bufferService=R,this._charsetService=N,this._coreService=F,this._logService=H,this._optionsService=se,this._oscLinkService=ie,this._coreMouseService=he,this._unicodeService=ce,this._parser=x,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new S.StringToUtf32,this._utf8Decoder=new S.Utf8ToUtf32,this._workCell=new c.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=u.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=u.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new l.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new l.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new l.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new l.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new l.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new l.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new l.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new l.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new l.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new l.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new l.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new l.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new l.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new te(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(k=>this._activeBuffer=k.activeBuffer)),this._parser.setCsiHandlerFallback((k,V)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(k),params:V.toArray()})}),this._parser.setEscHandlerFallback(k=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(k)})}),this._parser.setExecuteHandlerFallback(k=>{this._logService.debug("Unknown EXECUTE code: ",{code:k})}),this._parser.setOscHandlerFallback((k,V,W)=>{this._logService.debug("Unknown OSC code: ",{identifier:k,action:V,data:W})}),this._parser.setDcsHandlerFallback((k,V,W)=>{V==="HOOK"&&(W=W.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(k),action:V,payload:W})}),this._parser.setPrintHandler((k,V,W)=>this.print(k,V,W)),this._parser.registerCsiHandler({final:"@"},k=>this.insertChars(k)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},k=>this.scrollLeft(k)),this._parser.registerCsiHandler({final:"A"},k=>this.cursorUp(k)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},k=>this.scrollRight(k)),this._parser.registerCsiHandler({final:"B"},k=>this.cursorDown(k)),this._parser.registerCsiHandler({final:"C"},k=>this.cursorForward(k)),this._parser.registerCsiHandler({final:"D"},k=>this.cursorBackward(k)),this._parser.registerCsiHandler({final:"E"},k=>this.cursorNextLine(k)),this._parser.registerCsiHandler({final:"F"},k=>this.cursorPrecedingLine(k)),this._parser.registerCsiHandler({final:"G"},k=>this.cursorCharAbsolute(k)),this._parser.registerCsiHandler({final:"H"},k=>this.cursorPosition(k)),this._parser.registerCsiHandler({final:"I"},k=>this.cursorForwardTab(k)),this._parser.registerCsiHandler({final:"J"},k=>this.eraseInDisplay(k,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},k=>this.eraseInDisplay(k,!0)),this._parser.registerCsiHandler({final:"K"},k=>this.eraseInLine(k,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},k=>this.eraseInLine(k,!0)),this._parser.registerCsiHandler({final:"L"},k=>this.insertLines(k)),this._parser.registerCsiHandler({final:"M"},k=>this.deleteLines(k)),this._parser.registerCsiHandler({final:"P"},k=>this.deleteChars(k)),this._parser.registerCsiHandler({final:"S"},k=>this.scrollUp(k)),this._parser.registerCsiHandler({final:"T"},k=>this.scrollDown(k)),this._parser.registerCsiHandler({final:"X"},k=>this.eraseChars(k)),this._parser.registerCsiHandler({final:"Z"},k=>this.cursorBackwardTab(k)),this._parser.registerCsiHandler({final:"`"},k=>this.charPosAbsolute(k)),this._parser.registerCsiHandler({final:"a"},k=>this.hPositionRelative(k)),this._parser.registerCsiHandler({final:"b"},k=>this.repeatPrecedingCharacter(k)),this._parser.registerCsiHandler({final:"c"},k=>this.sendDeviceAttributesPrimary(k)),this._parser.registerCsiHandler({prefix:">",final:"c"},k=>this.sendDeviceAttributesSecondary(k)),this._parser.registerCsiHandler({final:"d"},k=>this.linePosAbsolute(k)),this._parser.registerCsiHandler({final:"e"},k=>this.vPositionRelative(k)),this._parser.registerCsiHandler({final:"f"},k=>this.hVPosition(k)),this._parser.registerCsiHandler({final:"g"},k=>this.tabClear(k)),this._parser.registerCsiHandler({final:"h"},k=>this.setMode(k)),this._parser.registerCsiHandler({prefix:"?",final:"h"},k=>this.setModePrivate(k)),this._parser.registerCsiHandler({final:"l"},k=>this.resetMode(k)),this._parser.registerCsiHandler({prefix:"?",final:"l"},k=>this.resetModePrivate(k)),this._parser.registerCsiHandler({final:"m"},k=>this.charAttributes(k)),this._parser.registerCsiHandler({final:"n"},k=>this.deviceStatus(k)),this._parser.registerCsiHandler({prefix:"?",final:"n"},k=>this.deviceStatusPrivate(k)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},k=>this.softReset(k)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},k=>this.setCursorStyle(k)),this._parser.registerCsiHandler({final:"r"},k=>this.setScrollRegion(k)),this._parser.registerCsiHandler({final:"s"},k=>this.saveCursor(k)),this._parser.registerCsiHandler({final:"t"},k=>this.windowOptions(k)),this._parser.registerCsiHandler({final:"u"},k=>this.restoreCursor(k)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},k=>this.insertColumns(k)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},k=>this.deleteColumns(k)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},k=>this.selectProtected(k)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},k=>this.requestMode(k,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},k=>this.requestMode(k,!1)),this._parser.setExecuteHandler(h.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(h.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(h.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(h.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(h.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(h.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(h.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(h.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(h.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(h.C1.IND,()=>this.index()),this._parser.setExecuteHandler(h.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(h.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new E.OscHandler(k=>(this.setTitle(k),this.setIconName(k),!0))),this._parser.registerOscHandler(1,new E.OscHandler(k=>this.setIconName(k))),this._parser.registerOscHandler(2,new E.OscHandler(k=>this.setTitle(k))),this._parser.registerOscHandler(4,new E.OscHandler(k=>this.setOrReportIndexedColor(k))),this._parser.registerOscHandler(8,new E.OscHandler(k=>this.setHyperlink(k))),this._parser.registerOscHandler(10,new E.OscHandler(k=>this.setOrReportFgColor(k))),this._parser.registerOscHandler(11,new E.OscHandler(k=>this.setOrReportBgColor(k))),this._parser.registerOscHandler(12,new E.OscHandler(k=>this.setOrReportCursorColor(k))),this._parser.registerOscHandler(104,new E.OscHandler(k=>this.restoreIndexedColor(k))),this._parser.registerOscHandler(110,new E.OscHandler(k=>this.restoreFgColor(k))),this._parser.registerOscHandler(111,new E.OscHandler(k=>this.restoreBgColor(k))),this._parser.registerOscHandler(112,new E.OscHandler(k=>this.restoreCursorColor(k))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const k in g.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:k},()=>this.selectCharset("("+k)),this._parser.registerEscHandler({intermediates:")",final:k},()=>this.selectCharset(")"+k)),this._parser.registerEscHandler({intermediates:"*",final:k},()=>this.selectCharset("*"+k)),this._parser.registerEscHandler({intermediates:"+",final:k},()=>this.selectCharset("+"+k)),this._parser.registerEscHandler({intermediates:"-",final:k},()=>this.selectCharset("-"+k)),this._parser.registerEscHandler({intermediates:".",final:k},()=>this.selectCharset("."+k)),this._parser.registerEscHandler({intermediates:"/",final:k},()=>this.selectCharset("/"+k));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(k=>(this._logService.error("Parsing error: ",k),k)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new b.DcsHandler((k,V)=>this.requestStatusString(k,V)))}_preserveStack(R,N,F,H){this._parseStack.paused=!0,this._parseStack.cursorStartX=R,this._parseStack.cursorStartY=N,this._parseStack.decodedLength=F,this._parseStack.position=H}_logSlowResolvingAsync(R){this._logService.logLevel<=C.LogLevelEnum.WARN&&Promise.race([R,new Promise((N,F)=>setTimeout(()=>F("#SLOW_TIMEOUT"),5e3))]).catch(N=>{if(N!=="#SLOW_TIMEOUT")throw N;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(R,N){let F,H=this._activeBuffer.x,se=this._activeBuffer.y,ie=0;const he=this._parseStack.paused;if(he){if(F=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,N))return this._logSlowResolvingAsync(F),F;H=this._parseStack.cursorStartX,se=this._parseStack.cursorStartY,this._parseStack.paused=!1,R.length>M&&(ie=this._parseStack.position+M)}if(this._logService.logLevel<=C.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof R=="string"?` "${R}"`:` "${Array.prototype.map.call(R,k=>String.fromCharCode(k)).join("")}"`),typeof R=="string"?R.split("").map(k=>k.charCodeAt(0)):R),this._parseBuffer.length<R.length&&this._parseBuffer.length<M&&(this._parseBuffer=new Uint32Array(Math.min(R.length,M))),he||this._dirtyRowTracker.clearRange(),R.length>M)for(let k=ie;k<R.length;k+=M){const V=k+M<R.length?k+M:R.length,W=typeof R=="string"?this._stringDecoder.decode(R.substring(k,V),this._parseBuffer):this._utf8Decoder.decode(R.subarray(k,V),this._parseBuffer);if(F=this._parser.parse(this._parseBuffer,W))return this._preserveStack(H,se,W,k),this._logSlowResolvingAsync(F),F}else if(!he){const k=typeof R=="string"?this._stringDecoder.decode(R,this._parseBuffer):this._utf8Decoder.decode(R,this._parseBuffer);if(F=this._parser.parse(this._parseBuffer,k))return this._preserveStack(H,se,k,0),this._logSlowResolvingAsync(F),F}this._activeBuffer.x===H&&this._activeBuffer.y===se||this._onCursorMove.fire();const ce=this._dirtyRowTracker.end+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp),x=this._dirtyRowTracker.start+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp);x<this._bufferService.rows&&this._onRequestRefreshRows.fire(Math.min(x,this._bufferService.rows-1),Math.min(ce,this._bufferService.rows-1))}print(R,N,F){let H,se;const ie=this._charsetService.charset,he=this._optionsService.rawOptions.screenReaderMode,ce=this._bufferService.cols,x=this._coreService.decPrivateModes.wraparound,k=this._coreService.modes.insertMode,V=this._curAttrData;let W=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&F-N>0&&W.getWidth(this._activeBuffer.x-1)===2&&W.setCellFromCodepoint(this._activeBuffer.x-1,0,1,V);let re=this._parser.precedingJoinState;for(let A=N;A<F;++A){if(H=R[A],H<127&&ie){const J=ie[String.fromCharCode(H)];J&&(H=J.charCodeAt(0))}const B=this._unicodeService.charProperties(H,re);se=y.UnicodeService.extractWidth(B);const $=y.UnicodeService.extractShouldJoin(B),X=$?y.UnicodeService.extractWidth(re):0;if(re=B,he&&this._onA11yChar.fire((0,S.stringFromCodePoint)(H)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),this._activeBuffer.x+se-X>ce){if(x){const J=W;let z=this._activeBuffer.x-X;for(this._activeBuffer.x=X,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),W=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y),X>0&&W instanceof u.BufferLine&&W.copyCellsFrom(J,z,0,X,!1);z<ce;)J.setCellFromCodepoint(z++,0,1,V)}else if(this._activeBuffer.x=ce-1,se===2)continue}if($&&this._activeBuffer.x){const J=W.getWidth(this._activeBuffer.x-1)?1:2;W.addCodepointToCell(this._activeBuffer.x-J,H,se);for(let z=se-X;--z>=0;)W.setCellFromCodepoint(this._activeBuffer.x++,0,0,V)}else if(k&&(W.insertCells(this._activeBuffer.x,se-X,this._activeBuffer.getNullCell(V)),W.getWidth(ce-1)===2&&W.setCellFromCodepoint(ce-1,o.NULL_CELL_CODE,o.NULL_CELL_WIDTH,V)),W.setCellFromCodepoint(this._activeBuffer.x++,H,se,V),se>0)for(;--se;)W.setCellFromCodepoint(this._activeBuffer.x++,0,0,V)}this._parser.precedingJoinState=re,this._activeBuffer.x<ce&&F-N>0&&W.getWidth(this._activeBuffer.x)===0&&!W.hasContent(this._activeBuffer.x)&&W.setCellFromCodepoint(this._activeBuffer.x,0,1,V),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(R,N){return R.final!=="t"||R.prefix||R.intermediates?this._parser.registerCsiHandler(R,N):this._parser.registerCsiHandler(R,F=>!O(F.params[0],this._optionsService.rawOptions.windowOptions)||N(F))}registerDcsHandler(R,N){return this._parser.registerDcsHandler(R,new b.DcsHandler(N))}registerEscHandler(R,N){return this._parser.registerEscHandler(R,N)}registerOscHandler(R,N){return this._parser.registerOscHandler(R,new E.OscHandler(N))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var R;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&((R=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))!=null&&R.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const N=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);N.hasWidth(this._activeBuffer.x)&&!N.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const R=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-R),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(R=this._bufferService.cols-1){this._activeBuffer.x=Math.min(R,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(R,N){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=R,this._activeBuffer.y=this._activeBuffer.scrollTop+N):(this._activeBuffer.x=R,this._activeBuffer.y=N),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(R,N){this._restrictCursor(),this._setCursor(this._activeBuffer.x+R,this._activeBuffer.y+N)}cursorUp(R){const N=this._activeBuffer.y-this._activeBuffer.scrollTop;return N>=0?this._moveCursor(0,-Math.min(N,R.params[0]||1)):this._moveCursor(0,-(R.params[0]||1)),!0}cursorDown(R){const N=this._activeBuffer.scrollBottom-this._activeBuffer.y;return N>=0?this._moveCursor(0,Math.min(N,R.params[0]||1)):this._moveCursor(0,R.params[0]||1),!0}cursorForward(R){return this._moveCursor(R.params[0]||1,0),!0}cursorBackward(R){return this._moveCursor(-(R.params[0]||1),0),!0}cursorNextLine(R){return this.cursorDown(R),this._activeBuffer.x=0,!0}cursorPrecedingLine(R){return this.cursorUp(R),this._activeBuffer.x=0,!0}cursorCharAbsolute(R){return this._setCursor((R.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(R){return this._setCursor(R.length>=2?(R.params[1]||1)-1:0,(R.params[0]||1)-1),!0}charPosAbsolute(R){return this._setCursor((R.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(R){return this._moveCursor(R.params[0]||1,0),!0}linePosAbsolute(R){return this._setCursor(this._activeBuffer.x,(R.params[0]||1)-1),!0}vPositionRelative(R){return this._moveCursor(0,R.params[0]||1),!0}hVPosition(R){return this.cursorPosition(R),!0}tabClear(R){const N=R.params[0];return N===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:N===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(R){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let N=R.params[0]||1;for(;N--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(R){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let N=R.params[0]||1;for(;N--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(R){const N=R.params[0];return N===1&&(this._curAttrData.bg|=536870912),N!==2&&N!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(R,N,F,H=!1,se=!1){const ie=this._activeBuffer.lines.get(this._activeBuffer.ybase+R);ie.replaceCells(N,F,this._activeBuffer.getNullCell(this._eraseAttrData()),se),H&&(ie.isWrapped=!1)}_resetBufferLine(R,N=!1){const F=this._activeBuffer.lines.get(this._activeBuffer.ybase+R);F&&(F.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),N),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+R),F.isWrapped=!1)}eraseInDisplay(R,N=!1){let F;switch(this._restrictCursor(this._bufferService.cols),R.params[0]){case 0:for(F=this._activeBuffer.y,this._dirtyRowTracker.markDirty(F),this._eraseInBufferLine(F++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,N);F<this._bufferService.rows;F++)this._resetBufferLine(F,N);this._dirtyRowTracker.markDirty(F);break;case 1:for(F=this._activeBuffer.y,this._dirtyRowTracker.markDirty(F),this._eraseInBufferLine(F,0,this._activeBuffer.x+1,!0,N),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(F+1).isWrapped=!1);F--;)this._resetBufferLine(F,N);this._dirtyRowTracker.markDirty(0);break;case 2:for(F=this._bufferService.rows,this._dirtyRowTracker.markDirty(F-1);F--;)this._resetBufferLine(F,N);this._dirtyRowTracker.markDirty(0);break;case 3:const H=this._activeBuffer.lines.length-this._bufferService.rows;H>0&&(this._activeBuffer.lines.trimStart(H),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-H,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-H,0),this._onScroll.fire(0))}return!0}eraseInLine(R,N=!1){switch(this._restrictCursor(this._bufferService.cols),R.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,N);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,N);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,N)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(R){this._restrictCursor();let N=R.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const F=this._activeBuffer.ybase+this._activeBuffer.y,H=this._bufferService.rows-1-this._activeBuffer.scrollBottom,se=this._bufferService.rows-1+this._activeBuffer.ybase-H+1;for(;N--;)this._activeBuffer.lines.splice(se-1,1),this._activeBuffer.lines.splice(F,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(R){this._restrictCursor();let N=R.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const F=this._activeBuffer.ybase+this._activeBuffer.y;let H;for(H=this._bufferService.rows-1-this._activeBuffer.scrollBottom,H=this._bufferService.rows-1+this._activeBuffer.ybase-H;N--;)this._activeBuffer.lines.splice(F,1),this._activeBuffer.lines.splice(H,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(R){this._restrictCursor();const N=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return N&&(N.insertCells(this._activeBuffer.x,R.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(R){this._restrictCursor();const N=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return N&&(N.deleteCells(this._activeBuffer.x,R.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(R){let N=R.params[0]||1;for(;N--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(R){let N=R.params[0]||1;for(;N--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(u.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const N=R.params[0]||1;for(let F=this._activeBuffer.scrollTop;F<=this._activeBuffer.scrollBottom;++F){const H=this._activeBuffer.lines.get(this._activeBuffer.ybase+F);H.deleteCells(0,N,this._activeBuffer.getNullCell(this._eraseAttrData())),H.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const N=R.params[0]||1;for(let F=this._activeBuffer.scrollTop;F<=this._activeBuffer.scrollBottom;++F){const H=this._activeBuffer.lines.get(this._activeBuffer.ybase+F);H.insertCells(0,N,this._activeBuffer.getNullCell(this._eraseAttrData())),H.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const N=R.params[0]||1;for(let F=this._activeBuffer.scrollTop;F<=this._activeBuffer.scrollBottom;++F){const H=this._activeBuffer.lines.get(this._activeBuffer.ybase+F);H.insertCells(this._activeBuffer.x,N,this._activeBuffer.getNullCell(this._eraseAttrData())),H.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const N=R.params[0]||1;for(let F=this._activeBuffer.scrollTop;F<=this._activeBuffer.scrollBottom;++F){const H=this._activeBuffer.lines.get(this._activeBuffer.ybase+F);H.deleteCells(this._activeBuffer.x,N,this._activeBuffer.getNullCell(this._eraseAttrData())),H.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(R){this._restrictCursor();const N=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return N&&(N.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(R.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(R){const N=this._parser.precedingJoinState;if(!N)return!0;const F=R.params[0]||1,H=y.UnicodeService.extractWidth(N),se=this._activeBuffer.x-H,ie=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).getString(se),he=new Uint32Array(ie.length*F);let ce=0;for(let k=0;k<ie.length;){const V=ie.codePointAt(k)||0;he[ce++]=V,k+=V>65535?2:1}let x=ce;for(let k=1;k<F;++k)he.copyWithin(x,0,ce),x+=ce;return this.print(he,0,x),!0}sendDeviceAttributesPrimary(R){return R.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(h.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(h.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(R){return R.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(h.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(h.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(R.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(h.C0.ESC+"[>83;40003;0c")),!0}_is(R){return(this._optionsService.rawOptions.termName+"").indexOf(R)===0}setMode(R){for(let N=0;N<R.length;N++)switch(R.params[N]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(R){for(let N=0;N<R.length;N++)switch(R.params[N]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,g.DEFAULT_CHARSET),this._charsetService.setgCharset(1,g.DEFAULT_CHARSET),this._charsetService.setgCharset(2,g.DEFAULT_CHARSET),this._charsetService.setgCharset(3,g.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(R){for(let N=0;N<R.length;N++)switch(R.params[N]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(R){for(let N=0;N<R.length;N++)switch(R.params[N]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),R.params[N]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(R,N){const F=this._coreService.decPrivateModes,{activeProtocol:H,activeEncoding:se}=this._coreMouseService,ie=this._coreService,{buffers:he,cols:ce}=this._bufferService,{active:x,alt:k}=he,V=this._optionsService.rawOptions,W=$=>$?1:2,re=R.params[0];return A=re,B=N?re===2?4:re===4?W(ie.modes.insertMode):re===12?3:re===20?W(V.convertEol):0:re===1?W(F.applicationCursorKeys):re===3?V.windowOptions.setWinLines?ce===80?2:ce===132?1:0:0:re===6?W(F.origin):re===7?W(F.wraparound):re===8?3:re===9?W(H==="X10"):re===12?W(V.cursorBlink):re===25?W(!ie.isCursorHidden):re===45?W(F.reverseWraparound):re===66?W(F.applicationKeypad):re===67?4:re===1e3?W(H==="VT200"):re===1002?W(H==="DRAG"):re===1003?W(H==="ANY"):re===1004?W(F.sendFocus):re===1005?4:re===1006?W(se==="SGR"):re===1015?4:re===1016?W(se==="SGR_PIXELS"):re===1048?1:re===47||re===1047||re===1049?W(x===k):re===2004?W(F.bracketedPasteMode):0,ie.triggerDataEvent(`${h.C0.ESC}[${N?"":"?"}${A};${B}$y`),!0;var A,B}_updateAttrColor(R,N,F,H,se){return N===2?(R|=50331648,R&=-16777216,R|=m.AttributeData.fromColorRGB([F,H,se])):N===5&&(R&=-50331904,R|=33554432|255&F),R}_extractColor(R,N,F){const H=[0,0,-1,0,0,0];let se=0,ie=0;do{if(H[ie+se]=R.params[N+ie],R.hasSubParams(N+ie)){const he=R.getSubParams(N+ie);let ce=0;do H[1]===5&&(se=1),H[ie+ce+1+se]=he[ce];while(++ce<he.length&&ce+ie+1+se<H.length);break}if(H[1]===5&&ie+se>=2||H[1]===2&&ie+se>=5)break;H[1]&&(se=1)}while(++ie+N<R.length&&ie+se<H.length);for(let he=2;he<H.length;++he)H[he]===-1&&(H[he]=0);switch(H[0]){case 38:F.fg=this._updateAttrColor(F.fg,H[1],H[3],H[4],H[5]);break;case 48:F.bg=this._updateAttrColor(F.bg,H[1],H[3],H[4],H[5]);break;case 58:F.extended=F.extended.clone(),F.extended.underlineColor=this._updateAttrColor(F.extended.underlineColor,H[1],H[3],H[4],H[5])}return ie}_processUnderline(R,N){N.extended=N.extended.clone(),(!~R||R>5)&&(R=1),N.extended.underlineStyle=R,N.fg|=268435456,R===0&&(N.fg&=-268435457),N.updateExtended()}_processSGR0(R){R.fg=u.DEFAULT_ATTR_DATA.fg,R.bg=u.DEFAULT_ATTR_DATA.bg,R.extended=R.extended.clone(),R.extended.underlineStyle=0,R.extended.underlineColor&=-67108864,R.updateExtended()}charAttributes(R){if(R.length===1&&R.params[0]===0)return this._processSGR0(this._curAttrData),!0;const N=R.length;let F;const H=this._curAttrData;for(let se=0;se<N;se++)F=R.params[se],F>=30&&F<=37?(H.fg&=-50331904,H.fg|=16777216|F-30):F>=40&&F<=47?(H.bg&=-50331904,H.bg|=16777216|F-40):F>=90&&F<=97?(H.fg&=-50331904,H.fg|=16777224|F-90):F>=100&&F<=107?(H.bg&=-50331904,H.bg|=16777224|F-100):F===0?this._processSGR0(H):F===1?H.fg|=134217728:F===3?H.bg|=67108864:F===4?(H.fg|=268435456,this._processUnderline(R.hasSubParams(se)?R.getSubParams(se)[0]:1,H)):F===5?H.fg|=536870912:F===7?H.fg|=67108864:F===8?H.fg|=1073741824:F===9?H.fg|=2147483648:F===2?H.bg|=134217728:F===21?this._processUnderline(2,H):F===22?(H.fg&=-134217729,H.bg&=-134217729):F===23?H.bg&=-67108865:F===24?(H.fg&=-268435457,this._processUnderline(0,H)):F===25?H.fg&=-536870913:F===27?H.fg&=-67108865:F===28?H.fg&=-1073741825:F===29?H.fg&=2147483647:F===39?(H.fg&=-67108864,H.fg|=16777215&u.DEFAULT_ATTR_DATA.fg):F===49?(H.bg&=-67108864,H.bg|=16777215&u.DEFAULT_ATTR_DATA.bg):F===38||F===48||F===58?se+=this._extractColor(R,se,H):F===53?H.bg|=1073741824:F===55?H.bg&=-1073741825:F===59?(H.extended=H.extended.clone(),H.extended.underlineColor=-1,H.updateExtended()):F===100?(H.fg&=-67108864,H.fg|=16777215&u.DEFAULT_ATTR_DATA.fg,H.bg&=-67108864,H.bg|=16777215&u.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",F);return!0}deviceStatus(R){switch(R.params[0]){case 5:this._coreService.triggerDataEvent(`${h.C0.ESC}[0n`);break;case 6:const N=this._activeBuffer.y+1,F=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${h.C0.ESC}[${N};${F}R`)}return!0}deviceStatusPrivate(R){if(R.params[0]===6){const N=this._activeBuffer.y+1,F=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${h.C0.ESC}[?${N};${F}R`)}return!0}softReset(R){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=u.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(R){const N=R.params[0]||1;switch(N){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const F=N%2==1;return this._optionsService.options.cursorBlink=F,!0}setScrollRegion(R){const N=R.params[0]||1;let F;return(R.length<2||(F=R.params[1])>this._bufferService.rows||F===0)&&(F=this._bufferService.rows),F>N&&(this._activeBuffer.scrollTop=N-1,this._activeBuffer.scrollBottom=F-1,this._setCursor(0,0)),!0}windowOptions(R){if(!O(R.params[0],this._optionsService.rawOptions.windowOptions))return!0;const N=R.length>1?R.params[1]:0;switch(R.params[0]){case 14:N!==2&&this._onRequestWindowsOptionsReport.fire(D.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(D.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${h.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:N!==0&&N!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),N!==0&&N!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:N!==0&&N!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),N!==0&&N!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(R){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(R){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(R){return this._windowTitle=R,this._onTitleChange.fire(R),!0}setIconName(R){return this._iconName=R,!0}setOrReportIndexedColor(R){const N=[],F=R.split(";");for(;F.length>1;){const H=F.shift(),se=F.shift();if(/^\d+$/.exec(H)){const ie=parseInt(H);if(ee(ie))if(se==="?")N.push({type:0,index:ie});else{const he=(0,L.parseColor)(se);he&&N.push({type:1,index:ie,color:he})}}}return N.length&&this._onColor.fire(N),!0}setHyperlink(R){const N=R.split(";");return!(N.length<2)&&(N[1]?this._createHyperlink(N[0],N[1]):!N[0]&&this._finishHyperlink())}_createHyperlink(R,N){this._getCurrentLinkId()&&this._finishHyperlink();const F=R.split(":");let H;const se=F.findIndex(ie=>ie.startsWith("id="));return se!==-1&&(H=F[se].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:H,uri:N}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(R,N){const F=R.split(";");for(let H=0;H<F.length&&!(N>=this._specialColors.length);++H,++N)if(F[H]==="?")this._onColor.fire([{type:0,index:this._specialColors[N]}]);else{const se=(0,L.parseColor)(F[H]);se&&this._onColor.fire([{type:1,index:this._specialColors[N],color:se}])}return!0}setOrReportFgColor(R){return this._setOrReportSpecialColor(R,0)}setOrReportBgColor(R){return this._setOrReportSpecialColor(R,1)}setOrReportCursorColor(R){return this._setOrReportSpecialColor(R,2)}restoreIndexedColor(R){if(!R)return this._onColor.fire([{type:2}]),!0;const N=[],F=R.split(";");for(let H=0;H<F.length;++H)if(/^\d+$/.exec(F[H])){const se=parseInt(F[H]);ee(se)&&N.push({type:2,index:se})}return N.length&&this._onColor.fire(N),!0}restoreFgColor(R){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(R){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(R){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,g.DEFAULT_CHARSET),!0}selectCharset(R){return R.length!==2?(this.selectDefaultCharset(),!0):(R[0]==="/"||this._charsetService.setgCharset(T[R[0]],g.CHARSETS[R[1]]||g.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const R=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,R,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=u.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=u.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(R){return this._charsetService.setgLevel(R),!0}screenAlignmentPattern(){const R=new c.CellData;R.content=4194373,R.fg=this._curAttrData.fg,R.bg=this._curAttrData.bg,this._setCursor(0,0);for(let N=0;N<this._bufferService.rows;++N){const F=this._activeBuffer.ybase+this._activeBuffer.y+N,H=this._activeBuffer.lines.get(F);H&&(H.fill(R),H.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(R,N){const F=this._bufferService.buffer,H=this._optionsService.rawOptions;return(se=>(this._coreService.triggerDataEvent(`${h.C0.ESC}${se}${h.C0.ESC}\\`),!0))(R==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:R==='"p'?'P1$r61;1"p':R==="r"?`P1$r${F.scrollTop+1};${F.scrollBottom+1}r`:R==="m"?"P1$r0m":R===" q"?`P1$r${{block:2,underline:4,bar:6}[H.cursorStyle]-(H.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(R,N){this._dirtyRowTracker.markRangeDirty(R,N)}}i.InputHandler=Y;let te=class{constructor(Z){this._bufferService=Z,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(Z){Z<this.start?this.start=Z:Z>this.end&&(this.end=Z)}markRangeDirty(Z,R){Z>R&&(K=Z,Z=R,R=K),Z<this.start&&(this.start=Z),R>this.end&&(this.end=R)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function ee(Z){return 0<=Z&&Z<256}te=f([_(0,C.IBufferService)],te)},844:(p,i)=>{function n(f){for(const _ of f)_.dispose();f.length=0}Object.defineProperty(i,"__esModule",{value:!0}),i.getDisposeArrayDisposable=i.disposeArray=i.toDisposable=i.MutableDisposable=i.Disposable=void 0,i.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const f of this._disposables)f.dispose();this._disposables.length=0}register(f){return this._disposables.push(f),f}unregister(f){const _=this._disposables.indexOf(f);_!==-1&&this._disposables.splice(_,1)}},i.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(f){var _;this._isDisposed||f===this._value||((_=this._value)==null||_.dispose(),this._value=f)}clear(){this.value=void 0}dispose(){var f;this._isDisposed=!0,(f=this._value)==null||f.dispose(),this._value=void 0}},i.toDisposable=function(f){return{dispose:f}},i.disposeArray=n,i.getDisposeArrayDisposable=function(f){return{dispose:()=>n(f)}}},1505:(p,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.FourKeyMap=i.TwoKeyMap=void 0;class n{constructor(){this._data={}}set(_,h,g){this._data[_]||(this._data[_]={}),this._data[_][h]=g}get(_,h){return this._data[_]?this._data[_][h]:void 0}clear(){this._data={}}}i.TwoKeyMap=n,i.FourKeyMap=class{constructor(){this._data=new n}set(f,_,h,g,v){this._data.get(f,_)||this._data.set(f,_,new n),this._data.get(f,_).set(h,g,v)}get(f,_,h,g){var v;return(v=this._data.get(f,_))==null?void 0:v.get(h,g)}clear(){this._data.clear()}}},6114:(p,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.isChromeOS=i.isLinux=i.isWindows=i.isIphone=i.isIpad=i.isMac=i.getSafariVersion=i.isSafari=i.isLegacyEdge=i.isFirefox=i.isNode=void 0,i.isNode=typeof process<"u"&&"title"in process;const n=i.isNode?"node":navigator.userAgent,f=i.isNode?"node":navigator.platform;i.isFirefox=n.includes("Firefox"),i.isLegacyEdge=n.includes("Edge"),i.isSafari=/^((?!chrome|android).)*safari/i.test(n),i.getSafariVersion=function(){if(!i.isSafari)return 0;const _=n.match(/Version\/(\d+)/);return _===null||_.length<2?0:parseInt(_[1])},i.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(f),i.isIpad=f==="iPad",i.isIphone=f==="iPhone",i.isWindows=["Windows","Win16","Win32","WinCE"].includes(f),i.isLinux=f.indexOf("Linux")>=0,i.isChromeOS=/\bCrOS\b/.test(n)},6106:(p,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SortedList=void 0;let n=0;i.SortedList=class{constructor(f){this._getKey=f,this._array=[]}clear(){this._array.length=0}insert(f){this._array.length!==0?(n=this._search(this._getKey(f)),this._array.splice(n,0,f)):this._array.push(f)}delete(f){if(this._array.length===0)return!1;const _=this._getKey(f);if(_===void 0||(n=this._search(_),n===-1)||this._getKey(this._array[n])!==_)return!1;do if(this._array[n]===f)return this._array.splice(n,1),!0;while(++n<this._array.length&&this._getKey(this._array[n])===_);return!1}*getKeyIterator(f){if(this._array.length!==0&&(n=this._search(f),!(n<0||n>=this._array.length)&&this._getKey(this._array[n])===f))do yield this._array[n];while(++n<this._array.length&&this._getKey(this._array[n])===f)}forEachByKey(f,_){if(this._array.length!==0&&(n=this._search(f),!(n<0||n>=this._array.length)&&this._getKey(this._array[n])===f))do _(this._array[n]);while(++n<this._array.length&&this._getKey(this._array[n])===f)}values(){return[...this._array].values()}_search(f){let _=0,h=this._array.length-1;for(;h>=_;){let g=_+h>>1;const v=this._getKey(this._array[g]);if(v>f)h=g-1;else{if(!(v<f)){for(;g>0&&this._getKey(this._array[g-1])===f;)g--;return g}_=g+1}}return _}}},7226:(p,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.DebouncedIdleTask=i.IdleTaskQueue=i.PriorityTaskQueue=void 0;const f=n(6114);class _{constructor(){this._tasks=[],this._i=0}enqueue(v){this._tasks.push(v),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(v){this._idleCallback=void 0;let w=0,S=0,u=v.timeRemaining(),l=0;for(;this._i<this._tasks.length;){if(w=Date.now(),this._tasks[this._i]()||this._i++,w=Math.max(1,Date.now()-w),S=Math.max(w,S),l=v.timeRemaining(),1.5*S>l)return u-w<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(u-w))}ms`),void this._start();u=l}this.clear()}}class h extends _{_requestCallback(v){return setTimeout(()=>v(this._createDeadline(16)))}_cancelCallback(v){clearTimeout(v)}_createDeadline(v){const w=Date.now()+v;return{timeRemaining:()=>Math.max(0,w-Date.now())}}}i.PriorityTaskQueue=h,i.IdleTaskQueue=!f.isNode&&"requestIdleCallback"in window?class extends _{_requestCallback(g){return requestIdleCallback(g)}_cancelCallback(g){cancelIdleCallback(g)}}:h,i.DebouncedIdleTask=class{constructor(){this._queue=new i.IdleTaskQueue}set(g){this._queue.clear(),this._queue.enqueue(g)}flush(){this._queue.flush()}}},9282:(p,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.updateWindowsModeWrappedState=void 0;const f=n(643);i.updateWindowsModeWrappedState=function(_){const h=_.buffer.lines.get(_.buffer.ybase+_.buffer.y-1),g=h==null?void 0:h.get(_.cols-1),v=_.buffer.lines.get(_.buffer.ybase+_.buffer.y);v&&g&&(v.isWrapped=g[f.CHAR_DATA_CODE_INDEX]!==f.NULL_CELL_CODE&&g[f.CHAR_DATA_CODE_INDEX]!==f.WHITESPACE_CELL_CODE)}},3734:(p,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ExtendedAttrs=i.AttributeData=void 0;class n{constructor(){this.fg=0,this.bg=0,this.extended=new f}static toColorRGB(h){return[h>>>16&255,h>>>8&255,255&h]}static fromColorRGB(h){return(255&h[0])<<16|(255&h[1])<<8|255&h[2]}clone(){const h=new n;return h.fg=this.fg,h.bg=this.bg,h.extended=this.extended.clone(),h}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}getUnderlineVariantOffset(){return this.extended.underlineVariantOffset}}i.AttributeData=n;class f{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(h){this._ext=h}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(h){this._ext&=-469762049,this._ext|=h<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(h){this._ext&=-67108864,this._ext|=67108863&h}get urlId(){return this._urlId}set urlId(h){this._urlId=h}get underlineVariantOffset(){const h=(3758096384&this._ext)>>29;return h<0?4294967288^h:h}set underlineVariantOffset(h){this._ext&=536870911,this._ext|=h<<29&3758096384}constructor(h=0,g=0){this._ext=0,this._urlId=0,this._ext=h,this._urlId=g}clone(){return new f(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}i.ExtendedAttrs=f},9092:(p,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Buffer=i.MAX_BUFFER_SIZE=void 0;const f=n(6349),_=n(7226),h=n(3734),g=n(8437),v=n(4634),w=n(511),S=n(643),u=n(4863),l=n(7116);i.MAX_BUFFER_SIZE=4294967295,i.Buffer=class{constructor(o,c,m){this._hasScrollback=o,this._optionsService=c,this._bufferService=m,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=g.DEFAULT_ATTR_DATA.clone(),this.savedCharset=l.DEFAULT_CHARSET,this.markers=[],this._nullCell=w.CellData.fromCharData([0,S.NULL_CELL_CHAR,S.NULL_CELL_WIDTH,S.NULL_CELL_CODE]),this._whitespaceCell=w.CellData.fromCharData([0,S.WHITESPACE_CELL_CHAR,S.WHITESPACE_CELL_WIDTH,S.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new _.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new f.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(o){return o?(this._nullCell.fg=o.fg,this._nullCell.bg=o.bg,this._nullCell.extended=o.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new h.ExtendedAttrs),this._nullCell}getWhitespaceCell(o){return o?(this._whitespaceCell.fg=o.fg,this._whitespaceCell.bg=o.bg,this._whitespaceCell.extended=o.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new h.ExtendedAttrs),this._whitespaceCell}getBlankLine(o,c){return new g.BufferLine(this._bufferService.cols,this.getNullCell(o),c)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const o=this.ybase+this.y-this.ydisp;return o>=0&&o<this._rows}_getCorrectBufferLength(o){if(!this._hasScrollback)return o;const c=o+this._optionsService.rawOptions.scrollback;return c>i.MAX_BUFFER_SIZE?i.MAX_BUFFER_SIZE:c}fillViewportRows(o){if(this.lines.length===0){o===void 0&&(o=g.DEFAULT_ATTR_DATA);let c=this._rows;for(;c--;)this.lines.push(this.getBlankLine(o))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new f.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(o,c){const m=this.getNullCell(g.DEFAULT_ATTR_DATA);let C=0;const y=this._getCorrectBufferLength(c);if(y>this.lines.maxLength&&(this.lines.maxLength=y),this.lines.length>0){if(this._cols<o)for(let b=0;b<this.lines.length;b++)C+=+this.lines.get(b).resize(o,m);let E=0;if(this._rows<c)for(let b=this._rows;b<c;b++)this.lines.length<c+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new g.BufferLine(o,m)):this.ybase>0&&this.lines.length<=this.ybase+this.y+E+1?(this.ybase--,E++,this.ydisp>0&&this.ydisp--):this.lines.push(new g.BufferLine(o,m)));else for(let b=this._rows;b>c;b--)this.lines.length>c+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(y<this.lines.maxLength){const b=this.lines.length-y;b>0&&(this.lines.trimStart(b),this.ybase=Math.max(this.ybase-b,0),this.ydisp=Math.max(this.ydisp-b,0),this.savedY=Math.max(this.savedY-b,0)),this.lines.maxLength=y}this.x=Math.min(this.x,o-1),this.y=Math.min(this.y,c-1),E&&(this.y+=E),this.savedX=Math.min(this.savedX,o-1),this.scrollTop=0}if(this.scrollBottom=c-1,this._isReflowEnabled&&(this._reflow(o,c),this._cols>o))for(let E=0;E<this.lines.length;E++)C+=+this.lines.get(E).resize(o,m);this._cols=o,this._rows=c,this._memoryCleanupQueue.clear(),C>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let o=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,o=!1);let c=0;for(;this._memoryCleanupPosition<this.lines.length;)if(c+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),c>100)return!0;return o}get _isReflowEnabled(){const o=this._optionsService.rawOptions.windowsPty;return o&&o.buildNumber?this._hasScrollback&&o.backend==="conpty"&&o.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(o,c){this._cols!==o&&(o>this._cols?this._reflowLarger(o,c):this._reflowSmaller(o,c))}_reflowLarger(o,c){const m=(0,v.reflowLargerGetLinesToRemove)(this.lines,this._cols,o,this.ybase+this.y,this.getNullCell(g.DEFAULT_ATTR_DATA));if(m.length>0){const C=(0,v.reflowLargerCreateNewLayout)(this.lines,m);(0,v.reflowLargerApplyNewLayout)(this.lines,C.layout),this._reflowLargerAdjustViewport(o,c,C.countRemoved)}}_reflowLargerAdjustViewport(o,c,m){const C=this.getNullCell(g.DEFAULT_ATTR_DATA);let y=m;for(;y-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<c&&this.lines.push(new g.BufferLine(o,C))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-m,0)}_reflowSmaller(o,c){const m=this.getNullCell(g.DEFAULT_ATTR_DATA),C=[];let y=0;for(let E=this.lines.length-1;E>=0;E--){let b=this.lines.get(E);if(!b||!b.isWrapped&&b.getTrimmedLength()<=o)continue;const L=[b];for(;b.isWrapped&&E>0;)b=this.lines.get(--E),L.unshift(b);const T=this.ybase+this.y;if(T>=E&&T<E+L.length)continue;const M=L[L.length-1].getTrimmedLength(),O=(0,v.reflowSmallerGetNewLineLengths)(L,this._cols,o),D=O.length-L.length;let K;K=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+D):Math.max(0,this.lines.length-this.lines.maxLength+D);const Y=[];for(let F=0;F<D;F++){const H=this.getBlankLine(g.DEFAULT_ATTR_DATA,!0);Y.push(H)}Y.length>0&&(C.push({start:E+L.length+y,newLines:Y}),y+=Y.length),L.push(...Y);let te=O.length-1,ee=O[te];ee===0&&(te--,ee=O[te]);let Z=L.length-D-1,R=M;for(;Z>=0;){const F=Math.min(R,ee);if(L[te]===void 0)break;if(L[te].copyCellsFrom(L[Z],R-F,ee-F,F,!0),ee-=F,ee===0&&(te--,ee=O[te]),R-=F,R===0){Z--;const H=Math.max(Z,0);R=(0,v.getWrappedLineTrimmedLength)(L,H,this._cols)}}for(let F=0;F<L.length;F++)O[F]<o&&L[F].setCell(O[F],m);let N=D-K;for(;N-- >0;)this.ybase===0?this.y<c-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+y)-c&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+D,this.ybase+c-1)}if(C.length>0){const E=[],b=[];for(let te=0;te<this.lines.length;te++)b.push(this.lines.get(te));const L=this.lines.length;let T=L-1,M=0,O=C[M];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+y);let D=0;for(let te=Math.min(this.lines.maxLength-1,L+y-1);te>=0;te--)if(O&&O.start>T+D){for(let ee=O.newLines.length-1;ee>=0;ee--)this.lines.set(te--,O.newLines[ee]);te++,E.push({index:T+1,amount:O.newLines.length}),D+=O.newLines.length,O=C[++M]}else this.lines.set(te,b[T--]);let K=0;for(let te=E.length-1;te>=0;te--)E[te].index+=K,this.lines.onInsertEmitter.fire(E[te]),K+=E[te].amount;const Y=Math.max(0,L+y-this.lines.maxLength);Y>0&&this.lines.onTrimEmitter.fire(Y)}}translateBufferLineToString(o,c,m=0,C){const y=this.lines.get(o);return y?y.translateToString(c,m,C):""}getWrappedRangeForLine(o){let c=o,m=o;for(;c>0&&this.lines.get(c).isWrapped;)c--;for(;m+1<this.lines.length&&this.lines.get(m+1).isWrapped;)m++;return{first:c,last:m}}setupTabStops(o){for(o!=null?this.tabs[o]||(o=this.prevStop(o)):(this.tabs={},o=0);o<this._cols;o+=this._optionsService.rawOptions.tabStopWidth)this.tabs[o]=!0}prevStop(o){for(o==null&&(o=this.x);!this.tabs[--o]&&o>0;);return o>=this._cols?this._cols-1:o<0?0:o}nextStop(o){for(o==null&&(o=this.x);!this.tabs[++o]&&o<this._cols;);return o>=this._cols?this._cols-1:o<0?0:o}clearMarkers(o){this._isClearing=!0;for(let c=0;c<this.markers.length;c++)this.markers[c].line===o&&(this.markers[c].dispose(),this.markers.splice(c--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let o=0;o<this.markers.length;o++)this.markers[o].dispose(),this.markers.splice(o--,1);this._isClearing=!1}addMarker(o){const c=new u.Marker(o);return this.markers.push(c),c.register(this.lines.onTrim(m=>{c.line-=m,c.line<0&&c.dispose()})),c.register(this.lines.onInsert(m=>{c.line>=m.index&&(c.line+=m.amount)})),c.register(this.lines.onDelete(m=>{c.line>=m.index&&c.line<m.index+m.amount&&c.dispose(),c.line>m.index&&(c.line-=m.amount)})),c.register(c.onDispose(()=>this._removeMarker(c))),c}_removeMarker(o){this._isClearing||this.markers.splice(this.markers.indexOf(o),1)}}},8437:(p,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BufferLine=i.DEFAULT_ATTR_DATA=void 0;const f=n(3734),_=n(511),h=n(643),g=n(482);i.DEFAULT_ATTR_DATA=Object.freeze(new f.AttributeData);let v=0;class w{constructor(u,l,o=!1){this.isWrapped=o,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*u);const c=l||_.CellData.fromCharData([0,h.NULL_CELL_CHAR,h.NULL_CELL_WIDTH,h.NULL_CELL_CODE]);for(let m=0;m<u;++m)this.setCell(m,c);this.length=u}get(u){const l=this._data[3*u+0],o=2097151&l;return[this._data[3*u+1],2097152&l?this._combined[u]:o?(0,g.stringFromCodePoint)(o):"",l>>22,2097152&l?this._combined[u].charCodeAt(this._combined[u].length-1):o]}set(u,l){this._data[3*u+1]=l[h.CHAR_DATA_ATTR_INDEX],l[h.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[u]=l[1],this._data[3*u+0]=2097152|u|l[h.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*u+0]=l[h.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|l[h.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(u){return this._data[3*u+0]>>22}hasWidth(u){return 12582912&this._data[3*u+0]}getFg(u){return this._data[3*u+1]}getBg(u){return this._data[3*u+2]}hasContent(u){return 4194303&this._data[3*u+0]}getCodePoint(u){const l=this._data[3*u+0];return 2097152&l?this._combined[u].charCodeAt(this._combined[u].length-1):2097151&l}isCombined(u){return 2097152&this._data[3*u+0]}getString(u){const l=this._data[3*u+0];return 2097152&l?this._combined[u]:2097151&l?(0,g.stringFromCodePoint)(2097151&l):""}isProtected(u){return 536870912&this._data[3*u+2]}loadCell(u,l){return v=3*u,l.content=this._data[v+0],l.fg=this._data[v+1],l.bg=this._data[v+2],2097152&l.content&&(l.combinedData=this._combined[u]),268435456&l.bg&&(l.extended=this._extendedAttrs[u]),l}setCell(u,l){2097152&l.content&&(this._combined[u]=l.combinedData),268435456&l.bg&&(this._extendedAttrs[u]=l.extended),this._data[3*u+0]=l.content,this._data[3*u+1]=l.fg,this._data[3*u+2]=l.bg}setCellFromCodepoint(u,l,o,c){268435456&c.bg&&(this._extendedAttrs[u]=c.extended),this._data[3*u+0]=l|o<<22,this._data[3*u+1]=c.fg,this._data[3*u+2]=c.bg}addCodepointToCell(u,l,o){let c=this._data[3*u+0];2097152&c?this._combined[u]+=(0,g.stringFromCodePoint)(l):2097151&c?(this._combined[u]=(0,g.stringFromCodePoint)(2097151&c)+(0,g.stringFromCodePoint)(l),c&=-2097152,c|=2097152):c=l|4194304,o&&(c&=-12582913,c|=o<<22),this._data[3*u+0]=c}insertCells(u,l,o){if((u%=this.length)&&this.getWidth(u-1)===2&&this.setCellFromCodepoint(u-1,0,1,o),l<this.length-u){const c=new _.CellData;for(let m=this.length-u-l-1;m>=0;--m)this.setCell(u+l+m,this.loadCell(u+m,c));for(let m=0;m<l;++m)this.setCell(u+m,o)}else for(let c=u;c<this.length;++c)this.setCell(c,o);this.getWidth(this.length-1)===2&&this.setCellFromCodepoint(this.length-1,0,1,o)}deleteCells(u,l,o){if(u%=this.length,l<this.length-u){const c=new _.CellData;for(let m=0;m<this.length-u-l;++m)this.setCell(u+m,this.loadCell(u+l+m,c));for(let m=this.length-l;m<this.length;++m)this.setCell(m,o)}else for(let c=u;c<this.length;++c)this.setCell(c,o);u&&this.getWidth(u-1)===2&&this.setCellFromCodepoint(u-1,0,1,o),this.getWidth(u)!==0||this.hasContent(u)||this.setCellFromCodepoint(u,0,1,o)}replaceCells(u,l,o,c=!1){if(c)for(u&&this.getWidth(u-1)===2&&!this.isProtected(u-1)&&this.setCellFromCodepoint(u-1,0,1,o),l<this.length&&this.getWidth(l-1)===2&&!this.isProtected(l)&&this.setCellFromCodepoint(l,0,1,o);u<l&&u<this.length;)this.isProtected(u)||this.setCell(u,o),u++;else for(u&&this.getWidth(u-1)===2&&this.setCellFromCodepoint(u-1,0,1,o),l<this.length&&this.getWidth(l-1)===2&&this.setCellFromCodepoint(l,0,1,o);u<l&&u<this.length;)this.setCell(u++,o)}resize(u,l){if(u===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const o=3*u;if(u>this.length){if(this._data.buffer.byteLength>=4*o)this._data=new Uint32Array(this._data.buffer,0,o);else{const c=new Uint32Array(o);c.set(this._data),this._data=c}for(let c=this.length;c<u;++c)this.setCell(c,l)}else{this._data=this._data.subarray(0,o);const c=Object.keys(this._combined);for(let C=0;C<c.length;C++){const y=parseInt(c[C],10);y>=u&&delete this._combined[y]}const m=Object.keys(this._extendedAttrs);for(let C=0;C<m.length;C++){const y=parseInt(m[C],10);y>=u&&delete this._extendedAttrs[y]}}return this.length=u,4*o*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const u=new Uint32Array(this._data.length);return u.set(this._data),this._data=u,1}return 0}fill(u,l=!1){if(l)for(let o=0;o<this.length;++o)this.isProtected(o)||this.setCell(o,u);else{this._combined={},this._extendedAttrs={};for(let o=0;o<this.length;++o)this.setCell(o,u)}}copyFrom(u){this.length!==u.length?this._data=new Uint32Array(u._data):this._data.set(u._data),this.length=u.length,this._combined={};for(const l in u._combined)this._combined[l]=u._combined[l];this._extendedAttrs={};for(const l in u._extendedAttrs)this._extendedAttrs[l]=u._extendedAttrs[l];this.isWrapped=u.isWrapped}clone(){const u=new w(0);u._data=new Uint32Array(this._data),u.length=this.length;for(const l in this._combined)u._combined[l]=this._combined[l];for(const l in this._extendedAttrs)u._extendedAttrs[l]=this._extendedAttrs[l];return u.isWrapped=this.isWrapped,u}getTrimmedLength(){for(let u=this.length-1;u>=0;--u)if(4194303&this._data[3*u+0])return u+(this._data[3*u+0]>>22);return 0}getNoBgTrimmedLength(){for(let u=this.length-1;u>=0;--u)if(4194303&this._data[3*u+0]||50331648&this._data[3*u+2])return u+(this._data[3*u+0]>>22);return 0}copyCellsFrom(u,l,o,c,m){const C=u._data;if(m)for(let E=c-1;E>=0;E--){for(let b=0;b<3;b++)this._data[3*(o+E)+b]=C[3*(l+E)+b];268435456&C[3*(l+E)+2]&&(this._extendedAttrs[o+E]=u._extendedAttrs[l+E])}else for(let E=0;E<c;E++){for(let b=0;b<3;b++)this._data[3*(o+E)+b]=C[3*(l+E)+b];268435456&C[3*(l+E)+2]&&(this._extendedAttrs[o+E]=u._extendedAttrs[l+E])}const y=Object.keys(u._combined);for(let E=0;E<y.length;E++){const b=parseInt(y[E],10);b>=l&&(this._combined[b-l+o]=u._combined[b])}}translateToString(u,l,o,c){l=l??0,o=o??this.length,u&&(o=Math.min(o,this.getTrimmedLength())),c&&(c.length=0);let m="";for(;l<o;){const C=this._data[3*l+0],y=2097151&C,E=2097152&C?this._combined[l]:y?(0,g.stringFromCodePoint)(y):h.WHITESPACE_CELL_CHAR;if(m+=E,c)for(let b=0;b<E.length;++b)c.push(l);l+=C>>22||1}return c&&c.push(l),m}}i.BufferLine=w},4841:(p,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getRangeLength=void 0,i.getRangeLength=function(n,f){if(n.start.y>n.end.y)throw new Error(`Buffer range end (${n.end.x}, ${n.end.y}) cannot be before start (${n.start.x}, ${n.start.y})`);return f*(n.end.y-n.start.y)+(n.end.x-n.start.x+1)}},4634:(p,i)=>{function n(f,_,h){if(_===f.length-1)return f[_].getTrimmedLength();const g=!f[_].hasContent(h-1)&&f[_].getWidth(h-1)===1,v=f[_+1].getWidth(0)===2;return g&&v?h-1:h}Object.defineProperty(i,"__esModule",{value:!0}),i.getWrappedLineTrimmedLength=i.reflowSmallerGetNewLineLengths=i.reflowLargerApplyNewLayout=i.reflowLargerCreateNewLayout=i.reflowLargerGetLinesToRemove=void 0,i.reflowLargerGetLinesToRemove=function(f,_,h,g,v){const w=[];for(let S=0;S<f.length-1;S++){let u=S,l=f.get(++u);if(!l.isWrapped)continue;const o=[f.get(S)];for(;u<f.length&&l.isWrapped;)o.push(l),l=f.get(++u);if(g>=S&&g<u){S+=o.length-1;continue}let c=0,m=n(o,c,_),C=1,y=0;for(;C<o.length;){const b=n(o,C,_),L=b-y,T=h-m,M=Math.min(L,T);o[c].copyCellsFrom(o[C],y,m,M,!1),m+=M,m===h&&(c++,m=0),y+=M,y===b&&(C++,y=0),m===0&&c!==0&&o[c-1].getWidth(h-1)===2&&(o[c].copyCellsFrom(o[c-1],h-1,m++,1,!1),o[c-1].setCell(h-1,v))}o[c].replaceCells(m,h,v);let E=0;for(let b=o.length-1;b>0&&(b>c||o[b].getTrimmedLength()===0);b--)E++;E>0&&(w.push(S+o.length-E),w.push(E)),S+=o.length-1}return w},i.reflowLargerCreateNewLayout=function(f,_){const h=[];let g=0,v=_[g],w=0;for(let S=0;S<f.length;S++)if(v===S){const u=_[++g];f.onDeleteEmitter.fire({index:S-w,amount:u}),S+=u-1,w+=u,v=_[++g]}else h.push(S);return{layout:h,countRemoved:w}},i.reflowLargerApplyNewLayout=function(f,_){const h=[];for(let g=0;g<_.length;g++)h.push(f.get(_[g]));for(let g=0;g<h.length;g++)f.set(g,h[g]);f.length=_.length},i.reflowSmallerGetNewLineLengths=function(f,_,h){const g=[],v=f.map((l,o)=>n(f,o,_)).reduce((l,o)=>l+o);let w=0,S=0,u=0;for(;u<v;){if(v-u<h){g.push(v-u);break}w+=h;const l=n(f,S,_);w>l&&(w-=l,S++);const o=f[S].getWidth(w-1)===2;o&&w--;const c=o?h-1:h;g.push(c),u+=c}return g},i.getWrappedLineTrimmedLength=n},5295:(p,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BufferSet=void 0;const f=n(8460),_=n(844),h=n(9092);class g extends _.Disposable{constructor(w,S){super(),this._optionsService=w,this._bufferService=S,this._onBufferActivate=this.register(new f.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new h.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new h.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(w){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(w),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(w,S){this._normal.resize(w,S),this._alt.resize(w,S),this.setupTabStops(w)}setupTabStops(w){this._normal.setupTabStops(w),this._alt.setupTabStops(w)}}i.BufferSet=g},511:(p,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CellData=void 0;const f=n(482),_=n(643),h=n(3734);class g extends h.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new h.ExtendedAttrs,this.combinedData=""}static fromCharData(w){const S=new g;return S.setFromCharData(w),S}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,f.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(w){this.fg=w[_.CHAR_DATA_ATTR_INDEX],this.bg=0;let S=!1;if(w[_.CHAR_DATA_CHAR_INDEX].length>2)S=!0;else if(w[_.CHAR_DATA_CHAR_INDEX].length===2){const u=w[_.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=u&&u<=56319){const l=w[_.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=l&&l<=57343?this.content=1024*(u-55296)+l-56320+65536|w[_.CHAR_DATA_WIDTH_INDEX]<<22:S=!0}else S=!0}else this.content=w[_.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|w[_.CHAR_DATA_WIDTH_INDEX]<<22;S&&(this.combinedData=w[_.CHAR_DATA_CHAR_INDEX],this.content=2097152|w[_.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}i.CellData=g},643:(p,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.WHITESPACE_CELL_CODE=i.WHITESPACE_CELL_WIDTH=i.WHITESPACE_CELL_CHAR=i.NULL_CELL_CODE=i.NULL_CELL_WIDTH=i.NULL_CELL_CHAR=i.CHAR_DATA_CODE_INDEX=i.CHAR_DATA_WIDTH_INDEX=i.CHAR_DATA_CHAR_INDEX=i.CHAR_DATA_ATTR_INDEX=i.DEFAULT_EXT=i.DEFAULT_ATTR=i.DEFAULT_COLOR=void 0,i.DEFAULT_COLOR=0,i.DEFAULT_ATTR=256|i.DEFAULT_COLOR<<9,i.DEFAULT_EXT=0,i.CHAR_DATA_ATTR_INDEX=0,i.CHAR_DATA_CHAR_INDEX=1,i.CHAR_DATA_WIDTH_INDEX=2,i.CHAR_DATA_CODE_INDEX=3,i.NULL_CELL_CHAR="",i.NULL_CELL_WIDTH=1,i.NULL_CELL_CODE=0,i.WHITESPACE_CELL_CHAR=" ",i.WHITESPACE_CELL_WIDTH=1,i.WHITESPACE_CELL_CODE=32},4863:(p,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Marker=void 0;const f=n(8460),_=n(844);class h{get id(){return this._id}constructor(v){this.line=v,this.isDisposed=!1,this._disposables=[],this._id=h._nextId++,this._onDispose=this.register(new f.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,_.disposeArray)(this._disposables),this._disposables.length=0)}register(v){return this._disposables.push(v),v}}i.Marker=h,h._nextId=1},7116:(p,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.DEFAULT_CHARSET=i.CHARSETS=void 0,i.CHARSETS={},i.DEFAULT_CHARSET=i.CHARSETS.B,i.CHARSETS[0]={"`":"◆",a:"▒",b:"␉",c:"␌",d:"␍",e:"␊",f:"°",g:"±",h:"␤",i:"␋",j:"┘",k:"┐",l:"┌",m:"└",n:"┼",o:"⎺",p:"⎻",q:"─",r:"⎼",s:"⎽",t:"├",u:"┤",v:"┴",w:"┬",x:"│",y:"≤",z:"≥","{":"π","|":"≠","}":"£","~":"·"},i.CHARSETS.A={"#":"£"},i.CHARSETS.B=void 0,i.CHARSETS[4]={"#":"£","@":"¾","[":"ij","\\":"½","]":"|","{":"¨","|":"f","}":"¼","~":"´"},i.CHARSETS.C=i.CHARSETS[5]={"[":"Ä","\\":"Ö","]":"Å","^":"Ü","`":"é","{":"ä","|":"ö","}":"å","~":"ü"},i.CHARSETS.R={"#":"£","@":"à","[":"°","\\":"ç","]":"§","{":"é","|":"ù","}":"è","~":"¨"},i.CHARSETS.Q={"@":"à","[":"â","\\":"ç","]":"ê","^":"î","`":"ô","{":"é","|":"ù","}":"è","~":"û"},i.CHARSETS.K={"@":"§","[":"Ä","\\":"Ö","]":"Ü","{":"ä","|":"ö","}":"ü","~":"ß"},i.CHARSETS.Y={"#":"£","@":"§","[":"°","\\":"ç","]":"é","`":"ù","{":"à","|":"ò","}":"è","~":"ì"},i.CHARSETS.E=i.CHARSETS[6]={"@":"Ä","[":"Æ","\\":"Ø","]":"Å","^":"Ü","`":"ä","{":"æ","|":"ø","}":"å","~":"ü"},i.CHARSETS.Z={"#":"£","@":"§","[":"¡","\\":"Ñ","]":"¿","{":"°","|":"ñ","}":"ç"},i.CHARSETS.H=i.CHARSETS[7]={"@":"É","[":"Ä","\\":"Ö","]":"Å","^":"Ü","`":"é","{":"ä","|":"ö","}":"å","~":"ü"},i.CHARSETS["="]={"#":"ù","@":"à","[":"é","\\":"ç","]":"ê","^":"î",_:"è","`":"ô","{":"ä","|":"ö","}":"ü","~":"û"}},2584:(p,i)=>{var n,f,_;Object.defineProperty(i,"__esModule",{value:!0}),i.C1_ESCAPED=i.C1=i.C0=void 0,function(h){h.NUL="\0",h.SOH="",h.STX="",h.ETX="",h.EOT="",h.ENQ="",h.ACK="",h.BEL="\x07",h.BS="\b",h.HT="	",h.LF=`
`,h.VT="\v",h.FF="\f",h.CR="\r",h.SO="",h.SI="",h.DLE="",h.DC1="",h.DC2="",h.DC3="",h.DC4="",h.NAK="",h.SYN="",h.ETB="",h.CAN="",h.EM="",h.SUB="",h.ESC="\x1B",h.FS="",h.GS="",h.RS="",h.US="",h.SP=" ",h.DEL=""}(n||(i.C0=n={})),function(h){h.PAD="",h.HOP="",h.BPH="",h.NBH="",h.IND="",h.NEL="",h.SSA="",h.ESA="",h.HTS="",h.HTJ="",h.VTS="",h.PLD="",h.PLU="",h.RI="",h.SS2="",h.SS3="",h.DCS="",h.PU1="",h.PU2="",h.STS="",h.CCH="",h.MW="",h.SPA="",h.EPA="",h.SOS="",h.SGCI="",h.SCI="",h.CSI="",h.ST="",h.OSC="",h.PM="",h.APC=""}(f||(i.C1=f={})),function(h){h.ST=`${n.ESC}\\`}(_||(i.C1_ESCAPED=_={}))},7399:(p,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.evaluateKeyboardEvent=void 0;const f=n(2584),_={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};i.evaluateKeyboardEvent=function(h,g,v,w){const S={type:0,cancel:!1,key:void 0},u=(h.shiftKey?1:0)|(h.altKey?2:0)|(h.ctrlKey?4:0)|(h.metaKey?8:0);switch(h.keyCode){case 0:h.key==="UIKeyInputUpArrow"?S.key=g?f.C0.ESC+"OA":f.C0.ESC+"[A":h.key==="UIKeyInputLeftArrow"?S.key=g?f.C0.ESC+"OD":f.C0.ESC+"[D":h.key==="UIKeyInputRightArrow"?S.key=g?f.C0.ESC+"OC":f.C0.ESC+"[C":h.key==="UIKeyInputDownArrow"&&(S.key=g?f.C0.ESC+"OB":f.C0.ESC+"[B");break;case 8:S.key=h.ctrlKey?"\b":f.C0.DEL,h.altKey&&(S.key=f.C0.ESC+S.key);break;case 9:if(h.shiftKey){S.key=f.C0.ESC+"[Z";break}S.key=f.C0.HT,S.cancel=!0;break;case 13:S.key=h.altKey?f.C0.ESC+f.C0.CR:f.C0.CR,S.cancel=!0;break;case 27:S.key=f.C0.ESC,h.altKey&&(S.key=f.C0.ESC+f.C0.ESC),S.cancel=!0;break;case 37:if(h.metaKey)break;u?(S.key=f.C0.ESC+"[1;"+(u+1)+"D",S.key===f.C0.ESC+"[1;3D"&&(S.key=f.C0.ESC+(v?"b":"[1;5D"))):S.key=g?f.C0.ESC+"OD":f.C0.ESC+"[D";break;case 39:if(h.metaKey)break;u?(S.key=f.C0.ESC+"[1;"+(u+1)+"C",S.key===f.C0.ESC+"[1;3C"&&(S.key=f.C0.ESC+(v?"f":"[1;5C"))):S.key=g?f.C0.ESC+"OC":f.C0.ESC+"[C";break;case 38:if(h.metaKey)break;u?(S.key=f.C0.ESC+"[1;"+(u+1)+"A",v||S.key!==f.C0.ESC+"[1;3A"||(S.key=f.C0.ESC+"[1;5A")):S.key=g?f.C0.ESC+"OA":f.C0.ESC+"[A";break;case 40:if(h.metaKey)break;u?(S.key=f.C0.ESC+"[1;"+(u+1)+"B",v||S.key!==f.C0.ESC+"[1;3B"||(S.key=f.C0.ESC+"[1;5B")):S.key=g?f.C0.ESC+"OB":f.C0.ESC+"[B";break;case 45:h.shiftKey||h.ctrlKey||(S.key=f.C0.ESC+"[2~");break;case 46:S.key=u?f.C0.ESC+"[3;"+(u+1)+"~":f.C0.ESC+"[3~";break;case 36:S.key=u?f.C0.ESC+"[1;"+(u+1)+"H":g?f.C0.ESC+"OH":f.C0.ESC+"[H";break;case 35:S.key=u?f.C0.ESC+"[1;"+(u+1)+"F":g?f.C0.ESC+"OF":f.C0.ESC+"[F";break;case 33:h.shiftKey?S.type=2:h.ctrlKey?S.key=f.C0.ESC+"[5;"+(u+1)+"~":S.key=f.C0.ESC+"[5~";break;case 34:h.shiftKey?S.type=3:h.ctrlKey?S.key=f.C0.ESC+"[6;"+(u+1)+"~":S.key=f.C0.ESC+"[6~";break;case 112:S.key=u?f.C0.ESC+"[1;"+(u+1)+"P":f.C0.ESC+"OP";break;case 113:S.key=u?f.C0.ESC+"[1;"+(u+1)+"Q":f.C0.ESC+"OQ";break;case 114:S.key=u?f.C0.ESC+"[1;"+(u+1)+"R":f.C0.ESC+"OR";break;case 115:S.key=u?f.C0.ESC+"[1;"+(u+1)+"S":f.C0.ESC+"OS";break;case 116:S.key=u?f.C0.ESC+"[15;"+(u+1)+"~":f.C0.ESC+"[15~";break;case 117:S.key=u?f.C0.ESC+"[17;"+(u+1)+"~":f.C0.ESC+"[17~";break;case 118:S.key=u?f.C0.ESC+"[18;"+(u+1)+"~":f.C0.ESC+"[18~";break;case 119:S.key=u?f.C0.ESC+"[19;"+(u+1)+"~":f.C0.ESC+"[19~";break;case 120:S.key=u?f.C0.ESC+"[20;"+(u+1)+"~":f.C0.ESC+"[20~";break;case 121:S.key=u?f.C0.ESC+"[21;"+(u+1)+"~":f.C0.ESC+"[21~";break;case 122:S.key=u?f.C0.ESC+"[23;"+(u+1)+"~":f.C0.ESC+"[23~";break;case 123:S.key=u?f.C0.ESC+"[24;"+(u+1)+"~":f.C0.ESC+"[24~";break;default:if(!h.ctrlKey||h.shiftKey||h.altKey||h.metaKey)if(v&&!w||!h.altKey||h.metaKey)!v||h.altKey||h.ctrlKey||h.shiftKey||!h.metaKey?h.key&&!h.ctrlKey&&!h.altKey&&!h.metaKey&&h.keyCode>=48&&h.key.length===1?S.key=h.key:h.key&&h.ctrlKey&&(h.key==="_"&&(S.key=f.C0.US),h.key==="@"&&(S.key=f.C0.NUL)):h.keyCode===65&&(S.type=1);else{const l=_[h.keyCode],o=l==null?void 0:l[h.shiftKey?1:0];if(o)S.key=f.C0.ESC+o;else if(h.keyCode>=65&&h.keyCode<=90){const c=h.ctrlKey?h.keyCode-64:h.keyCode+32;let m=String.fromCharCode(c);h.shiftKey&&(m=m.toUpperCase()),S.key=f.C0.ESC+m}else if(h.keyCode===32)S.key=f.C0.ESC+(h.ctrlKey?f.C0.NUL:" ");else if(h.key==="Dead"&&h.code.startsWith("Key")){let c=h.code.slice(3,4);h.shiftKey||(c=c.toLowerCase()),S.key=f.C0.ESC+c,S.cancel=!0}}else h.keyCode>=65&&h.keyCode<=90?S.key=String.fromCharCode(h.keyCode-64):h.keyCode===32?S.key=f.C0.NUL:h.keyCode>=51&&h.keyCode<=55?S.key=String.fromCharCode(h.keyCode-51+27):h.keyCode===56?S.key=f.C0.DEL:h.keyCode===219?S.key=f.C0.ESC:h.keyCode===220?S.key=f.C0.FS:h.keyCode===221&&(S.key=f.C0.GS)}return S}},482:(p,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Utf8ToUtf32=i.StringToUtf32=i.utf32ToString=i.stringFromCodePoint=void 0,i.stringFromCodePoint=function(n){return n>65535?(n-=65536,String.fromCharCode(55296+(n>>10))+String.fromCharCode(n%1024+56320)):String.fromCharCode(n)},i.utf32ToString=function(n,f=0,_=n.length){let h="";for(let g=f;g<_;++g){let v=n[g];v>65535?(v-=65536,h+=String.fromCharCode(55296+(v>>10))+String.fromCharCode(v%1024+56320)):h+=String.fromCharCode(v)}return h},i.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(n,f){const _=n.length;if(!_)return 0;let h=0,g=0;if(this._interim){const v=n.charCodeAt(g++);56320<=v&&v<=57343?f[h++]=1024*(this._interim-55296)+v-56320+65536:(f[h++]=this._interim,f[h++]=v),this._interim=0}for(let v=g;v<_;++v){const w=n.charCodeAt(v);if(55296<=w&&w<=56319){if(++v>=_)return this._interim=w,h;const S=n.charCodeAt(v);56320<=S&&S<=57343?f[h++]=1024*(w-55296)+S-56320+65536:(f[h++]=w,f[h++]=S)}else w!==65279&&(f[h++]=w)}return h}},i.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(n,f){const _=n.length;if(!_)return 0;let h,g,v,w,S=0,u=0,l=0;if(this.interim[0]){let m=!1,C=this.interim[0];C&=(224&C)==192?31:(240&C)==224?15:7;let y,E=0;for(;(y=63&this.interim[++E])&&E<4;)C<<=6,C|=y;const b=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,L=b-E;for(;l<L;){if(l>=_)return 0;if(y=n[l++],(192&y)!=128){l--,m=!0;break}this.interim[E++]=y,C<<=6,C|=63&y}m||(b===2?C<128?l--:f[S++]=C:b===3?C<2048||C>=55296&&C<=57343||C===65279||(f[S++]=C):C<65536||C>1114111||(f[S++]=C)),this.interim.fill(0)}const o=_-4;let c=l;for(;c<_;){for(;!(!(c<o)||128&(h=n[c])||128&(g=n[c+1])||128&(v=n[c+2])||128&(w=n[c+3]));)f[S++]=h,f[S++]=g,f[S++]=v,f[S++]=w,c+=4;if(h=n[c++],h<128)f[S++]=h;else if((224&h)==192){if(c>=_)return this.interim[0]=h,S;if(g=n[c++],(192&g)!=128){c--;continue}if(u=(31&h)<<6|63&g,u<128){c--;continue}f[S++]=u}else if((240&h)==224){if(c>=_)return this.interim[0]=h,S;if(g=n[c++],(192&g)!=128){c--;continue}if(c>=_)return this.interim[0]=h,this.interim[1]=g,S;if(v=n[c++],(192&v)!=128){c--;continue}if(u=(15&h)<<12|(63&g)<<6|63&v,u<2048||u>=55296&&u<=57343||u===65279)continue;f[S++]=u}else if((248&h)==240){if(c>=_)return this.interim[0]=h,S;if(g=n[c++],(192&g)!=128){c--;continue}if(c>=_)return this.interim[0]=h,this.interim[1]=g,S;if(v=n[c++],(192&v)!=128){c--;continue}if(c>=_)return this.interim[0]=h,this.interim[1]=g,this.interim[2]=v,S;if(w=n[c++],(192&w)!=128){c--;continue}if(u=(7&h)<<18|(63&g)<<12|(63&v)<<6|63&w,u<65536||u>1114111)continue;f[S++]=u}}return S}}},225:(p,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.UnicodeV6=void 0;const f=n(1480),_=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],h=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let g;i.UnicodeV6=class{constructor(){if(this.version="6",!g){g=new Uint8Array(65536),g.fill(1),g[0]=0,g.fill(0,1,32),g.fill(0,127,160),g.fill(2,4352,4448),g[9001]=2,g[9002]=2,g.fill(2,11904,42192),g[12351]=1,g.fill(2,44032,55204),g.fill(2,63744,64256),g.fill(2,65040,65050),g.fill(2,65072,65136),g.fill(2,65280,65377),g.fill(2,65504,65511);for(let v=0;v<_.length;++v)g.fill(0,_[v][0],_[v][1]+1)}}wcwidth(v){return v<32?0:v<127?1:v<65536?g[v]:function(w,S){let u,l=0,o=S.length-1;if(w<S[0][0]||w>S[o][1])return!1;for(;o>=l;)if(u=l+o>>1,w>S[u][1])l=u+1;else{if(!(w<S[u][0]))return!0;o=u-1}return!1}(v,h)?0:v>=131072&&v<=196605||v>=196608&&v<=262141?2:1}charProperties(v,w){let S=this.wcwidth(v),u=S===0&&w!==0;if(u){const l=f.UnicodeService.extractWidth(w);l===0?u=!1:l>S&&(S=l)}return f.UnicodeService.createPropertyValue(0,S,u)}}},5981:(p,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.WriteBuffer=void 0;const f=n(8460),_=n(844);class h extends _.Disposable{constructor(v){super(),this._action=v,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new f.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(v,w){if(w!==void 0&&this._syncCalls>w)return void(this._syncCalls=0);if(this._pendingData+=v.length,this._writeBuffer.push(v),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let S;for(this._isSyncWriting=!0;S=this._writeBuffer.shift();){this._action(S);const u=this._callbacks.shift();u&&u()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(v,w){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=v.length,this._writeBuffer.push(v),this._callbacks.push(w),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=v.length,this._writeBuffer.push(v),this._callbacks.push(w)}_innerWrite(v=0,w=!0){const S=v||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const u=this._writeBuffer[this._bufferOffset],l=this._action(u,w);if(l){const c=m=>Date.now()-S>=12?setTimeout(()=>this._innerWrite(0,m)):this._innerWrite(S,m);return void l.catch(m=>(queueMicrotask(()=>{throw m}),Promise.resolve(!1))).then(c)}const o=this._callbacks[this._bufferOffset];if(o&&o(),this._bufferOffset++,this._pendingData-=u.length,Date.now()-S>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}i.WriteBuffer=h},5941:(p,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.toRgbString=i.parseColor=void 0;const n=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,f=/^[\da-f]+$/;function _(h,g){const v=h.toString(16),w=v.length<2?"0"+v:v;switch(g){case 4:return v[0];case 8:return w;case 12:return(w+w).slice(0,3);default:return w+w}}i.parseColor=function(h){if(!h)return;let g=h.toLowerCase();if(g.indexOf("rgb:")===0){g=g.slice(4);const v=n.exec(g);if(v){const w=v[1]?15:v[4]?255:v[7]?4095:65535;return[Math.round(parseInt(v[1]||v[4]||v[7]||v[10],16)/w*255),Math.round(parseInt(v[2]||v[5]||v[8]||v[11],16)/w*255),Math.round(parseInt(v[3]||v[6]||v[9]||v[12],16)/w*255)]}}else if(g.indexOf("#")===0&&(g=g.slice(1),f.exec(g)&&[3,6,9,12].includes(g.length))){const v=g.length/3,w=[0,0,0];for(let S=0;S<3;++S){const u=parseInt(g.slice(v*S,v*S+v),16);w[S]=v===1?u<<4:v===2?u:v===3?u>>4:u>>8}return w}},i.toRgbString=function(h,g=16){const[v,w,S]=h;return`rgb:${_(v,g)}/${_(w,g)}/${_(S,g)}`}},5770:(p,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PAYLOAD_LIMIT=void 0,i.PAYLOAD_LIMIT=1e7},6351:(p,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.DcsHandler=i.DcsParser=void 0;const f=n(482),_=n(8742),h=n(5770),g=[];i.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=g,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=g}registerHandler(w,S){this._handlers[w]===void 0&&(this._handlers[w]=[]);const u=this._handlers[w];return u.push(S),{dispose:()=>{const l=u.indexOf(S);l!==-1&&u.splice(l,1)}}}clearHandler(w){this._handlers[w]&&delete this._handlers[w]}setHandlerFallback(w){this._handlerFb=w}reset(){if(this._active.length)for(let w=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;w>=0;--w)this._active[w].unhook(!1);this._stack.paused=!1,this._active=g,this._ident=0}hook(w,S){if(this.reset(),this._ident=w,this._active=this._handlers[w]||g,this._active.length)for(let u=this._active.length-1;u>=0;u--)this._active[u].hook(S);else this._handlerFb(this._ident,"HOOK",S)}put(w,S,u){if(this._active.length)for(let l=this._active.length-1;l>=0;l--)this._active[l].put(w,S,u);else this._handlerFb(this._ident,"PUT",(0,f.utf32ToString)(w,S,u))}unhook(w,S=!0){if(this._active.length){let u=!1,l=this._active.length-1,o=!1;if(this._stack.paused&&(l=this._stack.loopPosition-1,u=S,o=this._stack.fallThrough,this._stack.paused=!1),!o&&u===!1){for(;l>=0&&(u=this._active[l].unhook(w),u!==!0);l--)if(u instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=l,this._stack.fallThrough=!1,u;l--}for(;l>=0;l--)if(u=this._active[l].unhook(!1),u instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=l,this._stack.fallThrough=!0,u}else this._handlerFb(this._ident,"UNHOOK",w);this._active=g,this._ident=0}};const v=new _.Params;v.addParam(0),i.DcsHandler=class{constructor(w){this._handler=w,this._data="",this._params=v,this._hitLimit=!1}hook(w){this._params=w.length>1||w.params[0]?w.clone():v,this._data="",this._hitLimit=!1}put(w,S,u){this._hitLimit||(this._data+=(0,f.utf32ToString)(w,S,u),this._data.length>h.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(w){let S=!1;if(this._hitLimit)S=!1;else if(w&&(S=this._handler(this._data,this._params),S instanceof Promise))return S.then(u=>(this._params=v,this._data="",this._hitLimit=!1,u));return this._params=v,this._data="",this._hitLimit=!1,S}}},2015:(p,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.EscapeSequenceParser=i.VT500_TRANSITION_TABLE=i.TransitionTable=void 0;const f=n(844),_=n(8742),h=n(6242),g=n(6351);class v{constructor(l){this.table=new Uint8Array(l)}setDefault(l,o){this.table.fill(l<<4|o)}add(l,o,c,m){this.table[o<<8|l]=c<<4|m}addMany(l,o,c,m){for(let C=0;C<l.length;C++)this.table[o<<8|l[C]]=c<<4|m}}i.TransitionTable=v;const w=160;i.VT500_TRANSITION_TABLE=function(){const u=new v(4095),l=Array.apply(null,Array(256)).map((E,b)=>b),o=(E,b)=>l.slice(E,b),c=o(32,127),m=o(0,24);m.push(25),m.push.apply(m,o(28,32));const C=o(0,14);let y;for(y in u.setDefault(1,0),u.addMany(c,0,2,0),C)u.addMany([24,26,153,154],y,3,0),u.addMany(o(128,144),y,3,0),u.addMany(o(144,152),y,3,0),u.add(156,y,0,0),u.add(27,y,11,1),u.add(157,y,4,8),u.addMany([152,158,159],y,0,7),u.add(155,y,11,3),u.add(144,y,11,9);return u.addMany(m,0,3,0),u.addMany(m,1,3,1),u.add(127,1,0,1),u.addMany(m,8,0,8),u.addMany(m,3,3,3),u.add(127,3,0,3),u.addMany(m,4,3,4),u.add(127,4,0,4),u.addMany(m,6,3,6),u.addMany(m,5,3,5),u.add(127,5,0,5),u.addMany(m,2,3,2),u.add(127,2,0,2),u.add(93,1,4,8),u.addMany(c,8,5,8),u.add(127,8,5,8),u.addMany([156,27,24,26,7],8,6,0),u.addMany(o(28,32),8,0,8),u.addMany([88,94,95],1,0,7),u.addMany(c,7,0,7),u.addMany(m,7,0,7),u.add(156,7,0,0),u.add(127,7,0,7),u.add(91,1,11,3),u.addMany(o(64,127),3,7,0),u.addMany(o(48,60),3,8,4),u.addMany([60,61,62,63],3,9,4),u.addMany(o(48,60),4,8,4),u.addMany(o(64,127),4,7,0),u.addMany([60,61,62,63],4,0,6),u.addMany(o(32,64),6,0,6),u.add(127,6,0,6),u.addMany(o(64,127),6,0,0),u.addMany(o(32,48),3,9,5),u.addMany(o(32,48),5,9,5),u.addMany(o(48,64),5,0,6),u.addMany(o(64,127),5,7,0),u.addMany(o(32,48),4,9,5),u.addMany(o(32,48),1,9,2),u.addMany(o(32,48),2,9,2),u.addMany(o(48,127),2,10,0),u.addMany(o(48,80),1,10,0),u.addMany(o(81,88),1,10,0),u.addMany([89,90,92],1,10,0),u.addMany(o(96,127),1,10,0),u.add(80,1,11,9),u.addMany(m,9,0,9),u.add(127,9,0,9),u.addMany(o(28,32),9,0,9),u.addMany(o(32,48),9,9,12),u.addMany(o(48,60),9,8,10),u.addMany([60,61,62,63],9,9,10),u.addMany(m,11,0,11),u.addMany(o(32,128),11,0,11),u.addMany(o(28,32),11,0,11),u.addMany(m,10,0,10),u.add(127,10,0,10),u.addMany(o(28,32),10,0,10),u.addMany(o(48,60),10,8,10),u.addMany([60,61,62,63],10,0,11),u.addMany(o(32,48),10,9,12),u.addMany(m,12,0,12),u.add(127,12,0,12),u.addMany(o(28,32),12,0,12),u.addMany(o(32,48),12,9,12),u.addMany(o(48,64),12,0,11),u.addMany(o(64,127),12,12,13),u.addMany(o(64,127),10,12,13),u.addMany(o(64,127),9,12,13),u.addMany(m,13,13,13),u.addMany(c,13,13,13),u.add(127,13,0,13),u.addMany([27,156,24,26],13,14,0),u.add(w,0,2,0),u.add(w,8,5,8),u.add(w,6,0,6),u.add(w,11,0,11),u.add(w,13,13,13),u}();class S extends f.Disposable{constructor(l=i.VT500_TRANSITION_TABLE){super(),this._transitions=l,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new _.Params,this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._printHandlerFb=(o,c,m)=>{},this._executeHandlerFb=o=>{},this._csiHandlerFb=(o,c)=>{},this._escHandlerFb=o=>{},this._errorHandlerFb=o=>o,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,f.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new h.OscParser),this._dcsParser=this.register(new g.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(l,o=[64,126]){let c=0;if(l.prefix){if(l.prefix.length>1)throw new Error("only one byte as prefix supported");if(c=l.prefix.charCodeAt(0),c&&60>c||c>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(l.intermediates){if(l.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let C=0;C<l.intermediates.length;++C){const y=l.intermediates.charCodeAt(C);if(32>y||y>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");c<<=8,c|=y}}if(l.final.length!==1)throw new Error("final must be a single byte");const m=l.final.charCodeAt(0);if(o[0]>m||m>o[1])throw new Error(`final must be in range ${o[0]} .. ${o[1]}`);return c<<=8,c|=m,c}identToString(l){const o=[];for(;l;)o.push(String.fromCharCode(255&l)),l>>=8;return o.reverse().join("")}setPrintHandler(l){this._printHandler=l}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(l,o){const c=this._identifier(l,[48,126]);this._escHandlers[c]===void 0&&(this._escHandlers[c]=[]);const m=this._escHandlers[c];return m.push(o),{dispose:()=>{const C=m.indexOf(o);C!==-1&&m.splice(C,1)}}}clearEscHandler(l){this._escHandlers[this._identifier(l,[48,126])]&&delete this._escHandlers[this._identifier(l,[48,126])]}setEscHandlerFallback(l){this._escHandlerFb=l}setExecuteHandler(l,o){this._executeHandlers[l.charCodeAt(0)]=o}clearExecuteHandler(l){this._executeHandlers[l.charCodeAt(0)]&&delete this._executeHandlers[l.charCodeAt(0)]}setExecuteHandlerFallback(l){this._executeHandlerFb=l}registerCsiHandler(l,o){const c=this._identifier(l);this._csiHandlers[c]===void 0&&(this._csiHandlers[c]=[]);const m=this._csiHandlers[c];return m.push(o),{dispose:()=>{const C=m.indexOf(o);C!==-1&&m.splice(C,1)}}}clearCsiHandler(l){this._csiHandlers[this._identifier(l)]&&delete this._csiHandlers[this._identifier(l)]}setCsiHandlerFallback(l){this._csiHandlerFb=l}registerDcsHandler(l,o){return this._dcsParser.registerHandler(this._identifier(l),o)}clearDcsHandler(l){this._dcsParser.clearHandler(this._identifier(l))}setDcsHandlerFallback(l){this._dcsParser.setHandlerFallback(l)}registerOscHandler(l,o){return this._oscParser.registerHandler(l,o)}clearOscHandler(l){this._oscParser.clearHandler(l)}setOscHandlerFallback(l){this._oscParser.setHandlerFallback(l)}setErrorHandler(l){this._errorHandler=l}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(l,o,c,m,C){this._parseStack.state=l,this._parseStack.handlers=o,this._parseStack.handlerPos=c,this._parseStack.transition=m,this._parseStack.chunkPos=C}parse(l,o,c){let m,C=0,y=0,E=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,E=this._parseStack.chunkPos+1;else{if(c===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const b=this._parseStack.handlers;let L=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(c===!1&&L>-1){for(;L>=0&&(m=b[L](this._params),m!==!0);L--)if(m instanceof Promise)return this._parseStack.handlerPos=L,m}this._parseStack.handlers=[];break;case 4:if(c===!1&&L>-1){for(;L>=0&&(m=b[L](),m!==!0);L--)if(m instanceof Promise)return this._parseStack.handlerPos=L,m}this._parseStack.handlers=[];break;case 6:if(C=l[this._parseStack.chunkPos],m=this._dcsParser.unhook(C!==24&&C!==26,c),m)return m;C===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(C=l[this._parseStack.chunkPos],m=this._oscParser.end(C!==24&&C!==26,c),m)return m;C===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,E=this._parseStack.chunkPos+1,this.precedingJoinState=0,this.currentState=15&this._parseStack.transition}for(let b=E;b<o;++b){switch(C=l[b],y=this._transitions.table[this.currentState<<8|(C<160?C:w)],y>>4){case 2:for(let D=b+1;;++D){if(D>=o||(C=l[D])<32||C>126&&C<w){this._printHandler(l,b,D),b=D-1;break}if(++D>=o||(C=l[D])<32||C>126&&C<w){this._printHandler(l,b,D),b=D-1;break}if(++D>=o||(C=l[D])<32||C>126&&C<w){this._printHandler(l,b,D),b=D-1;break}if(++D>=o||(C=l[D])<32||C>126&&C<w){this._printHandler(l,b,D),b=D-1;break}}break;case 3:this._executeHandlers[C]?this._executeHandlers[C]():this._executeHandlerFb(C),this.precedingJoinState=0;break;case 0:break;case 1:if(this._errorHandler({position:b,code:C,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const L=this._csiHandlers[this._collect<<8|C];let T=L?L.length-1:-1;for(;T>=0&&(m=L[T](this._params),m!==!0);T--)if(m instanceof Promise)return this._preserveStack(3,L,T,y,b),m;T<0&&this._csiHandlerFb(this._collect<<8|C,this._params),this.precedingJoinState=0;break;case 8:do switch(C){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(C-48)}while(++b<o&&(C=l[b])>47&&C<60);b--;break;case 9:this._collect<<=8,this._collect|=C;break;case 10:const M=this._escHandlers[this._collect<<8|C];let O=M?M.length-1:-1;for(;O>=0&&(m=M[O](),m!==!0);O--)if(m instanceof Promise)return this._preserveStack(4,M,O,y,b),m;O<0&&this._escHandlerFb(this._collect<<8|C),this.precedingJoinState=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|C,this._params);break;case 13:for(let D=b+1;;++D)if(D>=o||(C=l[D])===24||C===26||C===27||C>127&&C<w){this._dcsParser.put(l,b,D),b=D-1;break}break;case 14:if(m=this._dcsParser.unhook(C!==24&&C!==26),m)return this._preserveStack(6,[],0,y,b),m;C===27&&(y|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0;break;case 4:this._oscParser.start();break;case 5:for(let D=b+1;;D++)if(D>=o||(C=l[D])<32||C>127&&C<w){this._oscParser.put(l,b,D),b=D-1;break}break;case 6:if(m=this._oscParser.end(C!==24&&C!==26),m)return this._preserveStack(5,[],0,y,b),m;C===27&&(y|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0}this.currentState=15&y}}}i.EscapeSequenceParser=S},6242:(p,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.OscHandler=i.OscParser=void 0;const f=n(5770),_=n(482),h=[];i.OscParser=class{constructor(){this._state=0,this._active=h,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(g,v){this._handlers[g]===void 0&&(this._handlers[g]=[]);const w=this._handlers[g];return w.push(v),{dispose:()=>{const S=w.indexOf(v);S!==-1&&w.splice(S,1)}}}clearHandler(g){this._handlers[g]&&delete this._handlers[g]}setHandlerFallback(g){this._handlerFb=g}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=h}reset(){if(this._state===2)for(let g=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;g>=0;--g)this._active[g].end(!1);this._stack.paused=!1,this._active=h,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||h,this._active.length)for(let g=this._active.length-1;g>=0;g--)this._active[g].start();else this._handlerFb(this._id,"START")}_put(g,v,w){if(this._active.length)for(let S=this._active.length-1;S>=0;S--)this._active[S].put(g,v,w);else this._handlerFb(this._id,"PUT",(0,_.utf32ToString)(g,v,w))}start(){this.reset(),this._state=1}put(g,v,w){if(this._state!==3){if(this._state===1)for(;v<w;){const S=g[v++];if(S===59){this._state=2,this._start();break}if(S<48||57<S)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+S-48}this._state===2&&w-v>0&&this._put(g,v,w)}}end(g,v=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let w=!1,S=this._active.length-1,u=!1;if(this._stack.paused&&(S=this._stack.loopPosition-1,w=v,u=this._stack.fallThrough,this._stack.paused=!1),!u&&w===!1){for(;S>=0&&(w=this._active[S].end(g),w!==!0);S--)if(w instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=S,this._stack.fallThrough=!1,w;S--}for(;S>=0;S--)if(w=this._active[S].end(!1),w instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=S,this._stack.fallThrough=!0,w}else this._handlerFb(this._id,"END",g);this._active=h,this._id=-1,this._state=0}}},i.OscHandler=class{constructor(g){this._handler=g,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(g,v,w){this._hitLimit||(this._data+=(0,_.utf32ToString)(g,v,w),this._data.length>f.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(g){let v=!1;if(this._hitLimit)v=!1;else if(g&&(v=this._handler(this._data),v instanceof Promise))return v.then(w=>(this._data="",this._hitLimit=!1,w));return this._data="",this._hitLimit=!1,v}}},8742:(p,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Params=void 0;const n=2147483647;class f{static fromArray(h){const g=new f;if(!h.length)return g;for(let v=Array.isArray(h[0])?1:0;v<h.length;++v){const w=h[v];if(Array.isArray(w))for(let S=0;S<w.length;++S)g.addSubParam(w[S]);else g.addParam(w)}return g}constructor(h=32,g=32){if(this.maxLength=h,this.maxSubParamsLength=g,g>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(h),this.length=0,this._subParams=new Int32Array(g),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(h),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const h=new f(this.maxLength,this.maxSubParamsLength);return h.params.set(this.params),h.length=this.length,h._subParams.set(this._subParams),h._subParamsLength=this._subParamsLength,h._subParamsIdx.set(this._subParamsIdx),h._rejectDigits=this._rejectDigits,h._rejectSubDigits=this._rejectSubDigits,h._digitIsSub=this._digitIsSub,h}toArray(){const h=[];for(let g=0;g<this.length;++g){h.push(this.params[g]);const v=this._subParamsIdx[g]>>8,w=255&this._subParamsIdx[g];w-v>0&&h.push(Array.prototype.slice.call(this._subParams,v,w))}return h}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(h){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(h<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=h>n?n:h}}addSubParam(h){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(h<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=h>n?n:h,this._subParamsIdx[this.length-1]++}}hasSubParams(h){return(255&this._subParamsIdx[h])-(this._subParamsIdx[h]>>8)>0}getSubParams(h){const g=this._subParamsIdx[h]>>8,v=255&this._subParamsIdx[h];return v-g>0?this._subParams.subarray(g,v):null}getSubParamsAll(){const h={};for(let g=0;g<this.length;++g){const v=this._subParamsIdx[g]>>8,w=255&this._subParamsIdx[g];w-v>0&&(h[g]=this._subParams.slice(v,w))}return h}addDigit(h){let g;if(this._rejectDigits||!(g=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const v=this._digitIsSub?this._subParams:this.params,w=v[g-1];v[g-1]=~w?Math.min(10*w+h,n):h}}i.Params=f},5741:(p,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.AddonManager=void 0,i.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let n=this._addons.length-1;n>=0;n--)this._addons[n].instance.dispose()}loadAddon(n,f){const _={instance:f,dispose:f.dispose,isDisposed:!1};this._addons.push(_),f.dispose=()=>this._wrappedAddonDispose(_),f.activate(n)}_wrappedAddonDispose(n){if(n.isDisposed)return;let f=-1;for(let _=0;_<this._addons.length;_++)if(this._addons[_]===n){f=_;break}if(f===-1)throw new Error("Could not dispose an addon that has not been loaded");n.isDisposed=!0,n.dispose.apply(n.instance),this._addons.splice(f,1)}}},8771:(p,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BufferApiView=void 0;const f=n(3785),_=n(511);i.BufferApiView=class{constructor(h,g){this._buffer=h,this.type=g}init(h){return this._buffer=h,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(h){const g=this._buffer.lines.get(h);if(g)return new f.BufferLineApiView(g)}getNullCell(){return new _.CellData}}},3785:(p,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BufferLineApiView=void 0;const f=n(511);i.BufferLineApiView=class{constructor(_){this._line=_}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(_,h){if(!(_<0||_>=this._line.length))return h?(this._line.loadCell(_,h),h):this._line.loadCell(_,new f.CellData)}translateToString(_,h,g){return this._line.translateToString(_,h,g)}}},8285:(p,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BufferNamespaceApi=void 0;const f=n(8771),_=n(8460),h=n(844);class g extends h.Disposable{constructor(w){super(),this._core=w,this._onBufferChange=this.register(new _.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new f.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new f.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}i.BufferNamespaceApi=g},7975:(p,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ParserApi=void 0,i.ParserApi=class{constructor(n){this._core=n}registerCsiHandler(n,f){return this._core.registerCsiHandler(n,_=>f(_.toArray()))}addCsiHandler(n,f){return this.registerCsiHandler(n,f)}registerDcsHandler(n,f){return this._core.registerDcsHandler(n,(_,h)=>f(_,h.toArray()))}addDcsHandler(n,f){return this.registerDcsHandler(n,f)}registerEscHandler(n,f){return this._core.registerEscHandler(n,f)}addEscHandler(n,f){return this.registerEscHandler(n,f)}registerOscHandler(n,f){return this._core.registerOscHandler(n,f)}addOscHandler(n,f){return this.registerOscHandler(n,f)}}},7090:(p,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.UnicodeApi=void 0,i.UnicodeApi=class{constructor(n){this._core=n}register(n){this._core.unicodeService.register(n)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(n){this._core.unicodeService.activeVersion=n}}},744:function(p,i,n){var f=this&&this.__decorate||function(u,l,o,c){var m,C=arguments.length,y=C<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,o):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(u,l,o,c);else for(var E=u.length-1;E>=0;E--)(m=u[E])&&(y=(C<3?m(y):C>3?m(l,o,y):m(l,o))||y);return C>3&&y&&Object.defineProperty(l,o,y),y},_=this&&this.__param||function(u,l){return function(o,c){l(o,c,u)}};Object.defineProperty(i,"__esModule",{value:!0}),i.BufferService=i.MINIMUM_ROWS=i.MINIMUM_COLS=void 0;const h=n(8460),g=n(844),v=n(5295),w=n(2585);i.MINIMUM_COLS=2,i.MINIMUM_ROWS=1;let S=i.BufferService=class extends g.Disposable{get buffer(){return this.buffers.active}constructor(u){super(),this.isUserScrolling=!1,this._onResize=this.register(new h.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new h.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(u.rawOptions.cols||0,i.MINIMUM_COLS),this.rows=Math.max(u.rawOptions.rows||0,i.MINIMUM_ROWS),this.buffers=this.register(new v.BufferSet(u,this))}resize(u,l){this.cols=u,this.rows=l,this.buffers.resize(u,l),this._onResize.fire({cols:u,rows:l})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(u,l=!1){const o=this.buffer;let c;c=this._cachedBlankLine,c&&c.length===this.cols&&c.getFg(0)===u.fg&&c.getBg(0)===u.bg||(c=o.getBlankLine(u,l),this._cachedBlankLine=c),c.isWrapped=l;const m=o.ybase+o.scrollTop,C=o.ybase+o.scrollBottom;if(o.scrollTop===0){const y=o.lines.isFull;C===o.lines.length-1?y?o.lines.recycle().copyFrom(c):o.lines.push(c.clone()):o.lines.splice(C+1,0,c.clone()),y?this.isUserScrolling&&(o.ydisp=Math.max(o.ydisp-1,0)):(o.ybase++,this.isUserScrolling||o.ydisp++)}else{const y=C-m+1;o.lines.shiftElements(m+1,y-1,-1),o.lines.set(C,c.clone())}this.isUserScrolling||(o.ydisp=o.ybase),this._onScroll.fire(o.ydisp)}scrollLines(u,l,o){const c=this.buffer;if(u<0){if(c.ydisp===0)return;this.isUserScrolling=!0}else u+c.ydisp>=c.ybase&&(this.isUserScrolling=!1);const m=c.ydisp;c.ydisp=Math.max(Math.min(c.ydisp+u,c.ybase),0),m!==c.ydisp&&(l||this._onScroll.fire(c.ydisp))}};i.BufferService=S=f([_(0,w.IOptionsService)],S)},7994:(p,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CharsetService=void 0,i.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(n){this.glevel=n,this.charset=this._charsets[n]}setgCharset(n,f){this._charsets[n]=f,this.glevel===n&&(this.charset=f)}}},1753:function(p,i,n){var f=this&&this.__decorate||function(c,m,C,y){var E,b=arguments.length,L=b<3?m:y===null?y=Object.getOwnPropertyDescriptor(m,C):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(c,m,C,y);else for(var T=c.length-1;T>=0;T--)(E=c[T])&&(L=(b<3?E(L):b>3?E(m,C,L):E(m,C))||L);return b>3&&L&&Object.defineProperty(m,C,L),L},_=this&&this.__param||function(c,m){return function(C,y){m(C,y,c)}};Object.defineProperty(i,"__esModule",{value:!0}),i.CoreMouseService=void 0;const h=n(2585),g=n(8460),v=n(844),w={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:c=>c.button!==4&&c.action===1&&(c.ctrl=!1,c.alt=!1,c.shift=!1,!0)},VT200:{events:19,restrict:c=>c.action!==32},DRAG:{events:23,restrict:c=>c.action!==32||c.button!==3},ANY:{events:31,restrict:c=>!0}};function S(c,m){let C=(c.ctrl?16:0)|(c.shift?4:0)|(c.alt?8:0);return c.button===4?(C|=64,C|=c.action):(C|=3&c.button,4&c.button&&(C|=64),8&c.button&&(C|=128),c.action===32?C|=32:c.action!==0||m||(C|=3)),C}const u=String.fromCharCode,l={DEFAULT:c=>{const m=[S(c,!1)+32,c.col+32,c.row+32];return m[0]>255||m[1]>255||m[2]>255?"":`\x1B[M${u(m[0])}${u(m[1])}${u(m[2])}`},SGR:c=>{const m=c.action===0&&c.button!==4?"m":"M";return`\x1B[<${S(c,!0)};${c.col};${c.row}${m}`},SGR_PIXELS:c=>{const m=c.action===0&&c.button!==4?"m":"M";return`\x1B[<${S(c,!0)};${c.x};${c.y}${m}`}};let o=i.CoreMouseService=class extends v.Disposable{constructor(c,m){super(),this._bufferService=c,this._coreService=m,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new g.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const C of Object.keys(w))this.addProtocol(C,w[C]);for(const C of Object.keys(l))this.addEncoding(C,l[C]);this.reset()}addProtocol(c,m){this._protocols[c]=m}addEncoding(c,m){this._encodings[c]=m}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(c){if(!this._protocols[c])throw new Error(`unknown protocol "${c}"`);this._activeProtocol=c,this._onProtocolChange.fire(this._protocols[c].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(c){if(!this._encodings[c])throw new Error(`unknown encoding "${c}"`);this._activeEncoding=c}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(c){if(c.col<0||c.col>=this._bufferService.cols||c.row<0||c.row>=this._bufferService.rows||c.button===4&&c.action===32||c.button===3&&c.action!==32||c.button!==4&&(c.action===2||c.action===3)||(c.col++,c.row++,c.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,c,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(c))return!1;const m=this._encodings[this._activeEncoding](c);return m&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(m):this._coreService.triggerDataEvent(m,!0)),this._lastEvent=c,!0}explainEvents(c){return{down:!!(1&c),up:!!(2&c),drag:!!(4&c),move:!!(8&c),wheel:!!(16&c)}}_equalEvents(c,m,C){if(C){if(c.x!==m.x||c.y!==m.y)return!1}else if(c.col!==m.col||c.row!==m.row)return!1;return c.button===m.button&&c.action===m.action&&c.ctrl===m.ctrl&&c.alt===m.alt&&c.shift===m.shift}};i.CoreMouseService=o=f([_(0,h.IBufferService),_(1,h.ICoreService)],o)},6975:function(p,i,n){var f=this&&this.__decorate||function(o,c,m,C){var y,E=arguments.length,b=E<3?c:C===null?C=Object.getOwnPropertyDescriptor(c,m):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(o,c,m,C);else for(var L=o.length-1;L>=0;L--)(y=o[L])&&(b=(E<3?y(b):E>3?y(c,m,b):y(c,m))||b);return E>3&&b&&Object.defineProperty(c,m,b),b},_=this&&this.__param||function(o,c){return function(m,C){c(m,C,o)}};Object.defineProperty(i,"__esModule",{value:!0}),i.CoreService=void 0;const h=n(1439),g=n(8460),v=n(844),w=n(2585),S=Object.freeze({insertMode:!1}),u=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let l=i.CoreService=class extends v.Disposable{constructor(o,c,m){super(),this._bufferService=o,this._logService=c,this._optionsService=m,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new g.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new g.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new g.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new g.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,h.clone)(S),this.decPrivateModes=(0,h.clone)(u)}reset(){this.modes=(0,h.clone)(S),this.decPrivateModes=(0,h.clone)(u)}triggerDataEvent(o,c=!1){if(this._optionsService.rawOptions.disableStdin)return;const m=this._bufferService.buffer;c&&this._optionsService.rawOptions.scrollOnUserInput&&m.ybase!==m.ydisp&&this._onRequestScrollToBottom.fire(),c&&this._onUserInput.fire(),this._logService.debug(`sending data "${o}"`,()=>o.split("").map(C=>C.charCodeAt(0))),this._onData.fire(o)}triggerBinaryEvent(o){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${o}"`,()=>o.split("").map(c=>c.charCodeAt(0))),this._onBinary.fire(o))}};i.CoreService=l=f([_(0,w.IBufferService),_(1,w.ILogService),_(2,w.IOptionsService)],l)},9074:(p,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.DecorationService=void 0;const f=n(8055),_=n(8460),h=n(844),g=n(6106);let v=0,w=0;class S extends h.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new g.SortedList(o=>o==null?void 0:o.marker.line),this._onDecorationRegistered=this.register(new _.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new _.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,h.toDisposable)(()=>this.reset()))}registerDecoration(o){if(o.marker.isDisposed)return;const c=new u(o);if(c){const m=c.marker.onDispose(()=>c.dispose());c.onDispose(()=>{c&&(this._decorations.delete(c)&&this._onDecorationRemoved.fire(c),m.dispose())}),this._decorations.insert(c),this._onDecorationRegistered.fire(c)}return c}reset(){for(const o of this._decorations.values())o.dispose();this._decorations.clear()}*getDecorationsAtCell(o,c,m){let C=0,y=0;for(const E of this._decorations.getKeyIterator(c))C=E.options.x??0,y=C+(E.options.width??1),o>=C&&o<y&&(!m||(E.options.layer??"bottom")===m)&&(yield E)}forEachDecorationAtCell(o,c,m,C){this._decorations.forEachByKey(c,y=>{v=y.options.x??0,w=v+(y.options.width??1),o>=v&&o<w&&(!m||(y.options.layer??"bottom")===m)&&C(y)})}}i.DecorationService=S;class u extends h.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=f.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=f.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(o){super(),this.options=o,this.onRenderEmitter=this.register(new _.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new _.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=o.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(p,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.InstantiationService=i.ServiceCollection=void 0;const f=n(2585),_=n(8343);class h{constructor(...v){this._entries=new Map;for(const[w,S]of v)this.set(w,S)}set(v,w){const S=this._entries.get(v);return this._entries.set(v,w),S}forEach(v){for(const[w,S]of this._entries.entries())v(w,S)}has(v){return this._entries.has(v)}get(v){return this._entries.get(v)}}i.ServiceCollection=h,i.InstantiationService=class{constructor(){this._services=new h,this._services.set(f.IInstantiationService,this)}setService(g,v){this._services.set(g,v)}getService(g){return this._services.get(g)}createInstance(g,...v){const w=(0,_.getServiceDependencies)(g).sort((l,o)=>l.index-o.index),S=[];for(const l of w){const o=this._services.get(l.id);if(!o)throw new Error(`[createInstance] ${g.name} depends on UNKNOWN service ${l.id}.`);S.push(o)}const u=w.length>0?w[0].index:v.length;if(v.length!==u)throw new Error(`[createInstance] First service dependency of ${g.name} at position ${u+1} conflicts with ${v.length} static arguments`);return new g(...v,...S)}}},7866:function(p,i,n){var f=this&&this.__decorate||function(u,l,o,c){var m,C=arguments.length,y=C<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,o):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(u,l,o,c);else for(var E=u.length-1;E>=0;E--)(m=u[E])&&(y=(C<3?m(y):C>3?m(l,o,y):m(l,o))||y);return C>3&&y&&Object.defineProperty(l,o,y),y},_=this&&this.__param||function(u,l){return function(o,c){l(o,c,u)}};Object.defineProperty(i,"__esModule",{value:!0}),i.traceCall=i.setTraceLogger=i.LogService=void 0;const h=n(844),g=n(2585),v={trace:g.LogLevelEnum.TRACE,debug:g.LogLevelEnum.DEBUG,info:g.LogLevelEnum.INFO,warn:g.LogLevelEnum.WARN,error:g.LogLevelEnum.ERROR,off:g.LogLevelEnum.OFF};let w,S=i.LogService=class extends h.Disposable{get logLevel(){return this._logLevel}constructor(u){super(),this._optionsService=u,this._logLevel=g.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),w=this}_updateLogLevel(){this._logLevel=v[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(u){for(let l=0;l<u.length;l++)typeof u[l]=="function"&&(u[l]=u[l]())}_log(u,l,o){this._evalLazyOptionalParams(o),u.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+l,...o)}trace(u,...l){var o;this._logLevel<=g.LogLevelEnum.TRACE&&this._log(((o=this._optionsService.options.logger)==null?void 0:o.trace.bind(this._optionsService.options.logger))??console.log,u,l)}debug(u,...l){var o;this._logLevel<=g.LogLevelEnum.DEBUG&&this._log(((o=this._optionsService.options.logger)==null?void 0:o.debug.bind(this._optionsService.options.logger))??console.log,u,l)}info(u,...l){var o;this._logLevel<=g.LogLevelEnum.INFO&&this._log(((o=this._optionsService.options.logger)==null?void 0:o.info.bind(this._optionsService.options.logger))??console.info,u,l)}warn(u,...l){var o;this._logLevel<=g.LogLevelEnum.WARN&&this._log(((o=this._optionsService.options.logger)==null?void 0:o.warn.bind(this._optionsService.options.logger))??console.warn,u,l)}error(u,...l){var o;this._logLevel<=g.LogLevelEnum.ERROR&&this._log(((o=this._optionsService.options.logger)==null?void 0:o.error.bind(this._optionsService.options.logger))??console.error,u,l)}};i.LogService=S=f([_(0,g.IOptionsService)],S),i.setTraceLogger=function(u){w=u},i.traceCall=function(u,l,o){if(typeof o.value!="function")throw new Error("not supported");const c=o.value;o.value=function(...m){if(w.logLevel!==g.LogLevelEnum.TRACE)return c.apply(this,m);w.trace(`GlyphRenderer#${c.name}(${m.map(y=>JSON.stringify(y)).join(", ")})`);const C=c.apply(this,m);return w.trace(`GlyphRenderer#${c.name} return`,C),C}}},7302:(p,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.OptionsService=i.DEFAULT_OPTIONS=void 0;const f=n(8460),_=n(844),h=n(6114);i.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,documentOverride:null,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rescaleOverlappingGlyphs:!1,rightClickSelectsWord:h.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const g=["normal","bold","100","200","300","400","500","600","700","800","900"];class v extends _.Disposable{constructor(S){super(),this._onOptionChange=this.register(new f.EventEmitter),this.onOptionChange=this._onOptionChange.event;const u={...i.DEFAULT_OPTIONS};for(const l in S)if(l in u)try{const o=S[l];u[l]=this._sanitizeAndValidateOption(l,o)}catch(o){console.error(o)}this.rawOptions=u,this.options={...u},this._setupOptions(),this.register((0,_.toDisposable)(()=>{this.rawOptions.linkHandler=null,this.rawOptions.documentOverride=null}))}onSpecificOptionChange(S,u){return this.onOptionChange(l=>{l===S&&u(this.rawOptions[S])})}onMultipleOptionChange(S,u){return this.onOptionChange(l=>{S.indexOf(l)!==-1&&u()})}_setupOptions(){const S=l=>{if(!(l in i.DEFAULT_OPTIONS))throw new Error(`No option with key "${l}"`);return this.rawOptions[l]},u=(l,o)=>{if(!(l in i.DEFAULT_OPTIONS))throw new Error(`No option with key "${l}"`);o=this._sanitizeAndValidateOption(l,o),this.rawOptions[l]!==o&&(this.rawOptions[l]=o,this._onOptionChange.fire(l))};for(const l in this.rawOptions){const o={get:S.bind(this,l),set:u.bind(this,l)};Object.defineProperty(this.options,l,o)}}_sanitizeAndValidateOption(S,u){switch(S){case"cursorStyle":if(u||(u=i.DEFAULT_OPTIONS[S]),!function(l){return l==="block"||l==="underline"||l==="bar"}(u))throw new Error(`"${u}" is not a valid value for ${S}`);break;case"wordSeparator":u||(u=i.DEFAULT_OPTIONS[S]);break;case"fontWeight":case"fontWeightBold":if(typeof u=="number"&&1<=u&&u<=1e3)break;u=g.includes(u)?u:i.DEFAULT_OPTIONS[S];break;case"cursorWidth":u=Math.floor(u);case"lineHeight":case"tabStopWidth":if(u<1)throw new Error(`${S} cannot be less than 1, value: ${u}`);break;case"minimumContrastRatio":u=Math.max(1,Math.min(21,Math.round(10*u)/10));break;case"scrollback":if((u=Math.min(u,4294967295))<0)throw new Error(`${S} cannot be less than 0, value: ${u}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(u<=0)throw new Error(`${S} cannot be less than or equal to 0, value: ${u}`);break;case"rows":case"cols":if(!u&&u!==0)throw new Error(`${S} must be numeric, value: ${u}`);break;case"windowsPty":u=u??{}}return u}}i.OptionsService=v},2660:function(p,i,n){var f=this&&this.__decorate||function(v,w,S,u){var l,o=arguments.length,c=o<3?w:u===null?u=Object.getOwnPropertyDescriptor(w,S):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(v,w,S,u);else for(var m=v.length-1;m>=0;m--)(l=v[m])&&(c=(o<3?l(c):o>3?l(w,S,c):l(w,S))||c);return o>3&&c&&Object.defineProperty(w,S,c),c},_=this&&this.__param||function(v,w){return function(S,u){w(S,u,v)}};Object.defineProperty(i,"__esModule",{value:!0}),i.OscLinkService=void 0;const h=n(2585);let g=i.OscLinkService=class{constructor(v){this._bufferService=v,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(v){const w=this._bufferService.buffer;if(v.id===void 0){const m=w.addMarker(w.ybase+w.y),C={data:v,id:this._nextId++,lines:[m]};return m.onDispose(()=>this._removeMarkerFromLink(C,m)),this._dataByLinkId.set(C.id,C),C.id}const S=v,u=this._getEntryIdKey(S),l=this._entriesWithId.get(u);if(l)return this.addLineToLink(l.id,w.ybase+w.y),l.id;const o=w.addMarker(w.ybase+w.y),c={id:this._nextId++,key:this._getEntryIdKey(S),data:S,lines:[o]};return o.onDispose(()=>this._removeMarkerFromLink(c,o)),this._entriesWithId.set(c.key,c),this._dataByLinkId.set(c.id,c),c.id}addLineToLink(v,w){const S=this._dataByLinkId.get(v);if(S&&S.lines.every(u=>u.line!==w)){const u=this._bufferService.buffer.addMarker(w);S.lines.push(u),u.onDispose(()=>this._removeMarkerFromLink(S,u))}}getLinkData(v){var w;return(w=this._dataByLinkId.get(v))==null?void 0:w.data}_getEntryIdKey(v){return`${v.id};;${v.uri}`}_removeMarkerFromLink(v,w){const S=v.lines.indexOf(w);S!==-1&&(v.lines.splice(S,1),v.lines.length===0&&(v.data.id!==void 0&&this._entriesWithId.delete(v.key),this._dataByLinkId.delete(v.id)))}};i.OscLinkService=g=f([_(0,h.IBufferService)],g)},8343:(p,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createDecorator=i.getServiceDependencies=i.serviceRegistry=void 0;const n="di$target",f="di$dependencies";i.serviceRegistry=new Map,i.getServiceDependencies=function(_){return _[f]||[]},i.createDecorator=function(_){if(i.serviceRegistry.has(_))return i.serviceRegistry.get(_);const h=function(g,v,w){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(S,u,l){u[n]===u?u[f].push({id:S,index:l}):(u[f]=[{id:S,index:l}],u[n]=u)})(h,g,w)};return h.toString=()=>_,i.serviceRegistry.set(_,h),h}},2585:(p,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.IDecorationService=i.IUnicodeService=i.IOscLinkService=i.IOptionsService=i.ILogService=i.LogLevelEnum=i.IInstantiationService=i.ICharsetService=i.ICoreService=i.ICoreMouseService=i.IBufferService=void 0;const f=n(8343);var _;i.IBufferService=(0,f.createDecorator)("BufferService"),i.ICoreMouseService=(0,f.createDecorator)("CoreMouseService"),i.ICoreService=(0,f.createDecorator)("CoreService"),i.ICharsetService=(0,f.createDecorator)("CharsetService"),i.IInstantiationService=(0,f.createDecorator)("InstantiationService"),function(h){h[h.TRACE=0]="TRACE",h[h.DEBUG=1]="DEBUG",h[h.INFO=2]="INFO",h[h.WARN=3]="WARN",h[h.ERROR=4]="ERROR",h[h.OFF=5]="OFF"}(_||(i.LogLevelEnum=_={})),i.ILogService=(0,f.createDecorator)("LogService"),i.IOptionsService=(0,f.createDecorator)("OptionsService"),i.IOscLinkService=(0,f.createDecorator)("OscLinkService"),i.IUnicodeService=(0,f.createDecorator)("UnicodeService"),i.IDecorationService=(0,f.createDecorator)("DecorationService")},1480:(p,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.UnicodeService=void 0;const f=n(8460),_=n(225);class h{static extractShouldJoin(v){return(1&v)!=0}static extractWidth(v){return v>>1&3}static extractCharKind(v){return v>>3}static createPropertyValue(v,w,S=!1){return(16777215&v)<<3|(3&w)<<1|(S?1:0)}constructor(){this._providers=Object.create(null),this._active="",this._onChange=new f.EventEmitter,this.onChange=this._onChange.event;const v=new _.UnicodeV6;this.register(v),this._active=v.version,this._activeProvider=v}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(v){if(!this._providers[v])throw new Error(`unknown Unicode version "${v}"`);this._active=v,this._activeProvider=this._providers[v],this._onChange.fire(v)}register(v){this._providers[v.version]=v}wcwidth(v){return this._activeProvider.wcwidth(v)}getStringCellWidth(v){let w=0,S=0;const u=v.length;for(let l=0;l<u;++l){let o=v.charCodeAt(l);if(55296<=o&&o<=56319){if(++l>=u)return w+this.wcwidth(o);const C=v.charCodeAt(l);56320<=C&&C<=57343?o=1024*(o-55296)+C-56320+65536:w+=this.wcwidth(C)}const c=this.charProperties(o,S);let m=h.extractWidth(c);h.extractShouldJoin(c)&&(m-=h.extractWidth(S)),w+=m,S=c}return w}charProperties(v,w){return this._activeProvider.charProperties(v,w)}}i.UnicodeService=h}},r={};function a(p){var i=r[p];if(i!==void 0)return i.exports;var n=r[p]={exports:{}};return s[p].call(n.exports,n,n.exports,a),n.exports}var d={};return(()=>{var p=d;Object.defineProperty(p,"__esModule",{value:!0}),p.Terminal=void 0;const i=a(9042),n=a(3236),f=a(844),_=a(5741),h=a(8285),g=a(7975),v=a(7090),w=["cols","rows"];class S extends f.Disposable{constructor(l){super(),this._core=this.register(new n.Terminal(l)),this._addonManager=this.register(new _.AddonManager),this._publicOptions={...this._core.options};const o=m=>this._core.options[m],c=(m,C)=>{this._checkReadonlyOptions(m),this._core.options[m]=C};for(const m in this._core.options){const C={get:o.bind(this,m),set:c.bind(this,m)};Object.defineProperty(this._publicOptions,m,C)}}_checkReadonlyOptions(l){if(w.includes(l))throw new Error(`Option "${l}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new g.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new v.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new h.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const l=this._core.coreService.decPrivateModes;let o="none";switch(this._core.coreMouseService.activeProtocol){case"X10":o="x10";break;case"VT200":o="vt200";break;case"DRAG":o="drag";break;case"ANY":o="any"}return{applicationCursorKeysMode:l.applicationCursorKeys,applicationKeypadMode:l.applicationKeypad,bracketedPasteMode:l.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:o,originMode:l.origin,reverseWraparoundMode:l.reverseWraparound,sendFocusMode:l.sendFocus,wraparoundMode:l.wraparound}}get options(){return this._publicOptions}set options(l){for(const o in l)this._publicOptions[o]=l[o]}blur(){this._core.blur()}focus(){this._core.focus()}input(l,o=!0){this._core.input(l,o)}resize(l,o){this._verifyIntegers(l,o),this._core.resize(l,o)}open(l){this._core.open(l)}attachCustomKeyEventHandler(l){this._core.attachCustomKeyEventHandler(l)}attachCustomWheelEventHandler(l){this._core.attachCustomWheelEventHandler(l)}registerLinkProvider(l){return this._core.registerLinkProvider(l)}registerCharacterJoiner(l){return this._checkProposedApi(),this._core.registerCharacterJoiner(l)}deregisterCharacterJoiner(l){this._checkProposedApi(),this._core.deregisterCharacterJoiner(l)}registerMarker(l=0){return this._verifyIntegers(l),this._core.registerMarker(l)}registerDecoration(l){return this._checkProposedApi(),this._verifyPositiveIntegers(l.x??0,l.width??0,l.height??0),this._core.registerDecoration(l)}hasSelection(){return this._core.hasSelection()}select(l,o,c){this._verifyIntegers(l,o,c),this._core.select(l,o,c)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(l,o){this._verifyIntegers(l,o),this._core.selectLines(l,o)}dispose(){super.dispose()}scrollLines(l){this._verifyIntegers(l),this._core.scrollLines(l)}scrollPages(l){this._verifyIntegers(l),this._core.scrollPages(l)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(l){this._verifyIntegers(l),this._core.scrollToLine(l)}clear(){this._core.clear()}write(l,o){this._core.write(l,o)}writeln(l,o){this._core.write(l),this._core.write(`\r
`,o)}paste(l){this._core.paste(l)}refresh(l,o){this._verifyIntegers(l,o),this._core.refresh(l,o)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(l){this._addonManager.loadAddon(this,l)}static get strings(){return i}_verifyIntegers(...l){for(const o of l)if(o===1/0||isNaN(o)||o%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...l){for(const o of l)if(o&&(o===1/0||isNaN(o)||o%1!=0||o<0))throw new Error("This API only accepts positive integers")}}p.Terminal=S})(),d})())}(Qi)),Qi.exports}var dv=fv(),en={exports:{}},sl;function _v(){return sl||(sl=1,function(e,t){(function(s,r){e.exports=r()})(self,()=>(()=>{var s={};return(()=>{var r=s;Object.defineProperty(r,"__esModule",{value:!0}),r.FitAddon=void 0,r.FitAddon=class{activate(a){this._terminal=a}dispose(){}fit(){const a=this.proposeDimensions();if(!a||!this._terminal||isNaN(a.cols)||isNaN(a.rows))return;const d=this._terminal._core;this._terminal.rows===a.rows&&this._terminal.cols===a.cols||(d._renderService.clear(),this._terminal.resize(a.cols,a.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const a=this._terminal._core,d=a._renderService.dimensions;if(d.css.cell.width===0||d.css.cell.height===0)return;const p=this._terminal.options.scrollback===0?0:a.viewport.scrollBarWidth,i=window.getComputedStyle(this._terminal.element.parentElement),n=parseInt(i.getPropertyValue("height")),f=Math.max(0,parseInt(i.getPropertyValue("width"))),_=window.getComputedStyle(this._terminal.element),h=n-(parseInt(_.getPropertyValue("padding-top"))+parseInt(_.getPropertyValue("padding-bottom"))),g=f-(parseInt(_.getPropertyValue("padding-right"))+parseInt(_.getPropertyValue("padding-left")))-p;return{cols:Math.max(2,Math.floor(g/d.css.cell.width)),rows:Math.max(1,Math.floor(h/d.css.cell.height))}}}})(),s})())}(en)),en.exports}var pv=_v();const gv={class:"panel"},mv={class:"bar"},vv={key:0},Sv=nt({__name:"XtremView",setup(e){const t=Yc(),s=_o(),{t:r}=Ls(),a=()=>{t.push({name:"cmds"})},d=new dv.Terminal({theme:{background:"#002b36",foreground:"#cce4f5",cursor:"#839496"}}),p=new pv.FitAddon;d.loadAddon(p);const i=ze(null);let n=null;const f=v=>{var S;if(!v)return;d.writeln(_(`\r
Connecting to ${(S=s.currentXtremNode)==null?void 0:S.host}\r`));const w=window.location.protocol==="https:"?"wss:":"ws:";n=new WebSocket(`${w}//${Sm}/ws`),n.onopen=()=>{n==null||n.send(JSON.stringify(v))},n.onmessage=u=>{d.write(u.data)},n.onclose=()=>{d.writeln(_(`\r
Connection closed.\r`))},n.onerror=u=>{d.writeln(_(`\r
WebSocket error: ${u}\r`))}},_=v=>`\x1B[32m${v}\x1B[0m`,h=()=>{i.value&&(d.open(i.value),p.fit(),d.focus(),d.onData(v=>{n&&n.readyState===WebSocket.OPEN&&n.send(v)}),d.onSelectionChange(()=>{const v=d.getSelection();v&&navigator.clipboard.writeText(v).then(()=>{Tr(r("cmdPanel.copied"))}).catch(w=>{console.error("Error:",w)})}))},g=()=>{n&&n.close(),d&&d.dispose()};return Tt(()=>s.currentXtremNode,()=>{n&&s.currentXtremNode?(n.onclose=()=>{f(s.currentXtremNode)},n.close()):f(s.currentXtremNode)}),Xs(()=>{h(),s.currentXtremNode&&f(s.currentXtremNode)}),Ci(()=>{g()}),(v,w)=>(Ce(),Oe("div",gv,[oe("div",mv,[oe("button",{class:"small-button",onClick:a},me(ue(r)("xtermPanel.back")),1)]),oe("div",{ref_key:"terminalContainer",ref:i,class:"terminal-container",contenteditable:"true"},[ue(s).currentXtremNode?Nt("",!0):(Ce(),Oe("div",vv,me(ue(r)("xtermPanel.hello")),1))],512)]))}}),bv=_t(Sv,[["__scopeId","data-v-3d35383d"]]),Cv=O_({history:l_(),routes:[{path:"/",name:"cmds",component:uv},{path:"/xterm",name:"xterm",component:bv}]}),yv={total:"Total",nodes:"nodes",choosed:"Selected",actions:{all:"All",none:"None",add:"Add node"}},wv={actions:{export:"Export",import:"Import"}},Ev={title:"Add Node",name:"Name:",namePlaceholder:"Enter nickname for node.",host:"IP or Domain:",hostPlaceholder:"Enter ip or domain.",port:"Port Number:",portPlaceholder:"Enter ssh port number.",username:"SSH Username:",usernamePlaceholder:"Enter ssh username.",authType:"Auth Type:",authTypePassword:"Password",authTypePrivateKey:"Private Key",authValue:"Password or Private Key",authValuePlaceholder:"Enter value of Password or Private Key.",actions:{save:"Save",cancel:"Cancel"},importSucess:"Import Sucessful",importError:"Import Failed",exportSucess:"Export Sucessful"},Lv={shortcut:"Shortcut Command: ",commandPlaceholder:"Enter Shell command here",saveShortCut:"Save current command as",saveShortCutPlaceholder:"Enter shortcut command name",confirmAddShortcut:"Confirm",cancelShortCut:"Cancel",executeCommand:"Execute",addNodeToContinue:"Add a node to proceed",noCmd:"Input is empty. Cannot save as a shortcut.",shortcutNameRequired:"Enter a shortcut name.",shortcutDeleteConfirm:"Delete this shortcut?",emptyCmd:"Input is empty.",nothingSelected:"Select at least one node to proceed.",copied:"Copied.",copyError:"Copy failed."},kv={back:"Back",hello:"Hover over a node on the left and click the terminal icon to open a connection."},Rv={header:yv,footer:wv,addNode:Ev,cmdPanel:Lv,xtermPanel:kv},Tv={total:"共",nodes:"节点",choosed:"已选",actions:{all:"全选",none:"全不选",add:"添加节点"}},Av={actions:{export:"导出",import:"导入"}},xv={title:"添加节点",name:"备注名：",namePlaceholder:"输入节点别名",host:"IP地址或域名：",hostPlaceholder:"输入 IPV4/V6/域名",port:"SSH端口号：",portPlaceholder:"输入SSH端口号",username:"SSH用户名：",usernamePlaceholder:"输入SSH用户名",authType:"认证类型：",authTypePassword:"密码认证",authTypePrivateKey:"密钥认证",authValue:"密码或密钥：",authValuePlaceholder:"输入密码或密钥的值",actions:{save:"保存",cancel:"取消"},importSucess:"节点导入成功",importError:"节点导入失败",exportSucess:"节点导出成功"},Dv={shortcut:"快捷命令：",commandPlaceholder:"在此输入 Shell 命令行",saveShortCut:"保存当前命令为",saveShortCutPlaceholder:"输入快捷命令名称",confirmAddShortcut:"确定",cancelShortCut:"取消",executeCommand:"开始执行",addNodeToContinue:"添加一个节点以继续",noCmd:"输入框里面似乎没东西，无法保存为快捷命令",shortcutNameRequired:"请输入快捷命令名称",shortcutDeleteConfirm:"确定要删除该快捷命令吗？",emptyCmd:"输入框里面似乎没东西",nothingSelected:"请选择至少1个节点再执行命令",copied:"已复制",copyError:"复制失败"},Ov={back:"返回",hello:"鼠标浮在左侧节点上，点击终端图标来开启一个连接吧"},Pv={header:Tv,footer:Av,addNode:xv,cmdPanel:Dv,xtermPanel:Ov},Iv=Rg({legacy:!1,globalInjection:!0,locale:"zh",fallbackLocale:"en",messages:{zh:Pv,en:Rv}}),Ys=rd(Hm),Mv=od();Ys.use(Mv);Ys.use(Cv);Ys.use(pm);Ys.use(xd);Ys.use(Iv);Ys.mount("#app");</script>
    <style rel="stylesheet" crossorigin>:root{--color-main: #9ec1eb;--color-sub: #d5e5f7;--color-bg: #e4f0ff79;--color-while: #f4f9ff;--color-green: #1cad70;--color-red: #eb4646;--color-orange: #f59b00;--color-bg-1: #333333;--color-font-1: #555555;--color-font-2: #555555;--color-font-3: #777777}*,*:before,*:after{margin:0;padding:0;box-sizing:border-box;font-weight:400;text-decoration:none;outline:none}body{font-size:15px;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body{line-height:1.5;min-height:100vh;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif}select,button,input,textarea{display:inline-block;line-height:1.2rem;font-size:1rem;text-align:center;color:var(--color-font-1);border-radius:.2rem;border:1.25px solid var(--color-main);padding:.25rem .5rem;min-width:5rem;width:100%;background-color:var(--color-bg);background-repeat:no-repeat;background-position:center;text-decoration:none;box-sizing:border-box;cursor:pointer;overflow:visible;outline:none}button:hover{color:var(--color-main);text-decoration:none}input,textarea{cursor:text}textarea{text-align:left}h2{font-size:1.25rem;color:var(--color-font-2);font-weight:700;text-align:center}.buttons{display:flex;align-items:center;justify-content:space-between;gap:.25rem}.bar{display:flex;justify-content:space-between;align-items:center;padding:0 .5rem;height:3rem;border-bottom:1px solid var(--color-sub)}.small-button{min-width:.5rem;width:auto;font-size:.8rem;line-height:1rem;border:1px solid var(--color-main);color:var(--color-font-1);background:transparent;cursor:pointer}.icon{width:1rem;height:1rem}::-webkit-scrollbar{display:none}*{scrollbar-width:none}*{overflow:scroll}.container{display:flex;position:fixed;top:0;left:0;right:0;bottom:0}.panel{position:fixed;top:0;right:0;height:100%;width:calc(100% - 20rem);z-index:2;background-color:var(--color-bg);overflow:auto}@keyframes gradient{0%{background-position:0% 0%}50%{background-position:100% 100%}to{background-position:0% 0%}}.wave{background:#01010126;border-radius:500% 500% 0 0;position:fixed;width:200%;height:3rem;animation:wave 10s -3s linear infinite;transform:translateZ(0);bottom:0;left:0;z-index:-1;opacity:.5}.wave:nth-of-type(2){bottom:-1.25em;animation:wave 10s linear reverse infinite;opacity:.7}.wave:nth-of-type(3){bottom:-2em;animation:wave 30s -1s reverse infinite;opacity:.9}@keyframes wave{2%{transform:translate(1)}25%{transform:translate(-25%)}50%{transform:translate(-50%)}75%{transform:translate(-25%)}to{transform:translate(1)}}.modal-overlay[data-v-d30d0309]{position:fixed;top:0;left:0;right:0;bottom:0;background:#0000004d;display:flex;justify-content:center;align-items:center;z-index:100}.modal[data-v-d30d0309]{background:var(--color-while);padding:2rem;border-radius:5px;width:25rem}h2[data-v-3ff2802f]{width:100%;text-align:center;font-size:1rem}form[data-v-3ff2802f]{display:flex;flex-direction:column}input[data-v-3ff2802f],select[data-v-3ff2802f],button[data-v-3ff2802f]{width:100%;padding:.5rem;margin-bottom:.25rem;font-size:.8rem}label[data-v-3ff2802f]{font-size:.7rem;color:#555}.node-list-container[data-v-404abae4]{position:fixed;left:0;top:0;height:100%;width:20rem;z-index:2;background:var(--color-bg)}.node-list[data-v-404abae4]{display:flex;flex-direction:column;justify-content:space-between;border-right:1px solid var(--color-sub);height:100%;width:20rem}.header-title[data-v-404abae4]{font-size:.9rem;flex-shrink:0;color:var(--color-font-1)}.nodes[data-v-404abae4]{list-style:none;padding:.5rem .25rem;height:calc(100% - 6rem);overflow:auto;box-shadow:#0000000f 0 2px 4px inset}.node[data-v-404abae4]{position:relative;display:flex;align-items:center;justify-content:space-between;margin-bottom:.5rem;padding:.5rem;cursor:pointer;border-radius:4px;border:1px solid var(--color-sub)}.node[data-v-404abae4]:hover{background-color:var(--color-sub);border:1px solid var(--color-main)}.node-info[data-v-404abae4]{display:flex;align-items:center}.node-info>input[data-v-404abae4]{min-width:0;width:1rem;flex-shrink:0;cursor:pointer;margin-right:.15rem}.node-info-name[data-v-404abae4]{width:100%;white-space:nowrap;font-size:clamp(.6rem,.9rem,1rem);overflow:hidden;color:var(--color-font-2)}.node-actions[data-v-404abae4]{display:none;gap:.35rem;width:auto;position:absolute;right:.5rem;opacity:1;transition:opacity .5s ease-in;background-color:var(--color-sub)}.node:hover .node-actions[data-v-404abae4]{display:flex;opacity:1}.selected[data-v-404abae4]{color:var(--color-green)}.setting-icon[data-v-404abae4]{width:1.5rem;height:1.5rem}.ssh-active[data-v-404abae4]{background-color:var(--color-sub)}.footer-title[data-v-404abae4]{font-weight:lighter;color:var(--color-font-3)}[data-v-404abae4]{overflow:hidden}.loading-container[data-v-64c94ffd]{position:relative}.loading-spinner[data-v-64c94ffd]{width:100%;height:100%;border-radius:50%;animation:spin-64c94ffd 1s linear infinite}@keyframes spin-64c94ffd{0%{transform:rotate(0)}to{transform:rotate(360deg)}}button[data-v-96a6234e]{display:flex;justify-content:center;align-items:center}.fade-opacity-enter-active[data-v-cf63476d],.fade-opacity-leave-active[data-v-cf63476d]{transition:opacity .25s ease-in-out}.fade-opacity-enter-from[data-v-cf63476d],.fade-opacity-leave-to[data-v-cf63476d]{opacity:0}.panel[data-v-76a84439]{background-color:var(--color-bg)}.shortcuts[data-v-76a84439]{margin:.5rem 0;flex-wrap:no-wrap;justify-content:left}.shortcuts-note[data-v-76a84439]{font-size:.85rem;color:var(--color-font-1)}.shortcut[data-v-76a84439]{flex-shrink:0;width:auto;transition:all .2s ease-in-out}.shortcut-input[data-v-76a84439]{margin:.5rem 0;line-height:1.5rem}.delete-icon[data-v-76a84439]{cursor:pointer;width:.65rem;height:.6rem}.command-container[data-v-76a84439]{padding:.5rem}.command-input[data-v-76a84439]{width:100%;height:100px;padding:10px;background-color:var(--color-background-3);font-size:.8rem}.execute-button[data-v-76a84439]{font-size:.8rem}.results[data-v-76a84439]{margin:0;padding:0;margin-top:.5rem;list-style:none}.text-line[data-v-76a84439]{font-size:.8rem}.full-center[data-v-76a84439]{display:flex;align-items:center;justify-content:center;width:calc(100% - 20rem);height:100%}.success[data-v-76a84439]{font-weight:700;color:var(--color-green)}.failed[data-v-76a84439]{font-weight:700;color:var(--color-red)}.result[data-v-76a84439]{padding:.5rem;background-color:var(--color-background-3);border-radius:5px;border:1px solid #ddd;margin-bottom:.5rem;font-size:.85rem}.output-block[data-v-76a84439]{margin:.5rem 0;position:relative;background-color:#f4f4f4;border-radius:5px;overflow-x:auto}.output-block pre[data-v-76a84439]{margin:0;white-space:pre-wrap;word-wrap:break-word;padding:.75rem 0 .75rem 1rem}.output-block code[data-v-76a84439]{display:block;font-family:monospace;font-size:.8rem;line-height:1}.output-block[data-v-76a84439]:before{content:"";position:absolute;left:0;top:0;width:.5rem;height:100%;background-color:#e0e0e0;border-right:1px solid #ccc}.error-block[data-v-76a84439]:before{background-color:var(--color-orange)}.copy-button[data-v-76a84439]{width:auto;min-width:.5rem;position:absolute;top:.5rem;right:.5rem}/**
 * Copyright (c) 2014 The xterm.js authors. All rights reserved.
 * Copyright (c) 2012-2013, Christopher Jeffrey (MIT License)
 * https://github.com/chjj/term.js
 * @license MIT
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * Originally forked from (with the author's permission):
 *   Fabrice Bellard's javascript vt100 for jslinux:
 *   http://bellard.org/jslinux/
 *   Copyright (c) 2011 Fabrice Bellard
 *   The original design remains. The terminal itself
 *   has been extended to include xterm CSI codes, among
 *   other features.
 */.xterm{cursor:text;position:relative;user-select:none;-ms-user-select:none;-webkit-user-select:none}.xterm.focus,.xterm:focus{outline:none}.xterm .xterm-helpers{position:absolute;top:0;z-index:5}.xterm .xterm-helper-textarea{padding:0;border:0;margin:0;position:absolute;opacity:0;left:-9999em;top:0;width:0;height:0;z-index:-5;white-space:nowrap;overflow:hidden;resize:none}.xterm .composition-view{background:#000;color:#fff;display:none;position:absolute;white-space:nowrap;z-index:1}.xterm .composition-view.active{display:block}.xterm .xterm-viewport{background-color:#000;overflow-y:scroll;cursor:default;position:absolute;right:0;left:0;top:0;bottom:0}.xterm .xterm-screen{position:relative}.xterm .xterm-screen canvas{position:absolute;left:0;top:0}.xterm .xterm-scroll-area{visibility:hidden}.xterm-char-measure-element{display:inline-block;visibility:hidden;position:absolute;top:0;left:-9999em;line-height:normal}.xterm.enable-mouse-events{cursor:default}.xterm.xterm-cursor-pointer,.xterm .xterm-cursor-pointer{cursor:pointer}.xterm.column-select.focus{cursor:crosshair}.xterm .xterm-accessibility:not(.debug),.xterm .xterm-message{position:absolute;left:0;top:0;bottom:0;right:0;z-index:10;color:transparent;pointer-events:none}.xterm .xterm-accessibility-tree:not(.debug) *::selection{color:transparent}.xterm .xterm-accessibility-tree{-webkit-user-select:text;user-select:text;white-space:pre}.xterm .live-region{position:absolute;left:-9999px;width:1px;height:1px;overflow:hidden}.xterm-dim{opacity:1!important}.xterm-underline-1{text-decoration:underline}.xterm-underline-2{text-decoration:double underline}.xterm-underline-3{text-decoration:wavy underline}.xterm-underline-4{text-decoration:dotted underline}.xterm-underline-5{text-decoration:dashed underline}.xterm-overline{text-decoration:overline}.xterm-overline.xterm-underline-1{text-decoration:overline underline}.xterm-overline.xterm-underline-2{text-decoration:overline double underline}.xterm-overline.xterm-underline-3{text-decoration:overline wavy underline}.xterm-overline.xterm-underline-4{text-decoration:overline dotted underline}.xterm-overline.xterm-underline-5{text-decoration:overline dashed underline}.xterm-strikethrough{text-decoration:line-through}.xterm-screen .xterm-decoration-container .xterm-decoration{z-index:6;position:absolute}.xterm-screen .xterm-decoration-container .xterm-decoration.xterm-decoration-top-layer{z-index:7}.xterm-decoration-overview-ruler{z-index:8;position:absolute;top:0;right:0;pointer-events:none}.xterm-decoration-top{z-index:2;position:relative}.panel[data-v-3d35383d]{background-color:#002b36;color:var(--color-bg)}.bar[data-v-3d35383d]{border-bottom:1px solid var(--color-bg)}.terminal-container[data-v-3d35383d]{margin:.5rem;width:calc(100% - 1rem);height:calc(100% - 5rem);box-sizing:border-box;color:#cce4f5}.small-button[data-v-3d35383d]{color:#cce4f5}</style>
  </head>
  <body>
    <div id="app"></div>
  </body>
</html>
